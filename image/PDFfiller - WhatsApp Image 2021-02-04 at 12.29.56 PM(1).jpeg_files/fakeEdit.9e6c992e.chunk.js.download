(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[8],{1469:function(e,t,n){var r=n(1470),o=n(333),i=n(452),a=n(455);e.exports=function(e,t,n){e=a(e);var u=(t=i(t))?o(e):0;return t&&u<t?r(t-u,n)+e:e}},1470:function(e,t,n){var r=n(1471),o=n(664),i=n(1472),a=n(336),u=n(333),c=n(1473),l=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":o(t)).length;if(n<2)return n?r(t,e):t;var f=r(t,l(e/u(t)));return a(t)?i(c(f),0,e).join(""):f.slice(0,e)}},1471:function(e,t,n){e.exports=n(14)(876)},1472:function(e,t,n){e.exports=n(14)(359)},1473:function(e,t,n){e.exports=n(14)(361)},1474:function(e,t,n){e.exports=n(14)(871)},1475:function(e,t,n){var r=n(537),o=n(665),i=Object.prototype.hasOwnProperty,a=o(function(e,t,n){i.call(e,n)?++e[n]:r(e,n,1)});e.exports=a},830:function(e,t,n){"use strict";n.r(t);var r,o=n(0),i=n.n(o),a=n(55),u=n(410),c=n(12),l=n(2),f=n(22);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={},v=Object(a.connect)(function(e){return{fakeEditHint:c.a.locale.getEditorLocale(e).fakeEditHint}},{setMessage:l.wb})(r=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=d(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==s(o)&&"function"!=typeof o?h(r):o,y(h(n),"onMouseEnter",function(){n.props.setMessage(n.props.fakeEditHint.text)}),y(h(n),"onMouseLeave",function(){n.props.setMessage("")}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){return this.props.children(f.d.app.showFakeEditFrame?{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}:g)}}])&&p(n.prototype,r),i&&p(n,i),t}())||r,m=n(23),O=n.n(m);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=j(t).call(this,e),n=!o||"object"!==w(o)&&"function"!=typeof o?x(r):o,P(x(n),"initComponent",function(){var e=n.props,t=e.highlightItem,r=e.scale,o=e.pdfScale,i=t.width*r*o,a=parseInt(getComputedStyle(n.wrapperNode).width,10);n.setState({scaleX:i/a,isInited:!0})}),P(x(n),"storeWrapperNodeRef",function(e){n.wrapperNode=e}),n.state={isInited:!1,scaleX:1},n.wrapperNode=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.initComponent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.highlightItem!==e.highlightItem&&this.setState({isInited:!1,scaleX:1})}},{key:"componentDidUpdate",value:function(){this.state.isInited||this.initComponent()}},{key:"render",value:function(){var e=this.state.scaleX;return this.props.children({storeWrapperNodeRef:this.storeWrapperNodeRef,scaleX:e})}}])&&S(n.prototype,r),i&&S(n,i),t}();P(E,"contextTypes",{store:O.a.shape({getState:O.a.func.isRequired}).isRequired});var C,_=n(6),I=n.n(_),F=n(16),R=n(7),M=function(e){var t=e.highlightItem,n=e.scale,r=e.pdfScale,o=e.scaleX,i=t.x,a=t.y,u=t.height,c=n*r;return{left:i*c,top:a*c,width:t.width*c,height:u*c,transform:"scaleX(".concat(o,")"),transformOrigin:"0 ".concat(u*c,"px")}};function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=z(t).call(this,e),n=!o||"object"!==A(o)&&"function"!=typeof o?T(r):o,N(T(n),"onMouseEnterOnButton",function(){n.setState({isOutlineShown:!0})}),N(T(n),"onMouseLeaveOnButton",function(){n.setState({isOutlineShown:!1})}),N(T(n),"onClick",function(e){Object(F.gb)(e),n.props.doFontRecognize(e)}),N(T(n),"onDoubleClick",function(e){Object(F.gb)(e),n.props.doFontRecognize(e,{saveCaretPosition:!0})}),n.state={isOutlineShown:f.d.app.showFakeEditFrame},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.highlightItem,n=e.scale,r=e.pdfScale,o=e.scaleX,a=I()("searchHighlighter","fakeEditHighlighter",{emptyHighlighter:!f.d.app.showFakeEditFrame},N({},R.Y,f.d.app.showFakeEditFrame),{outlineHighlighter:!f.d.app.showFakeEditFrame&&this.state.isOutlineShown});return i.a.createElement("div",{className:a,style:M({highlightItem:t,scale:n,pdfScale:r,scaleX:o}),ref:this.props.storeWrapperNodeRef,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onDoubleClick:f.d.app.showFakeEditFrame?this.onDoubleClick:null},function(e,t,n,r){C||(C="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];t.children=a}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:C,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("button",{type:"button",className:I()("jsf-fillable__button i i-pen-edit",R.Vb),onClick:this.onClick,onMouseEnter:f.d.app.showFakeEditFrame?null:this.onMouseEnterOnButton,onMouseLeave:f.d.app.showFakeEditFrame?null:this.onMouseLeaveOnButton}))}}])&&D(n.prototype,r),a&&D(n,a),t}(),B=n(31),H=n(505),q=n(24),X=n.n(q),G=n(8),Z=n(5),$=n(38),U=n(70),K=n.n(U),V=n(334),Y=n.n(V),J=n(469),Q=n.n(J),ee=n(51),te=n.n(ee),ne=n(195),re=n.n(ne),oe=n(124),ie=n.n(oe),ae=n(145),ue=n.n(ae),ce=n(1469),le=n.n(ce),fe=n(1474),se=n.n(fe),pe=n(1475),de=n.n(pe);function he(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var be=function(e){var t=e%1e3,n=(e-t)/1e3%1e3;return{red:Math.trunc(e/1e6),green:n,blue:t}},ye=function(e){return 1e6*e.red+1e3*e.green+e.blue},ge=function(e){var t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n).data;return K()(Array(n),null).map(function(e,n){return K()(Array(t),null).map(function(e,o){return{red:r[n*t*4+4*o],green:r[n*t*4+4*o+1],blue:r[n*t*4+4*o+2]}})})},ve=function(e){var t=function(e){for(var t=e.length/2,n={},r=0;r<e.length;++r)for(var o=e[r],i=0;i<o.length;++i){var a=ye(e[r][i]);if(n[a]){var u=n[a],c=u.count,l=u.distance;n[a]={count:c+1,distance:l+Math.abs(r-t)}}else n[a]={count:1,distance:Math.abs(r-t)}}for(var f=[],s=Object.keys(n),p=0;p<s.length;p++){var d=s[p],h=n[d],b=h.count,y=h.distance;f.push({encodedColor:d,count:b,averageDistance:y/b})}return f}(e),n=Y()(t,function(e){return e.count}),r=Y()(t,function(e){return e===n?-1:e.count});return{mostFrequent:n,secondFrequent:r}},me=function(e){for(var t=function(e,t){var n,r,o,i=de()(e,ye),a=(n=i,r=0,o=null,se()(n,function(e,t){t>r&&(r=t,o=e)}),{maxKey:o,maxVal:r}),u=a.maxVal;return a.maxKey/e.length>.9?{rowIndex:t,color:be(u)}:null},n=[],r=0;r<e.length;r++)n.push(t(e[r],r));for(var o=0;o<n.length;o++)null===n[o]&&(n.splice(o,1),o-=1);for(var i={},a=0;a<n.length;a++){var u=ye(n[a].color);i[u]=i[u]?i[u]+1:1}return i},Oe=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u,c,l,f,s,p,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.pageId,o=t.item,e.next=3,Object(H.c)({state:n,pageId:r,highlightItem:o,desiredHeight:100});case 3:if(i=e.sent,a=ge(i),u=ve(a),c=u.mostFrequent,l=u.secondFrequent,f=me(a),!((s=Object.keys(f)).length>0)){e.next=11;break}return p=Y()(s,function(e){return f[e]}),e.abrupt("return",{backgroundColor:be(p),textColor:c.encodedColor===p?be(l.encodedColor):be(c.encodedColor)});case 11:return d=c.averageDistance>l.averageDistance?be(c.encodedColor):be(l.encodedColor),h=c.averageDistance<l.averageDistance?be(c.encodedColor):be(l.encodedColor),e.abrupt("return",{backgroundColor:d,textColor:h});case 14:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){he(i,r,o,a,u,"next",e)}function u(e){he(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();function we(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Se(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var je=function(e){var t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n).data;return K()(Array(n),null).map(function(e,n){return K()(Array(t),null).map(function(e,o){return{red:r[n*t*4+4*o],green:r[n*t*4+4*o+1],blue:r[n*t*4+4*o+2]}})})},xe=function(e){return e.map(function(t,n){return 0===n?0:t-e[n-1]})},ke=function(e){var t=te()(e,function(e){return Math.abs(e.value)>.08}),n=re()(e,function(e){return Math.abs(e.value)>.08});return{capline:t,baseline:n===t?e.length:n}},Pe=function(e){var t=e[0].length,n=e.length;return K()(Array(n),null).map(function(n,r){var o=K()(Array(t),null).reduce(function(t,n,o){var i=e[r][o],a=i.red,u=i.green,c=i.blue;return{red:t.red+a,green:t.green+u,blue:t.blue+c}},{red:0,green:0,blue:0});return{red:o.red/t,green:o.green/t,blue:o.blue/t}})},Ee=function(e){return e.map(function(e){return(e.red+e.green+e.blue)/765})},Ce=function(e){return e.map(function(e,t){return{value:e,index:t}})},_e=function(e){return e.map(function(e){return e.value})},Ie=function(e){var t=Math.max.apply(Math,Se(e));return e.map(function(e){return e/t})},Fe=function(e){return function(t){var n=t[0];return[].concat(Se(t.slice(0,e)),Se(K()(Array(t.length-e),n)))}},Re=function(e){var t=e.reduce(function(e,t){if(0!==t.value){var n=te()(e,function(e){return t.index>=e.start-1&&t.index<=e.end+1});return-1===n?[].concat(Se(e),[{start:t.index,end:t.index}]):[].concat(Se(e.slice(0,n)),[{start:Math.min(e[n].start,t.index),end:Math.max(e[n].end,t.index)}],Se(e.slice(n+1)))}return e},[]),n=Y()(t,function(e){return e.end-e.start});return{start:n.start-1,end:n.end+1}},Me=function(e,t){return e.map(function(e){var n=e[0];return void 0===X()(e,function(e){return!ue()(e,n)})?K()(Array(e.length),t):e})},Ae=function(e){var t=e.red,n=e.green,r=e.blue;return le()(t.toString(16),2,"0")+le()(n.toString(16),2,"0")+le()(r.toString(16),2,"0")},De=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u,c,l,f,s,p,d,h,b,y,g,v,m,O,w,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.pageId,o=t.item,e.next=3,Object(H.c)({state:n,pageId:r,highlightItem:o});case 3:return i=e.sent,a=je(i),e.next=7,Oe({state:n,pageId:r,item:o});case 7:if(u=e.sent,c=u.backgroundColor,l=u.textColor,f=Me(a,c),s=ie()([Pe,Ee,Ie])(f),p=ie()(xe,Ie)(s),d=!1,h=Ce(p),b=Y()(h,"value"),(y=Q()(h,"value"))&&b){e.next=19;break}return e.abrupt("return",null);case 19:return g=p.length*(2/3),.95,Math.abs(b.value)>.95&&b.index>g&&Math.abs(y.value)>.95&&y.index>g&&(d=!0,h=ie()([_e,Ie,Ce,Fe(Math.min(b.index,y.index))])(h)),v=Re(h),m=ie()(_e,Ie,Ce)(h.slice(v.start,v.end)),O=ke(m),w=O.baseline,S=O.capline,e.abrupt("return",{baseline:w+v.start,capline:S+v.start,height:i.height,underline:d,backgroundColor:Ae(c),textColor:Ae(l)});case 26:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){we(i,r,o,a,u,"next",e)}function u(e){we(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function(e){var t=e.text,n=e.fontFamily,r=e.bold,o=e.italic,i=e.maxWidth;var a=document.createElement("span");Object.assign(a.style,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(n,!0).forEach(function(t){Te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({position:"absolute",display:"inline-block",whiteSpace:"pre",paddingLeft:"3px",paddingRight:"3px",top:"-500px"},n&&{fontFamily:n},{},r&&{fontWeight:"bold"},{},o&&{fontStyle:"italic"})),a.innerText=t,document.body.appendChild(a);var u=function e(t){var n=t.span,r=t.goodFontSize,o=t.badFontSize,i=t.maxWidth;if(o-r<.1){var a=n.getBoundingClientRect();return{fontSize:r,width:a.width,height:a.height}}return Object.assign(n.style,{fontSize:"".concat((r+o)/2,"px")}),e(n.getBoundingClientRect().width<=i?{span:n,goodFontSize:(r+o)/2,badFontSize:o,maxWidth:i}:{span:n,goodFontSize:r,badFontSize:(r+o)/2,maxWidth:i})}({span:a,maxWidth:i,goodFontSize:0,badFontSize:512});return document.body.removeChild(a),u};function Ne(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(n,!0).forEach(function(t){He(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe,Xe,Ge,Ze=H.a.ArialUnicodeMS,$e=function(e){var t=e.highlightItem,n=e.id,r=e.pageId,o=e.pdfScale,i=e.linkedTextId,a=e.backgroundColor,u=t.x,c=t.y,l=t.width,f=t.height,s=f,p=s/2,d=[(u+p)*o,(c+p)*o,(u+l-p)*o,(c+f-p)*o];return{pageId:r,type:Z.d.erase,subType:Z.c.none,content:{brushType:R.x.brush,fillColor:a,x:u*o,y:c*o,width:l*o,height:f*o,lineWidth:s*o,controlPoints:d,linkedTextId:i},id:n}},Ue=function(e){var t=e.highlightItem,n=e.fontObj,r=e.pdfScale,o=e.fontGeometry,i=function(e){var t=e.highlightItem,n=e.fontObj,r=e.pdfScale,o=e.fontGeometry,i=t.width,a=t.height,u=X()(R.Z,["value",n.fontFamily]);u||(u=X()(R.Z,["value",Ze.fontFamily]));var c=o.baseline-o.capline;return{width:i*r,height:a/(1+R.Zb)*r,fontSize:c*r}}({highlightItem:t,fontObj:n,pdfScale:r,fontGeometry:o}),a=function(e){var t=e.highlightItem,n=e.fontObj,r=e.pdfScale,o=t.text,i=X()(R.Z,["value",n.fontFamily]);i||(i=X()(R.Z,["value",Ze.fontFamily]));var a=Le(Be({text:o},n,{maxWidth:t.width*r}));return{width:a.width,height:a.height,fontSize:a.fontSize}}({highlightItem:t,fontObj:n,pdfScale:r,fontGeometry:o});return a.fontSize>i.fontSize?i:a},Ke=function(e){var t=e.highlightItem,n=e.defaultContent,r=e.pageId,o=e.fontObj,i=e.pdfScale,a=e.id,u=e.fontGeometry,c=e.linkedEraseId,l=t.x,f=t.y,s=t.text,p=X()(R.Z,["value",o.fontFamily]);p||(p=X()(R.Z,["value",Ze.fontFamily]));var d=Ue({highlightItem:t,fontObj:o,pdfScale:i,fontGeometry:u}),h=d.width,b=d.height,y=d.fontSize;return{pageId:r,type:Z.d.text,subType:Z.c.text.overlying,id:a,content:Be({},n,{fontColor:u.textColor,align:"left",valign:"top",x:l*i,y:f*i,width:h,height:b,text:s,fontSize:y,fontFamily:o.fontFamily,bold:o.bold,italic:o.italic,underline:u.underline,linkedEraseId:c})}},Ve=function(e){var t=e.caretPositionOptions,n=e.highlightItem,r=e.recognizedFont,o=e.pageId,i=e.pdfScale;return function(){var e,a=(e=regeneratorRuntime.mark(function e(a,u){var f,s,p,d,h,b,y,g,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=u(),s=r.fontName,p=s&&H.a[s]||Ze,e.next=5,Object(H.e)(p);case 5:return e.next=7,De({state:f,pageId:o,item:n});case 7:if(d=e.sent){e.next=10;break}return e.abrupt("return");case 10:h=c.a.fakeEdit.getFakeEditTextDefaults(f),b=c.a.base.getGhostElement(f),y=Object(G.getNextElementId)(b.id),g=Object(G.getNextElementId)(y),t&&a(c.b.saveCaretPosition(Be({},t,{id:y}))),v=Ke({highlightItem:n,defaultContent:h,pageId:o,fontObj:p,pdfScale:i,id:y,linkedEraseId:g,fontGeometry:d}),m=$e({highlightItem:n,pageId:o,pdfScale:i,id:Object(G.getNextElementId)(y),linkedTextId:y,backgroundColor:d.backgroundColor}),a(Object(l.j)([m,v],Be({},$.k,{dontUpdateDefaults:!0}))),a(c.b.setActiveElement(y,!0));case 19:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ne(i,r,o,a,u,"next",e)}function u(e){Ne(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e,t){return a.apply(this,arguments)}}()},Ye=function(e){var t=e.target.getBoundingClientRect().left;return e.clientX-t};function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function et(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Qe(i,r,o,a,u,"next",e)}function u(e){Qe(i,r,o,a,u,"throw",e)}a(void 0)})}}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at,ut=Object(a.connect)(function(e){return{pdfScale:c.a.base.getPdfScale(e)}},{doFakeEdit:Ve,showBusyLocker:B.Z,hideBusyLocker:B.D})((Ge=Xe=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=nt(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Je(o)&&"function"!=typeof o?rt(r):o,it(rt(n),"saveCaretPositionOptions",function(e){var t=n.props,r=t.highlightItem,o=t.pdfScale,i=r.text,a=r.width*o,u=Ye(e);n.caretPositionOptions={clickPositionFromStart:u,itemWidth:a,text:i}}),it(rt(n),"doFontRecognize",function(){var e=et(regeneratorRuntime.mark(function e(t){var r,o,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.length>1&&void 0!==a[1]?a[1]:{},o=n.context.store,i=n.props.highlightItem,r.saveCaretPosition&&n.saveCaretPositionOptions(t),n.props.showBusyLocker(),Object(H.f)({store:o,item:i}).then(n.doFakeEdit).catch(n.onFontRecognizeError);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),it(rt(n),"doFakeEdit",function(){var e=et(regeneratorRuntime.mark(function e(t){var r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props,o=r.pageId,i=r.highlightItem,a=r.pdfScale,n.props.doFakeEdit({highlightItem:i,recognizedFont:t,pageId:o,pdfScale:a,caretPositionOptions:n.caretPositionOptions}),n.props.hideBusyLocker();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),it(rt(n),"onFontRecognizeError",function(){var e=H.a.Arial;n.doFakeEdit(e)}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){return this.props.children({doFontRecognize:this.doFontRecognize,scale:1,pdfScale:this.props.pdfScale})}}])&&tt(n.prototype,r),i&&tt(n,i),t}(),it(Xe,"contextTypes",{store:O.a.shape({getState:O.a.func.isRequired,subscribe:O.a.func.isRequired,dispatch:O.a.func.isRequired}).isRequired}),qe=Ge))||qe;function ct(e,t,n,r){at||(at="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];t.children=a}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:at,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var lt,ft,st=function(e){return function(t){var n=Object(u.a)(t);return ct(ut,{highlightItem:t,pageId:e},n,function(e){var n=e.doFontRecognize,r=e.scale,o=e.pdfScale;return ct(v,{},void 0,function(e){var i=e.onMouseEnter,a=e.onMouseLeave;return ct(E,{highlightItem:t,scale:r,pdfScale:o},void 0,function(e){var u=e.storeWrapperNodeRef,c=e.scaleX;return ct(W,{highlightItem:t,storeWrapperNodeRef:u,scale:r,scaleX:c,doFontRecognize:n,pdfScale:o,onMouseEnter:i,onMouseLeave:a})})})})}};function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gt,vt=Object(a.connect)(function(e,t){var n=t.pageId;return function(e){return{textContentForRender:Object(u.c)(e,n)}}})(lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ht(this,bt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.textContentForRender,n=e.pageId;return t&&0!==t.length?function(e,t,n,r){ft||(ft="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];t.children=a}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:ft,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:"pdfTextLayer"},void 0,t.map(st(n))):null}}])&&dt(n.prototype,r),i&&dt(n,i),t}())||lt,mt=n(3),Ot=n.n(mt),wt=n(36);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t,n,r){gt||(gt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];t.children=a}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:gt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=kt(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==St(o)&&"function"!=typeof o?Pt(r):o,Ct(Pt(n),"setActiveElementWithPropsId",function(){var e=n.context.store,t=n.props.id;e.dispatch(Object(l.rb)(t,!0))}),Ct(Pt(n),"saveCaretPosition",function(e){var t=n.context.store,r=n.props,o=r.id,i=r.width,a=t.getState(),u=c.a.elements.getElementByIdFactory(o)(a),l=Ot()(u,"content.text",""),f=Ye(e);t.dispatch(c.b.saveCaretPosition({clickPositionFromStart:f,id:o,itemWidth:i,text:l}))}),Ct(Pt(n),"onDoubleClick",function(e){Object(F.gb)(e),n.saveCaretPosition(e),n.setActiveElementWithPropsId()}),Ct(Pt(n),"onPencilClick",function(e){Object(F.gb)(e),n.context.store.dispatch(Object(wt.f)()),n.setActiveElementWithPropsId()}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.height,o=t.children,i=t.isActiveElement,a=t.isDisabled,u=I()("searchHighlighter","fakeEditHighlighter",R.Y);return i||a?o:jt(v,{},void 0,function(t){var i=t.onMouseEnter,a=t.onMouseLeave;return jt("div",{className:u,style:{width:n,height:r},onDoubleClick:e.onDoubleClick,onMouseEnter:i,onMouseLeave:a},void 0,jt("button",{type:"button",className:I()("jsf-fillable__button i i-pen-edit",R.Vb),onClick:e.onPencilClick}),o,jt("div",{className:"fakeEditHoverBlocker",onClick:F.gb}))})}}])&&xt(n.prototype,r),i&&xt(n,i),t}();Ct(_t,"defaultProps",{isActiveElement:!1}),Ct(_t,"contextTypes",{store:O.a.shape({dispatch:O.a.func.isRequired}).isRequired});t.default={components:{FakeEditLayer:vt,FakeEditTextToolWrapper:_t}}}}]);
//# sourceMappingURL=fakeEdit.9e6c992e.chunk.js.map