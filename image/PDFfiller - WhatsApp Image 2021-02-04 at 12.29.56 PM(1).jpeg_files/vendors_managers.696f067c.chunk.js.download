(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[18],Array(833).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")},e.exports=t.default},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smSetError=t.smOpenEditor=t.smOpenEditorPreview=t.setAddressBookApiRest=t.getContactPhoneNumber=t.getContactEmail=t.mobileSignatureResend=t.setMobileSignatureMethod=t.saveEmail=t.savePhoneNumber=t.sendEmail=t.sendPhoneNumber=t.setQrUrl=t.getQrUrl=t.setApiRest=t.disableWebcam=t.checkWebcamAvailability=t.uploadSignatureImage=t.uploadImage=t.smSetOriginalImage=t.smMobileSignLoading=t.smNotarize=t.smCapture=t.smUploading=t.smMobileUploader=t.smUploader=t.smSetInitialSignature=t.smSaveSignature=t.smDrawComponentUpdateHistoryPoint=t.smTypeSignature=t.smDraw=t.smEmail=t.smSMS=t.smQR=t.smGallery=t.smChooseSignature=t.smSetDrawConfig=t.smEdit=t.smInitial=t.closeSignature=t.clearErrors=t.setError=t.setUploadedPercent=t.capture=t.uploading=t.mobileUploader=t.uploader=t.edit=t.initial=void 0;var a=n(977),o=n(839);t.initial=function(){return{type:a.actionTypes.INITIAL}},t.edit=function(){return{type:a.actionTypes.EDIT}},t.uploader=function(){return{type:a.actionTypes.UPLOADER}},t.mobileUploader=function(e){return{type:a.actionTypes.MOBILE_UPLOADER,targetFiles:e}},t.uploading=function(){return{type:a.actionTypes.UPLOADING}},t.capture=function(){return{type:a.actionTypes.CAPTURE}},t.setUploadedPercent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:a.actionTypes.SET_UPLOADED_PERCENT,percent:e}},t.setError=function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:a.actionTypes.ERROR_SET,error:e}},t.clearErrors=function(){return{type:a.actionTypes.ERRORS_CLEAN}},t.closeSignature=function(){return{type:a.actionTypes.CLOSE_SIGNATURE}},t.smInitial=function(){return{type:a.actionTypes.SM_INITIAL}},t.smEdit=function(e){switch(e){case o.SUB_TYPES.text:return{type:a.actionTypes.SM_TEXT_EDIT};case o.SUB_TYPES.curve:return{type:a.actionTypes.SM_CURVE_EDIT};case o.SUB_TYPES.image:return{type:a.actionTypes.SM_IMAGE_EDIT};default:return{type:a.actionTypes.SM_TEXT_EDIT}}},t.smSetDrawConfig=function(e){return{type:a.actionTypes.SM_SET_DRAW_CONFIG,config:e}},t.smChooseSignature=function(){return{type:a.actionTypes.SM_CHOOSE_SIGNATURE}},t.smGallery=function(){return{type:a.actionTypes.SM_GALLERY}},t.smQR=function(){return{type:a.actionTypes.SM_QR}},t.smSMS=function(){return{type:a.actionTypes.SM_SMS}},t.smEmail=function(){return{type:a.actionTypes.SM_EMAIL}},t.smDraw=function(){return{type:a.actionTypes.SM_DRAW}},t.smTypeSignature=function(){return{type:a.actionTypes.SM_TYPE_SIGNATURE}},t.smDrawComponentUpdateHistoryPoint=function(e){return{type:a.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT,drawConfig:e}},t.smSaveSignature=function(e,t){return{type:a.actionTypes.SM_SIGNATURE_SAVE,signature:e,drawConfig:t}},t.smSetInitialSignature=function(e){return{type:a.actionTypes.SM_SET_INITIAL_SIGNATURE,signature:e}},t.smUploader=function(){return{type:a.actionTypes.SM_UPLOADER}},t.smMobileUploader=function(){return{type:a.actionTypes.SM_MOBILE_UPLOADER}},t.smUploading=function(){return{type:a.actionTypes.SM_UPLOADING}},t.smCapture=function(){return{type:a.actionTypes.SM_CAPTURE}},t.smNotarize=function(e){return{type:a.actionTypes.SM_NOTARIZE,notarizeLocation:e}},t.smMobileSignLoading=function(){return{type:a.actionTypes.SM_MOBILE_SIGN_LOADING}},t.smSetOriginalImage=function(e){return{type:a.actionTypes.SM_SET_ORIGINAL_IMAGE,image:e}},t.uploadImage=function(e,t,n,o){return{type:a.actionTypes.LAUNCH_UPLOAD_IMAGE,data:e,dimensions:t,callback:n,percentCallback:o}},t.uploadSignatureImage=function(e,t,n){return{type:a.actionTypes.SM_LAUNCH_UPLOAD_IMAGE,data:e,dimensions:t,callback:n}},t.checkWebcamAvailability=function(){return{type:a.actionTypes.CHECK_WEBCAM_AVAILABILITY}},t.disableWebcam=function(){return{type:a.actionTypes.DISABLE_WEBCAM}},t.setApiRest=function(e){return{type:a.actionTypes.API_REST_SET,config:e}},t.getQrUrl=function(){return{type:a.actionTypes.SM_GET_QR_URL}},t.setQrUrl=function(e){return{type:a.actionTypes.SM_SET_QR_URL,url:e}},t.sendPhoneNumber=function(){return{type:a.actionTypes.SM_SEND_PHONE_NUMBER}},t.sendEmail=function(){return{type:a.actionTypes.SM_SEND_EMAIL}},t.savePhoneNumber=function(e){return{type:a.actionTypes.SM_SAVE_PHONE_NUMBER,number:e}},t.saveEmail=function(e){return{type:a.actionTypes.SM_SAVE_EMAIL,email:e}},t.setMobileSignatureMethod=function(e){return{type:a.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD,method:e}},t.mobileSignatureResend=function(){return{type:a.actionTypes.SM_MOBILE_SIGNATURE_RESEND}},t.getContactEmail=function(e){return{type:a.actionTypes.SM_GET_CONTACT_EMAIL,contact:e}},t.getContactPhoneNumber=function(e){return{type:a.actionTypes.SM_GET_CONTACT_PHONE_NUMBER,contact:e}},t.setAddressBookApiRest=function(e){return{type:a.actionTypes.SM_SET_ADDRESSBOOK_API_REST,apiRest:e}},t.smOpenEditorPreview=function(){return{type:a.actionTypes.SM_EDITOR_PREVIEW_OPEN}},t.smOpenEditor=function(){return{type:a.actionTypes.SM_EDITOR_OPEN}},t.smSetError=function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:a.actionTypes.SM_ERROR_SET,error:e}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HD_CAMERA_CONSTRAINTS=t.CHAR_CODES=t.EDIT_TOOLS=t.METHODS_LIST=t.modalIds=t.DROPZONE_CONFIG=t.RENDER=t.QR_PROPS=t.IMAGES=t.FONTS=t.DRAW_OPTIONS=t.SUB_TYPES=t.MODES=t.MODE_TYPES=t.LOCALE=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1299)),o=n(919),r=n(1300),i=m(n(1145)),s=m(n(1301)),l=m(n(1044)),d=m(n(1302)),u=m(n(1303)),c=m(n(1304)),p=m(n(1305)),h=m(n(1306)),f=m(n(1307));function m(e){return e&&e.__esModule?e:{default:e}}t.LOCALE=a,t.MODE_TYPES=o.MODE_TYPES,t.MODES=r.MODES,t.SUB_TYPES=i.default,t.DRAW_OPTIONS=s.default,t.FONTS=l.default,t.IMAGES=d.default,t.QR_PROPS=u.default,t.RENDER=c.default,t.DROPZONE_CONFIG=p.default,t.modalIds=h.default,t.METHODS_LIST=f.default,t.EDIT_TOOLS={crop:"crop"},t.CHAR_CODES={enter:13,space:32},t.HD_CAMERA_CONSTRAINTS={width:1080,height:720}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={ADDRESSBOOK_ADDRESS_BOOK:"AddressBook",ADDRESSBOOK_UNDEFINED:"undefined",ADDRESSBOOK_FUNCTION:"function",ADDRESSBOOK_NUMBER:"number",ADDRESSBOOK_STRING:"string",ADDRESSBOOK_LENGTH:"length",ADDRESSBOOK_MODE_TYPE_INITIAL:"initial",ADDRESSBOOK_MODE_TYPE_LIST:"list",ADDRESSBOOK_FIELD_NAME:"name",ADDRESSBOOK_FIELD_NAME_MOBILE:"name-mob",ADDRESSBOOK_FIELD_EMAIL:"email",ADDRESSBOOK_FIELD_EMAIL_MOBILE:"email-mob",ADDRESSBOOK_FIELD_PHONE:"phone",ADDRESSBOOK_FIELD_PHONE_MOBILE:"phone-mob",ADDRESSBOOK_FIELD_FAX:"fax",ADDRESSBOOK_EDITABLE_FIELDS:["name","email","phone","fax"],ADDRESSBOOK_FIELD_FAX_MOBILE:"fax-mob",ADDRESSBOOK_FIELD_MOBILE_PREFIX:"-mob",ADDRESSBOOK_FIELD_SEARCH:"search",ADDRESSBOOK_MODAL_ACTION_EDIT:"edit",ADDRESSBOOK_MODAL_ACTION_ADD:"add",ADDRESSBOOK_MODAL_SEARCH:"search",ADDRESSBOOK_DROPDOWN_SHOW:"show",ADDRESSBOOK_DROPDOWN_HIDE:"hide",ADDRESSBOOK_DROPDOWN_TYPE_SORT:"sort",ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:"import",ADDRESSBOOK_DROPDOWN_TYPE_EDIT:"edit",ADDRESSBOOK_FILTER_TOGGLE_OR:"or",ADDRESSBOOK_FILTER_TOGGLE_AND:"and",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_MATH_MAX:"max",ADDRESSBOOK_MATH_MIN:"min",ADDRESSBOOK_REGEXP_NAME:/^(.*\S.*)$/,ADDRESSBOOK_REGEXP_PHONE:/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,ADDRESSBOOK_REGEXP_EMAIL:/^([\w\.!#\$%&'\*\+-/=\?\^_`\{\|}~]+[0-9a-zA-Z_-]+@[a-zA-Z_-]+?\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,6})?)$/,ADDRESSBOOK_REGEXP_NUMBER:/\{\*number\*\}/gi,ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH:800,ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT:600,ADDRESSBOOK_MODAL_WIDTH:300,ADDRESSBOOK_MODAL_HEIGHT:248,ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT:748,ADDRESSBOOK_DIALOG_TIMEOUT:2e3,ADDRESSBOOK_BLOCK_POINT_DELAY:450,ADDRESSBOOK_MOBILE_VIEW_TYPE:"mobile",ADDRESSBOOK_DESKTOP_VIEW_TYPE:"desktop",ADDRESSBOOK_MOBILE_VIEW_CLASS:"hold-screen",ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH:"IMPORT_CONTACTS_FINISH",ADDRESSBOOK_MMC_TYPE_ALERT:"ALERT",ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN:"CLEAR_TOKEN",ADDRESSBOOK_DIALOG_TYPE_SUCCESS:"success",ADDRESSBOOK_DIALOG_TYPE_WARNING:"warning",ADDRESSBOOK_DIALOG_SIZE_SM:"sm",ADDRESSBOOK_SEARCH_FIELD:"searchField",ADDRESSBOOK_LOGIN_URL:"/en/login.htm?msg=logout"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditedImage=t.getIsCropEnabled=t.getSignatureManagerLocale=t.getImageManagerLocale=void 0;var a,o=n(3),r=(a=o)&&a.__esModule?a:{default:a},i=n(839);t.getImageManagerLocale=function(e){return e.locale.imageManager},t.getSignatureManagerLocale=function(e){return e.locale.signatureManager},t.getIsCropEnabled=function(e){return(0,r.default)(e,"signatureEditor.selectedTool","")===i.EDIT_TOOLS.crop},t.getEditedImage=function(e){return(0,r.default)(e,"signatureEditor.image","")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWindowType=void 0,t.wsConnectionOn=r,t.initCustom=i,t.setContacts=s,t.setInitialMode=l,t.setLocal=d,t.setSinglePage=function(){return{type:a.actionTypes.SET_SINGLE_PAGE}},t.setFieldsMask=u,t.setActiveRows=c,t.setFilterMask=p,t.setFilterToggle=h,t.closeModal=f,t.openDialog=m,t.closeDialog=E,t.handleChange=S,t.addContact=_,t.editContact=v,t.clickOnContact=g,t.doubleClickOnContact=T,t.selectAllContacts=b,t.unselectAllContacts=y,t.selectContactUp=function(){return{type:a.actionTypes.SELECT_CONTACT_UP}},t.selectContactDown=function(){return{type:a.actionTypes.SELECT_CONTACT_DOWN}},t.deleteSelectedContacts=C,t.deleteAllContacts=O,t.sortContacts=M,t.searchContacts=A,t.searchUpdate=function(e){return{type:a.actionTypes.SEARCH_UPDATE,searchBy:e}},t.clearSearch=D,t.dropdownToggle=I,t.importEmail=w,t.onResizeWindow=R,t.handleErrorModal=P,t.handleAlertModal=N,t.handleSavingContact=L,t.handleSearchField=function(e){return{type:a.actionTypes.HANDLE_SEARCH_FIELD,handler:e}},t.handleBlockPoint=k,t.setWsConnect=B;var a=n(1039),o=n(842);function r(e){return{type:a.actionTypes.WS_CONNECTION_ON,wsConnectObj:e}}function i(e,t,n){return{type:a.actionTypes.INIT_CUSTOM,baseUrl:e,appKey:t,userCredentials:n}}function s(e){return{type:a.actionTypes.SET_CONTACTS,contacts:e}}function l(){return{type:a.actionTypes.SET_INITIAL_MODE}}function d(e){return{type:a.actionTypes.SET_LOCAL,local:e}}function u(e){return{type:a.actionTypes.SET_FIELDS_MASK,fieldsMask:e}}function c(e){return{type:a.actionTypes.SET_ACTIVE_ROWS,activeRows:e}}function p(e){return{type:a.actionTypes.SET_FILTER_MASK,filterMask:e}}function h(e){return{type:a.actionTypes.SET_FILTER_TOGGLE,filterToggle:e}}function f(){return{type:a.actionTypes.CLOSE}}function m(e){return{type:a.actionTypes.OPEN_DIALOG,contactActionType:e}}function E(){return{type:a.actionTypes.CLOSE_DIALOG}}function S(e,t,n){return{type:a.actionTypes.HANDLE_CHANGE,value:e,inputType:t,isCorrect:n}}function _(e){return{type:a.actionTypes.ADD_CONTACT,newContact:e}}function v(){return{type:a.actionTypes.EDIT_CONTACT}}function g(e,t,n,o){return n?{type:a.actionTypes.CLICK_ROW_SHIFT,contactID:e,selectMax:o}:t?{type:a.actionTypes.CLICK_ROW_CTRL,contactID:e,selectMax:o}:{type:a.actionTypes.CLICK_ROW,contactID:e}}function T(e){return{type:a.actionTypes.DOUBLE_CLICK_ROW,contactID:e}}function b(){return{type:a.actionTypes.SELECT_ALL}}function y(){return{type:a.actionTypes.UNSELECT_ALL}}function C(){return{type:a.actionTypes.DELETE_SELECTED}}function O(){return{type:a.actionTypes.DELETE_ALL}}function M(e,t){return{type:a.actionTypes.SORT_CONTACTS,sortBy:e,sortDirection:t}}function A(e,t){return{type:a.actionTypes.SEARCH_CONTACTS,searchBy:e,fieldsMask:t}}function D(){return{type:a.actionTypes.CLEAR_SEARCH}}function I(e,t){switch(e){case o.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:return{type:a.actionTypes.TOGGLE_IMPORT,dropdownToggle:t};case o.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT:return{type:a.actionTypes.TOGGLE_EDIT,dropdownToggle:t}}}function w(e,t){return{type:a.actionTypes.IMPORT_EMAIL,url:e,props:t}}function R(e){return{type:a.actionTypes.ON_RESIZE_WINDOW,viewType:e}}function P(e){return{type:a.actionTypes.HANDLE_ERROR_MODAL,errorModalOpen:e}}function N(e){return{type:a.actionTypes.HANDLE_ALERT_MODAL,alertModalOpen:e}}function L(e){return{type:a.actionTypes.HANDLE_SAVING_CONTACT,saved:e}}function k(e){return{type:a.actionTypes.HANDLE_BLOCK_POINT,handler:e}}function B(e,t){return{type:a.actionTypes.SET_WS_CONNECT,connect:e,baseUrl:t}}var x=t.setWindowType=function(){return{type:a.actionTypes.SET_WINDOW_TYPE}};t.default={wsConnectionOn:r,initCustom:i,setContacts:s,setLocal:d,setFieldsMask:u,setActiveRows:c,setFilterMask:p,setFilterToggle:h,closeModal:f,openDialog:m,closeDialog:E,handleChange:S,addContact:_,clickOnContact:g,doubleClickOnContact:T,selectAllContacts:b,unselectAllContacts:y,deleteSelectedContacts:C,deleteAllContacts:O,editContact:v,sortContacts:M,searchContacts:A,clearSearch:D,dropdownToggle:I,importEmail:w,setInitialMode:l,onResizeWindow:R,handleErrorModal:P,handleAlertModal:N,handleSavingContact:L,handleBlockPoint:k,setWsConnect:B,setWindowType:x}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={signature:{wizard:"signatureWizard"},image:{wizard:"imageWizard"},galleryItem:"galleryItem",methodItem:{draw:"methodItemDraw",upload:"methodItemUpload",capture:"methodItemCapture",fast:"methodItemFast",notarize:"methodItemNotarize",new:"methodItemNew",sms:"methodItemSms",email:"methodItemEmail",qr:"methodItemQr",initialsInput:"initialsInput"},buttons:{saveAndUse:"saveAndUse",back:"back",save:"save",addNewSignature:"addNewSignature",doIt:"doIt",chooseImage:"chooseImage",take:"take",send:"send",use:"use",sign:"sign",previewSaveAndUse:"previewSaveAndUse",previewNeedClean:"previewNeedClean",previewCleanManually:"previewCleanManually"},inputs:{initials:"initialsInput",smsInput:"smsInput",emailInput:"emailInput"}}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var a,o=n(887);var r=((a=o)&&a.__esModule?a:{default:a}).default,i=r.canUseDOM?window.HTMLElement:{};t.canUseDOM=r.canUseDOM;t.default=i},function(e,t,n){"use strict";var a=n(319);function o(e){var t,n;this.promise=new e(function(e,a){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=a}),this.resolve=a(t),this.reject=a(n)}e.exports.f=function(e){return new o(e)}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(895),r=(a=o)&&a.__esModule?a:{default:a};t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findContactById=void 0;var a=i(n(974)),o=i(n(180));t.detectSafari=s,t.detectIE=l,t.windowFocus=d,t.openWindow=u,t.compare=c,t.uniqArr=p,t.filterMaskApply=h,t.addMobileClass=f,t.removeMobileClass=m,t.setWindowType=E,t.redirect=_;var r=n(842);function i(e){return e&&e.__esModule?e:{default:e}}function s(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1}function l(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var a=e.indexOf("Edge/");return a>0&&parseInt(e.substring(a+5,e.indexOf(".",a)),10)}function d(){("undefined"==typeof window?"undefined":(0,o.default)(window))!==r.SYSTEM.ADDRESSBOOK_UNDEFINED&&l()&&window.focus()}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=screen.height/2-n/2,r=screen.width/2-t/2;a.length>0&&(e.indexOf("?")>=0?e+="&"+a:e+="?"+a),window.childWindow=window.open(e,"sharer","top="+o+",left="+r+",toolbar=0,status=0,width="+t+",height="+n)}function c(e,t){return t===r.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA?function(t,n){if(!t[e])return 1;if(!n[e])return-1;var a=t[e].toLowerCase(),o=n[e].toLowerCase();return a?o?a<o?1:a>o?-1:0:-1:1}:function(t,n){if(!t[e])return 1;if(!n[e])return-1;var a=t[e].toLowerCase(),o=n[e].toLowerCase();return a?o?a<o?-1:a>o?1:0:-1:1}}function p(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})}function h(e,t,n,o){var r=e.length;if(t===n){var i=e.find(function(e){return(0,a.default)(o).find(function(t){return-1!==e.indexOf(t)&&o[t].length>0})});return Boolean(i)}return(0,a.default)(o).filter(function(t){return e.find(function(e){return-1!==e.indexOf(t)&&o[t].length>0})}).length===r}function f(){document.body.classList.contains(r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)||(document.body.className+=" "+r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)}function m(){document.body.classList.contains(r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)&&(document.body.className=document.body.className.replace(" "+r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS,""))}function E(e,t,n){var a=e.getState();("undefined"==typeof window?"undefined":(0,o.default)(window))!==t.ADDRESSBOOK_UNDEFINED&&(window.innerWidth<=t.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?a.modal.itemsToRender.length>0?(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),f()):(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),m()):(e.dispatch(n(t.ADDRESSBOOK_DESKTOP_VIEW_TYPE)),m()))}var S=t.findContactById=function(e,t){return e.find(function(e){return+e.id==+t})};function _(e,t){("undefined"==typeof window?"undefined":(0,o.default)(window))!==r.SYSTEM.ADDRESSBOOK_UNDEFINED&&(window.location=""+e+t)}t.default={detectSafari:s,detectIE:l,windowFocus:d,openWindow:u,compare:c,uniqArr:p,filterMaskApply:h,setWindowType:E,findContactById:S,redirect:_}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var a=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function r(e,t){var n=e.nodeName.toLowerCase();return(a.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&r(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=d,t.hide=function(e){d(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){d(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var a,o=n(886),r=(a=o)&&a.__esModule?a:{default:a},i=n(850);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function d(e){return!(!e&&!s)||((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(490),r=(a=o)&&a.__esModule?a:{default:a},i=n(900);t.default={setLocale:function(e){return{type:i.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET,locale:e}},resetEditor:function(){return{type:i.ACTION_TYPES.EDITOR_RESET}},setEditorDimensions:function(e){return{type:i.ACTION_TYPES.EDITOR_DIMENSIONS_SET,dimensions:e}},restoreInitialState:function(){return{type:i.ACTION_TYPES.INITIAL_STATE_RESTORE}},restoreEditedImage:function(){return{type:i.ACTION_TYPES.EDITED_IMAGE_RESTORE}},selectTool:function(e){return{type:i.ACTION_TYPES.TOOL_SELECT,tool:e}},setInitialImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:i.ACTION_TYPES.IMAGE_INITIAL_SET,image:e,initialImage:t}},setImage:function(e){return{type:i.ACTION_TYPES.IMAGE_SET,image:e}},setImageDimensions:function(e){return{type:i.ACTION_TYPES.IMAGE_DIMENSIONS_SET,dimensions:e}},setCroppedImage:function(e){return{type:i.ACTION_TYPES.CROPPED_IMAGE_SET,image:e}},setEditedImage:function(e,t){return{type:i.ACTION_TYPES.EDITED_IMAGE_SET,image:e,totalSteps:t}},resetImageParams:function(){return{type:i.ACTION_TYPES.IMAGE_PARAMS_RESET}},setImageParams:function(e){return{type:i.ACTION_TYPES.IMAGE_PARAMS_SET,params:e}},rotateImage:function(e){return{type:i.ACTION_TYPES.IMAGE_ROTATE,clockwise:e}},flipImage:function(e){return(0,r.default)({type:i.ACTION_TYPES.IMAGE_FLIP},e)},flipImageHorizontally:function(){return{type:i.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP}},flipImageVertically:function(){return{type:i.ACTION_TYPES.IMAGE_VERTICAL_FLIP}},setThickness:function(e){return{type:i.ACTION_TYPES.THICKNESS_SET,size:e}},applyCrop:function(){return{type:i.ACTION_TYPES.CROP_APPLY}},setBrightness:function(e){return{type:i.ACTION_TYPES.BRIGHTNESS_SET,value:e}},setContrast:function(e){return{type:i.ACTION_TYPES.CONTRAST_SET,value:e}},setThreshold:function(e){return{type:i.ACTION_TYPES.THRESHOLD_SET,value:e}},zoomIn:function(){return{type:i.ACTION_TYPES.ZOOM_IN}},zoomOut:function(){return{type:i.ACTION_TYPES.ZOOM_OUT}},addHistoryStep:function(e){return{type:i.ACTION_TYPES.HISTORY_STEP_ADD,totalSteps:e}},setHistoryState:function(e,t,n){return{type:i.ACTION_TYPES.HISTORY_STATE_SET,image:e,imageParams:t,step:n}},undoHistory:function(){return{type:i.ACTION_TYPES.HISTORY_UNDO}},redoHistory:function(){return{type:i.ACTION_TYPES.HISTORY_REDO}},saveErasedImage:function(e){return{type:i.ACTION_TYPES.ERASED_IMAGE_SAVE,image:e}},saveImageState:function(){return{type:i.ACTION_TYPES.IMAGE_STATE_SAVE}},autoAdjustImage:function(){return(0,r.default)({type:i.ACTION_TYPES.IMAGE_AUTO_ADJUST},i.AUTO_ADJUST_PARAMS)},initialImageAdjust:function(e){return{type:i.ACTION_TYPES.IMAGE_INITIAL_ADJUST,params:(0,r.default)({},i.AUTO_ADJUST_PARAMS,{src:e,flipHorizontally:!1,flipVertically:!1})}},setCurrentHistoryStep:function(e){return{type:i.ACTION_TYPES.HISTORY_CURRENT_STEP_SET,step:e}},setTotalHistorySteps:function(e){return{type:i.ACTION_TYPES.HISTORY_TOTAL_STEPS_SET,steps:e}}}},function(e,t,n){var a=n(129),o=n(319),r=n(97)("species");e.exports=function(e,t){var n,i=a(e).constructor;return void 0===i||null==(n=a(i)[r])?t:o(n)}},function(e,t,n){var a,o,r,i=n(210),s=n(906),l=n(331),d=n(229),u=n(90),c=u.process,p=u.setImmediate,h=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,E=0,S={},_=function(){var e=+this;if(S.hasOwnProperty(e)){var t=S[e];delete S[e],t()}},v=function(e){_.call(e.data)};p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return S[++E]=function(){s("function"==typeof e?e:Function(e),t)},a(E),E},h=function(e){delete S[e]},"process"==n(211)(c)?a=function(e){c.nextTick(i(_,e,1))}:m&&m.now?a=function(e){m.now(i(_,e,1))}:f?(r=(o=new f).port2,o.port1.onmessage=v,a=i(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(e){u.postMessage(e+"","*")},u.addEventListener("message",v,!1)):a="onreadystatechange"in d("script")?function(e){l.appendChild(d("script")).onreadystatechange=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(i(_,e,1),0)}),e.exports={set:p,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var a=n(129),o=n(120),r=n(851);e.exports=function(e,t){if(a(e),o(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnSecondary=void 0;var a=c(n(87)),o=c(n(81)),r=c(n(83)),i=c(n(88)),s=c(n(89)),l=c(n(23)),d=n(0),u=c(d);function c(e){return e&&e.__esModule?e:{default:e}}var p={addClass:l.default.string,children:l.default.string,onClick:l.default.func,disabled:l.default.bool,dataTest:l.default.string};(t.BtnSecondary=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.addClass,a=void 0===n?"":n,o=e.children,r=e.onClick,i=e.dataTest;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-secondary g-btn-auto-width "+a,onClick:r,disabled:t,"data-test":i},o)}}]),t}(d.Component)).propTypes=p},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrimmedSVG=t.base64Header=t.getWebcamConstraints=t.getActualImageAndApplyCropIfNeed=t.getIsChromeOnMacOS=t.isIeOrEdge=t.isMobile=void 0;var a=s(n(1310)),o=s(n(862)),r=n(839),i=n(843);function s(e){return e&&e.__esModule?e:{default:e}}var l=new a.default(window.navigator.userAgent),d=(t.isMobile=function(){return Boolean(l.mobile())},t.isIeOrEdge=function(){var e=/* @cc_on!@ */!!document.documentMode,t=!e&&-1!==navigator.appName.indexOf("Netscape")&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge");return e||t},t.getIsChromeOnMacOS=function(){return-1!==navigator.appVersion.indexOf("Mac")&&-1!==navigator.appVersion.indexOf("Chrome")}),u=(t.getActualImageAndApplyCropIfNeed=function(e,t){var n=e.dispatch,a=e.getState;return(0,i.getIsCropEnabled)(a())?(n(o.default.applyCrop()),(0,i.getEditedImage)(a())):t},t.getWebcamConstraints=function(){return d()?r.HD_CAMERA_CONSTRAINTS:null},t.base64Header="data:image/svg+xml;base64,");t.getTrimmedSVG=function(e){var t=e.sigCanvasRef,n=e.maxWidth,a=t.current.toDataURL("image/svg+xml").replace(u,""),o=atob(a),r=document.createElement("div");document.body.appendChild(r),r.style.opacity="0",r.innerHTML=o;var i=r.firstChild,s=i.getBBox(),l=[s.x-n,s.y-n,s.width+2*n,s.height+2*n].join(" ");i.setAttribute("viewBox",l),i.setAttribute("width","100%"),i.setAttribute("height","100%");var d=(new XMLSerializer).serializeToString(i),c=window.btoa(d);return r.remove(),{svg:c,width:s.width,height:s.height}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flipImage=t.rotateImage=t.trimImage=t.editImage=t.editImageData=t.transformImage=t.resizeToFit=t.validateFiles=t.base64ToImage=t.imageToBase64=void 0;var a=l(n(180)),o=l(n(490)),r=l(n(883)),i=l(n(1150)),s=n(1151);function l(e){return e&&e.__esModule?e:{default:e}}var d="png",u=function(){return-1!==navigator.appVersion.indexOf("Safari")&&/Version\/13\.1/.test(navigator.appVersion)||!!getComputedStyle(document.body).imageOrientation};function c(e,t,n,a,o){if(e.length){var r=e.shift();return function(e,t,n,a,o){!function(e,t,n){var a=new FileReader;a.onload=function(e){try{var a=new DataView(e.target.result);if(65496!=a.getUint16(0,!1))return t(-2);for(var o=a.byteLength,r=2;r<o;){var i=a.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!=a.getUint32(r+=2,!1))return t(-1);var s=18761==a.getUint16(r+=6,!1);r+=a.getUint32(r+4,s);var l=a.getUint16(r,s);r+=2;for(var d=0;d<l;d++)if(274==a.getUint16(r+12*d,s))return t(a.getUint16(r+12*d+8,s))}else{if(65280!=(65280&i))break;r+=a.getUint16(r,!1)}}}catch(e){n(e)}return t(-1)},a.onerror=function(e){return n(e)},a.readAsArrayBuffer(e)}(e,function(r){var i=new FileReader;i.onloadend=function(){p({dataUri:i.result,width:n.width,height:n.height,orientation:r,isImageMirrored:t}).then(a).catch(o)},i.onerror=function(e){return o(e)},i.readAsDataURL(e)},o)}(r,!1,n,function(i){var s={type:r.type.split("/")[1],data:i.resizedImage,width:i.width,height:i.height};t.push(s),c(e,t,n,a,o)},o)}return a(t)}function p(e){var t=e.dataUri,n=e.width,a=e.height,o=e.isImageMirrored,i=e.orientation;return new r.default(function(e,s){var l=new Image;l.onload=function(){var d=l.width/l.height,c=l.width,p=l.height;c>=n&&d>=1?p=(c=n)/d:p>=a&&(c=(p=a)*d),function(e){var t=e.dataUri,n=e.width,a=e.height,o=e.isImageMirrored,i=e.orientation;return new r.default(function(e,r){var s=t.match(/data:(.+);/im)[1],l=new Image;l.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),d=u();if(d||6!==i&&8!==i?(t.width=n,t.height=a):(t.width=a,t.height=n),!d)switch(i){case 2:r.transform(-1,0,0,1,n,0);break;case 3:r.transform(-1,0,0,-1,n,a);break;case 4:r.transform(1,0,0,-1,0,a);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,a,0);break;case 7:r.transform(0,-1,-1,0,a,n);break;case 8:r.transform(0,-1,1,0,0,n);break;default:r.transform(1,0,0,1,0,0)}o?(r.save(),r.scale(-1,1),r.drawImage(l,0,0,-1*n,a),r.restore()):r.drawImage(l,0,0,n,a);var c={src:t.toDataURL(s),width:t.width,height:t.height};e(c)},l.onerror=function(e){return r(e)},l.src=t})}({width:c,height:p,isImageMirrored:o,orientation:i,dataUri:t}).then(function(t){var n=t.src,a=t.width,o=t.height;e({resizedImage:n,height:o,width:a})}).catch(s)},l.onerror=function(e){return s(e)},l.src=t})}var h=function(e,t){return t*(e-128)+128},f=function(e,t){var n=e+t;return n<0?0:n>255?255:n};t.imageToBase64=function(e,t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){var e=document.createElement("canvas"),a=e.getContext("2d");e.height=n.height,e.width=n.width,a.drawImage(n,0,0),t(e.toDataURL("image/"+d))},n.src=e},t.base64ToImage=function(e){return new r.default(function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=function(e){return n(e)},a.src=e})},t.validateFiles=function(e,t,n,r){var l=t.maxFileSize,d=t.allowedFileTypes,u=t.maxFilesNumber,p=t.checkImage,h=t.imageDimensions,f=t.customErrors,m=function(e){if(e&&e.length)return"string"==typeof e?e.split("/")[1].toUpperCase():e.map(function(e){return e.split("/")[1].toUpperCase()}).join(", ");return""}(d),E={bigFile:s.ERRORS.BIG_FILE,wrongType:s.ERRORS.WRONG_TYPE,noFiles:s.ERRORS.NO_FILES,tooManyFiles:s.ERRORS.TOO_MANY_FILES,defaultError:s.ERRORS.DEFAULT_ERROR};if(f&&(E=(0,o.default)({},E,f)),!e||!e.length)return r([{error:E.noFiles,brokenCondition:""}]);if(u&&e.length>u)return r([{error:E.tooManyFiles,brokenCondition:""}]);for(var S=[],_=[],v=void 0,g=0;g<e.length;g++)v=e[g],l&&v.size>(0,i.default)(l.toLowerCase())?_.push({error:E.bigFile,fileName:v.name,brokenCondition:l}):d.length&&-1===d.indexOf(v.type)?_.push({error:E.wrongType,fileName:v.name,brokenCondition:m}):S.push(v);if(_.length)return r(_);if(p){if("string"==typeof d&&d.indexOf("image")>-1)return c(S,[],h,n,function(){return r(E.defaultError)});if("object"===(void 0===d?"undefined":(0,a.default)(d))&&d.join().indexOf("image")>-1)return c(S,[],h,n,function(){return r(E.defaultError)})}n(S)},t.resizeToFit=p,t.transformImage=function(e){var t=e.src,n=e.degrees,a=e.maxWidth,o=e.maxHeight,i=e.flipHorizontally,s=e.flipVertically;return new r.default(function(e,r){var l=new Image;l.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),u=l.height===l.width,c=l.height>l.width,p=n%180==90,h=n*Math.PI/180,f=l.height/l.width,m=l.width,E=l.height,S=1,_=void 0;if(u)E>o&&(m*=S=(E-=E-o)/l.width);else if(p)if(c)if(l.height>a)E=(m=E*f)/f,m>a&&(E=(m-=m-a)/f,S=m/l.height);else{var v=E;E=m,m=v}else if(l.width>o)E=m/f,m*=f,E>o&&(m*=S=(E-=E-o)/l.width);else{var g=E;E=m,m=g}else c?E>o&&(m=(E-=E-o)/f,S=E/l.height):m>a&&(S=(m-=m-a)/l.width,E=m*f);t.width=m,t.height=E,r.save(),r.fillStyle="#fff",r.fillRect(0,0,m,E),r.translate(m/2,E/2),r.rotate(h),_=S,p?(S=s?-1*S:S,_=i?-1*_:_):(S=i?-1*S:S,_=s?-1*_:_),r.scale(S,_),r.drawImage(l,-l.width/2,-l.height/2),r.restore();var T={src:t.toDataURL("image/"+d),width:m,height:E};e(T)},l.onerror=function(e){return r(e)},l.crossOrigin="Anonymous",l.src=t})},t.editImageData=function(e,t,n,a,o){return new r.default(function(r){var i=e.data,s=i.length,l=t.data,d=void 0,u=void 0,c=void 0,p=void 0,m=void 0;for(d=0;d<s;d+=4)m=.2126*(u=f(h(i[d],o),a))+.7152*(c=f(h(i[d+1],o),a))+.0722*(p=f(h(i[d+2],o),a))>=n,l[d]=u,l[d+1]=c,l[d+2]=p,l[d+3]=m?0:i[d+3];r(t)})},t.editImage=function(e){var t=e.src,n=e.threshold,a=e.brightness,o=e.contrast,i=e.flipHorizontally,s=e.flipVertically;return new r.default(function(e,r){var l=new Image;l.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),u=1,c=1;if(i&&(u=-1),s&&(c=-1),t.width=l.width,t.height=l.height,r.save(),r.scale(u,c),r.drawImage(l,0,0,l.width*u,l.height*c),r.restore(),255!==n||0!==a||0!==o){var p=r.getImageData(0,0,t.width,t.height),m=259*(o+255)/(255*(259-o)),E=p.data,S=E.length,_=void 0,v=void 0,g=void 0,T=void 0,b=void 0;for(_=0;_<S;_+=4)b=.2989*(v=f(h(E[_],m),a))+.587*(g=f(h(E[_+1],m),a))+.114*(T=f(h(E[_+2],m),a)),E[_]=v,E[_+1]=g,E[_+2]=T,.2126*b+.7152*b+.0722*b>=n&&(E[_+3]=0);r.clearRect(0,0,t.width,t.height),r.putImageData(p,0,0)}var y={src:t.toDataURL("image/"+d),width:l.width,height:l.height};e(y)},l.onerror=function(e){return r(e)},l.src=t})},t.trimImage=function(e){return new r.default(function(t,n){var a=new Image;a.onload=function(){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=a.width,e.height=a.height,n.drawImage(a,0,0);var o,r,i=n.getImageData(0,0,a.width,a.height),s={top:null,left:null,right:null,bottom:null},l=a.width+1,u=a.height+1,c=void 0,p=void 0,h=void 0;for(p=0;p<u;++p)for(c=0;c<l;++c)4*(p*l+c)&&(null===s.top&&(s.top=p),(null===s.left||c<s.left)&&(s.left=c),(null===s.right||s.right<c)&&(s.right=c),(null===s.bottom||s.bottom<p)&&(s.bottom=p));o=s.bottom-s.top,r=s.right-s.left,o&&r?(h=n.getImageData(s.left,s.top,r,o),e.width=r,e.height=o):h=i,n.putImageData(h,0,0),t(e.toDataURL("image/"+d))},a.onerror=function(e){return n(e)},a.src=e})},t.rotateImage=function(e){var t=e.src,n=e.clockwise;return new r.default(function(e,a){var o=new Image;o.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d"),r=(n?90:-90)*Math.PI/180;t.width=o.height,t.height=o.width,a.save(),a.translate(t.width/2,t.height/2),a.rotate(r),a.drawImage(o,-o.width/2,-o.height/2),a.restore();var i={src:t.toDataURL("image/"+d),width:o.width,height:o.height};e(i)},o.onerror=function(e){return a(e)},o.crossOrigin="Anonymous",o.src=t})},t.flipImage=function(e){var t=e.src,n=e.flipHorizontally;return new r.default(function(e,a){var o=new Image;o.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d"),r=1,i=1;n?r=-1:i=-1,t.width=o.width,t.height=o.height,a.save(),a.scale(r,i),a.drawImage(o,0,0,o.width*r,o.height*i),a.restore(),e(t.toDataURL("image/"+d))},o.onerror=function(e){return a(e)},o.src=t})}},,,,,,,function(e,t,n){e.exports={default:n(902),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnPrimary=void 0;var a=c(n(87)),o=c(n(81)),r=c(n(83)),i=c(n(88)),s=c(n(89)),l=c(n(23)),d=n(0),u=c(d);function c(e){return e&&e.__esModule?e:{default:e}}var p={addClass:l.default.string,children:l.default.string,onClick:l.default.func,disabled:l.default.bool,dataTest:l.default.string};(t.BtnPrimary=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.onClick,a=e.disabled,o=e.children,r=e.dataTest;return u.default.createElement("button",{type:"button","aria-label":"Save this signature and use it",className:"g-btn g-btn-primary g-btn-auto-width "+t,onClick:n,disabled:a,"data-test":r},o)}}]),t}(d.Component)).propTypes=p},,function(e,t,n){"use strict";var a=function(){};e.exports=a},function(e,t,n){var a;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a)}()},function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function r(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,d="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+d+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",function(){return i}),a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),i=f(r),s=f(n(123)),l=f(n(23)),d=f(n(896)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(861)),c=n(850),p=f(c),h=n(888);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=t.portalClassName="ReactModalPortal",S=t.bodyOpenClassName="ReactModal__Body--open",_=void 0!==s.default.createPortal,v=function(){return _?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function g(e){return e()}var T=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!_&&s.default.unmountComponentAtNode(o.node),g(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=v()(o,i.default.createElement(d.default,a({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){c.canUseDOM&&(_||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,g(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:g(e.parentSelector),nextParent:g(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(c.canUseDOM){var a=this.props,o=a.isOpen,r=a.portalClassName;e.portalClassName!==r&&(this.node.className=r);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!_&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(c.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return c.canUseDOM&&_?(!this.node&&_&&(this.node=document.createElement("div")),v()(i.default.createElement(d.default,a({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}();T.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},T.defaultProps={isOpen:!1,portalClassName:E,bodyOpenClassName:S,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},T.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(T),t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),s=m(i),l=m(n(23)),d=f(n(897)),u=m(n(898)),c=f(n(861)),p=f(n(899)),h=m(n(850));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var E={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},S=9,_=27,v=0,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,a=e.ariaHideApp,o=e.htmlOpenClassName,r=e.bodyOpenClassName;r&&p.remove(document.body,r),o&&p.remove(document.getElementsByTagName("html")[0],o),a&&v>0&&0===(v-=1)&&c.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(d.returnFocus(),d.teardownScopedFocus()):d.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(d.setupScopedFocus(n.node),d.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===S&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===_&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var a="object"===(void 0===t?"undefined":o(t))?t:{base:E[e],afterOpen:E[e]+"--after-open",beforeClose:E[e]+"--before-close"},r=a.base;return n.state.afterOpen&&(r=r+" "+a.afterOpen),n.state.beforeClose&&(r=r+" "+a.beforeClose),"string"==typeof t&&t?r+" "+t:r},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,a){return n[e+"-"+a]=t[a],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,a=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&p.add(document.body,o),a&&p.add(document.getElementsByTagName("html")[0],a),n&&(v+=1,c.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,r=e.defaultStyles,i=n?{}:r.content,l=o?{}:r.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:a({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",a({id:t,ref:this.setContentRef,style:a({},i,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();g.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},g.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(h.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=d,t.handleFocus=u,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==i.length&&(e=i.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",d,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",d),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",d),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",d),document.detachEvent("onFocus",u))};var a,o=n(860),r=(a=o)&&a.__esModule?a:{default:a};var i=[],s=null,l=!1;function d(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,r.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.default)(e);if(!n.length)return void t.preventDefault();var a,o=t.shiftKey,i=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;a=s}s!==document.activeElement||o||(a=i);i===document.activeElement&&o&&(a=s);if(a)return t.preventDefault(),void a.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var d=n.indexOf(document.activeElement);d>-1&&(d+=o?-1:1);if(void 0===n[d])return t.preventDefault(),void(a=o?s:i).focus();t.preventDefault(),n[d].focus()};var a,o=n(860),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var a={},o={};t.add=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?a:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(r,e),n.add(e)});var n,r},t.remove=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?a:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(r,e),0===r[e]&&n.remove(e)});var n,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PADDING=t.ISCROLL_CONFIG=t.MAX_ZOOM=t.MAX_HISTORY_LENGTH=t.AUTO_ADJUST_PARAMS=t.IMAGE_CLEANER_CONFIG=t.LOCALE=t.ACTION_TYPES=t.TOOLS=void 0;var a=u(n(1311)),o=u(n(1146)),r=u(n(1312)),i=u(n(1313)),s=u(n(1314)),l=u(n(1315)),d=n(1147);function u(e){return e&&e.__esModule?e:{default:e}}t.TOOLS=a.default,t.ACTION_TYPES=o.default,t.LOCALE=r.default,t.IMAGE_CLEANER_CONFIG=i.default,t.AUTO_ADJUST_PARAMS=s.default,t.MAX_HISTORY_LENGTH=d.MAX_HISTORY_LENGTH,t.MAX_ZOOM=d.MAX_ZOOM,t.ISCROLL_CONFIG=l.default,t.DEFAULT_PADDING=d.DEFAULT_PADDING},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}},function(e,t,n){n(332),n(284),n(330),n(903),n(911),n(912),e.exports=n(61).Promise},function(e,t,n){"use strict";var a,o,r,i,s=n(151),l=n(90),d=n(210),u=n(656),c=n(104),p=n(120),h=n(319),f=n(904),m=n(905),E=n(863),S=n(864).set,_=n(907)(),v=n(851),g=n(865),T=n(908),b=n(866),y=l.TypeError,C=l.process,O=C&&C.versions,M=O&&O.v8||"",A=l.Promise,D="process"==u(C),I=function(){},w=o=v.f,R=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(97)("species")]=function(e){e(I,I)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t&&0!==M.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var a=e._v,o=1==e._s,r=0,i=function(t){var n,r,i,s=o?t.ok:t.fail,l=t.resolve,d=t.reject,u=t.domain;try{s?(o||(2==e._h&&B(e),e._h=1),!0===s?n=a:(u&&u.enter(),n=s(a),u&&(u.exit(),i=!0)),n===t.promise?d(y("Promise-chain cycle")):(r=P(n))?r.call(n,l,d):l(n)):d(a)}catch(e){u&&!i&&u.exit(),d(e)}};n.length>r;)i(n[r++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){S.call(l,function(){var t,n,a,o=e._v,r=k(e);if(r&&(t=g(function(){D?C.emit("unhandledRejection",o,e):(n=l.onunhandledrejection)?n({promise:e,reason:o}):(a=l.console)&&a.error&&a.error("Unhandled promise rejection",o)}),e._h=D||k(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){S.call(l,function(){var t;D?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},x=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw y("Promise can't be resolved itself");(t=P(e))?_(function(){var a={_w:n,_d:!1};try{t.call(e,d(F,a,1),d(x,a,1))}catch(e){x.call(a,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){x.call({_w:n,_d:!1},e)}}};R||(A=function(e){f(this,A,"Promise","_h"),h(e),a.call(this);try{e(d(F,this,1),d(x,this,1))}catch(e){x.call(this,e)}},(a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(909)(A.prototype,{then:function(e,t){var n=w(E(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=D?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new a;this.promise=e,this.resolve=d(F,e,1),this.reject=d(x,e,1)},v.f=w=function(e){return e===A||e===i?new r(e):o(e)}),c(c.G+c.W+c.F*!R,{Promise:A}),n(182)(A,"Promise"),n(910)("Promise"),i=n(61).Promise,c(c.S+c.F*!R,"Promise",{reject:function(e){var t=w(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(s||!R),"Promise",{resolve:function(e){return b(s&&this===i?A:this,e)}}),c(c.S+c.F*!(R&&n(659)(function(e){A.all(e).catch(I)})),"Promise",{all:function(e){var t=this,n=w(t),a=n.resolve,o=n.reject,r=g(function(){var n=[],r=0,i=1;m(e,!1,function(e){var s=r++,l=!1;n.push(void 0),i++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--i||a(n))},o)}),--i||a(n)});return r.e&&o(r.v),n.promise},race:function(e){var t=this,n=w(t),a=n.reject,o=g(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,a)})});return o.e&&a(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,a){if(!(e instanceof t)||void 0!==a&&a in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var a=n(210),o=n(657),r=n(658),i=n(129),s=n(286),l=n(655),d={},u={};(t=e.exports=function(e,t,n,c,p){var h,f,m,E,S=p?function(){return e}:l(e),_=a(n,c,t?2:1),v=0;if("function"!=typeof S)throw TypeError(e+" is not iterable!");if(r(S)){for(h=s(e.length);h>v;v++)if((E=t?_(i(f=e[v])[0],f[1]):_(e[v]))===d||E===u)return E}else for(m=S.call(e);!(f=m.next()).done;)if((E=o(m,_,f.value,t))===d||E===u)return E}).BREAK=d,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var a=void 0===n;switch(t.length){case 0:return a?e():e.call(n);case 1:return a?e(t[0]):e.call(n,t[0]);case 2:return a?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var a=n(90),o=n(864).set,r=a.MutationObserver||a.WebKitMutationObserver,i=a.process,s=a.Promise,l="process"==n(211)(i);e.exports=function(){var e,t,n,d=function(){var a,o;for(l&&(a=i.domain)&&a.exit();e;){o=e.fn,e=e.next;try{o()}catch(a){throw e?n():t=void 0,a}}t=void 0,a&&a.enter()};if(l)n=function(){i.nextTick(d)};else if(!r||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(d)}}else n=function(){o.call(a,d)};else{var c=!0,p=document.createTextNode("");new r(d).observe(p,{characterData:!0}),n=function(){p.data=c=!c}}return function(a){var o={fn:a,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var a=n(90).navigator;e.exports=a&&a.userAgent||""},function(e,t,n){var a=n(121);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:a(e,o,t[o]);return e}},function(e,t,n){"use strict";var a=n(90),o=n(61),r=n(98),i=n(92),s=n(97)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:a[e];i&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var a=n(104),o=n(61),r=n(90),i=n(863),s=n(866);a(a.P+a.R,"Promise",{finally:function(e){var t=i(this,o.Promise||r.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var a=n(104),o=n(851),r=n(865);a(a.S,"Promise",{try:function(e){var t=o.f(this),n=r(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODE_TYPES=void 0;var a,o=n(654),r=(a=o)&&a.__esModule?a:{default:a};t.MODE_TYPES=(0,r.default)({INITIAL:null,EDIT:null,UPLOAD:null,MOBILE_UPLOAD:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,BIG_FOOTER:null,CAPTURE:null,SM_INITIAL:null,SM_TEXT_EDIT:null,SM_CURVE_EDIT:null,SM_IMAGE_EDIT:null,SM_CHOOSE_SIGNATURE:null,SM_TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_UPLOADER:null,SM_UPLOADING:null,SM_MOBILE_UPLOADER:null,SM_CAPTURE:null,SM_NOTARIZE:null,SM_MOBILE_SIGN_LOADING:null,SM_EDITOR_PREVIEW:null,SM_EDITOR:null})},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a,o,r;o=[],void 0===(r="function"==typeof(a=function(){"use strict";var e={modifiers:"{name}--",states:"is-"},t=Array.prototype.push,n=Array.prototype.slice,a=Object.prototype.toString;function o(e){return a.call(e).slice(8,-1).toLowerCase()}var r={};function i(e){return e.trim().split(/ +/)}function s(a){if(!a)return"";var s,l=n.call(arguments).slice(1),d=[];return Object.keys(a).forEach(function(n){switch(o(a[n])){case"string":t.apply(d,i(a[n]));break;case"array":l.forEach(function(o){if(r.object(o)){var i=(s=a[n],l=o,u=(u=function(t,n){return(e[t]||"").replace(/\{([\w-]*?)\}/g,function(e,t){return n[t]||""})}(n,a))||"",s.filter(function(e){return!!l[e]}).map(function(e){return u+(r.boolean(l[e])?e:l[e])}));t.apply(d,i)}var s,l,u})}}),l.forEach(function(e){switch(o(e)){case"string":t.apply(d,i(e));break;case"array":t.apply(d,e)}}),function(e){return e.filter(function(e){return r.string(e)&&""!==e.trim()}).map(function(e){return e.trim()})}((s=d).filter(function(e,t){return s.indexOf(e)===t})).join(" ").trim()}return["string","boolean","array","object"].forEach(function(e){r[e]=function(t){return o(t)===e}}),s.prefixes=e,s})?a.apply(t,o):a)||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERROR_TYPES={ADDRESSBOOK_GET_CONTACTS:"getContacts",ADDRESSBOOK_ADD_CONTACT_DOUBLE:"addContactDouble",ADDRESSBOOK_ADD_CONTACT:"addContact",ADDRESSBOOK_EDIT_CONTACT:"editContact",ADDRESSBOOK_DELETE_CONTACT:"deleteContact",ADDRESSBOOK_DELETE_ALL_CONTACTS:"deleteAllContacts"}},function(e,t,n){e.exports={default:n(1268),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownTrigger=t.DropdownContent=void 0;var a=i(n(1277)),o=i(n(1278)),r=i(n(1136));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a.default,t.DropdownContent=o.default,t.DropdownTrigger=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={EVENT_CLICK:"click",EVENT_TOUCH_START:"touchstart",EVENT_SCROLL:"scroll",EVENT_KEY_DOWN:"keydown",EVENT_KEY_UP:"keyup",EVENT_PRESS_ENTER:"enter",EVENT_PRESS_ESCAPE:"escape",EVENT_PRESS_TAB:"tab",EVENT_PRESS_UP:"up",EVENT_PRESS_DOWN:"down",EVENT_PRESS_DELETE:"delete",EVENT_PRESS_CTRL_A:"ctrl_a",ENTER_ESCAPE_CONTROLLER:"ENTER_ESCAPE_CONTROLLER",ADDRESS_BOOK_CONTROLLER:"ADDRESS_BOOK_CONTROLLER"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var a,o=n(654),r=(a=o)&&a.__esModule?a:{default:a};t.actionTypes=(0,r.default)({INITIAL:null,EDIT:null,GALLERY:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,CAPTURE:null,SET_UPLOADED_PERCENT:null,DISABLE_WEBCAM:null,CHECK_WEBCAM_AVAILABILITY:null,API_REST_SET:null,ERROR_SET:null,ERRORS_CLEAN:null,CLOSE_SIGNATURE:null,SM_SET_DRAW_CONFIG:null,SM_INITIAL:null,SM_TEXT_EDIT:null,SM_CURVE_EDIT:null,SM_IMAGE_EDIT:null,SM_CHOOSE_SIGNATURE:null,SM_TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_NOTARIZE:null,SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:null,SM_SIGNATURE_SAVE:null,SM_SET_INITIAL_SIGNATURE:null,SM_SET_ADDRESSBOOK_API_REST:null,LAUNCH_UPLOAD_IMAGE:null,SM_SET_ORIGINAL_IMAGE:null,SM_UPLOADER:null,SM_MOBILE_UPLOADER:null,SM_UPLOADING:null,SM_CAPTURE:null,SM_MOBILE_SIGN_LOADING:null,SM_LAUNCH_UPLOAD_IMAGE:null,SM_GET_QR_URL:null,SM_SET_QR_URL:null,SM_SEND_PHONE_NUMBER:null,SM_SEND_EMAIL:null,SM_SAVE_PHONE_NUMBER:null,SM_SAVE_EMAIL:null,SM_SET_MOBILE_SIGNATURE_METHOD:null,SM_MOBILE_SIGNATURE_RESEND:null,SM_GET_CONTACT_EMAIL:null,SM_GET_CONTACT_PHONE_NUMBER:null,SM_EDITOR_PREVIEW_OPEN:null,SM_EDITOR_OPEN:null,SM_ERROR_SET:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IDS={button:"DropzoneButton",content:"DropzoneContent",title:"DropzoneTitle"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,o=f(n(87)),r=f(n(81)),i=f(n(83)),s=f(n(88)),l=f(n(89)),d=f(n(23)),u=n(0),c=f(u),p=n(55),h=n(867);function f(e){return e&&e.__esModule?e:{default:e}}var m={title:d.default.string,btns:d.default.array};(t.Loader=(0,p.connect)(function(e){return e.im.modeSignature})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderTitle",value:function(){var e=this.props.title;return e?c.default.createElement("div",{className:"g-loader__label g-loader__label--md"},e):null}},{key:"renderBtn",value:function(){var e=this.props.btns;return e?c.default.createElement("div",{className:"g-loader-btn-block"},e.map(function(e,t){return c.default.createElement(h.BtnSecondary,{addClass:"g-btn-sm",key:t,onClick:e.btnDispatch},e.btnText)})):null}},{key:"render",value:function(){return c.default.createElement("div",{className:"g-loader g-loader--md"},c.default.createElement("div",{className:"g-loader__wrapper"},c.default.createElement("div",{className:"g-loader__layer"},c.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},c.default.createElement("div",{className:"g-loader__circle"})),c.default.createElement("div",{className:"g-loader__gap-patch"},c.default.createElement("div",{className:"g-loader__circle"})),c.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},c.default.createElement("div",{className:"g-loader__circle"})))),this.renderTitle(),this.renderBtn())}}]),t}(u.Component))||a).propTypes=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(1035),o=n(1036);if("i"!=="I".toLowerCase())throw"I/i problem";var r=function(e){var t,n;"undefined"!=typeof window&&(t=window.parseCssDeclarations,n=window.sanitizeCssProperty,window.cssSchema);var a={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},r=/^#(\d+)$/,i=/^#x([0-9A-Fa-f]+)$/,s=/^[A-Za-z][A-za-z0-9]+$/,l="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null;function d(e,t){return function(e){if(a.hasOwnProperty(e))return a[e];var t=e.match(r);if(t)return String.fromCharCode(parseInt(t[1],10));if(t=e.match(i))return String.fromCharCode(parseInt(t[1],16));if(l&&s.test(e)){l.innerHTML="&"+e+";";var n=l.textContent;return a[e]=n,n}return"&"+e+";"}(t)}var u=/\0/g;var c=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,p=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/;function h(e){return e?e.replace(c,d):e}var f=/&/g,m=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,E=/[<]/g,S=/>/g,_=/\"/g;function v(e){return e?(""+e).replace(f,"&amp;").replace(E,"&lt;").replace(S,"&gt;").replace(_,"&#34;"):e}function g(e){return e?e.replace(m,"&amp;$1").replace(E,"&lt;").replace(S,"&gt;"):e}var T=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),b=3==="a,b".split(/(,)/).length,y=e.eflags.CDATA|e.eflags.RCDATA;function C(e){var t={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,n){return function(e,t,n){var a=function(e){var t=/(<\/|<\!--|<[!?]|[&<>])/g;if(e+="",b)return e.split(t);for(var n,a=[],o=0;null!==(n=t.exec(e));)a.push(e.substring(o,n.index)),a.push(n[0]),o=n.index+n[0].length;return a.push(e.substring(o)),a}(e);A(t,a,0,{noMoreGT:!1,noMoreEndComments:!1},n)}(e,t,n)}}var O={};function M(e,t,n,a,o){return function(){A(e,t,n,a,o)}}function A(t,n,a,o,r){try{var i,s,l;t.startDoc&&0==a&&t.startDoc(r);for(var d=a,u=n.length;d<u;){var c=n[d++],h=n[d];switch(c){case"&":p.test(h)?(t.pcdata&&t.pcdata("&"+h,r,O,M(t,n,d,o,r)),d++):t.pcdata&&t.pcdata("&amp;",r,O,M(t,n,d,o,r));break;case"</":(i=/^([-\w:]+)[^\'\"]*/.exec(h))?i[0].length===h.length&&">"===n[d+1]?(d+=2,l=i[1].toLowerCase(),t.endTag&&t.endTag(l,r,O,M(t,n,d,o,r))):d=D(n,d,t,r,O,o):t.pcdata&&t.pcdata("&lt;/",r,O,M(t,n,d,o,r));break;case"<":if(i=/^([-\w:]+)\s*\/?/.exec(h))if(i[0].length===h.length&&">"===n[d+1]){d+=2,l=i[1].toLowerCase(),t.startTag&&t.startTag(l,[],r,O,M(t,n,d,o,r));var f=e.ELEMENTS[l];if(f&y)d=R(n,{name:l,next:d,eflags:f},t,r,O,o)}else d=I(n,d,t,r,O,o);else t.pcdata&&t.pcdata("&lt;",r,O,M(t,n,d,o,r));break;case"\x3c!--":if(!o.noMoreEndComments){for(s=d+1;s<u&&(">"!==n[s]||!/--$/.test(n[s-1]));s++);if(s<u){if(t.comment){var m=n.slice(d,s).join("");t.comment(m.substr(0,m.length-2),r,O,M(t,n,s+1,o,r))}d=s+1}else o.noMoreEndComments=!0}o.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",r,O,M(t,n,d,o,r));break;case"<!":if(/^\w/.test(h)){if(!o.noMoreGT){for(s=d+1;s<u&&">"!==n[s];s++);s<u?d=s+1:o.noMoreGT=!0}o.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",r,O,M(t,n,d,o,r))}else t.pcdata&&t.pcdata("&lt;!",r,O,M(t,n,d,o,r));break;case"<?":if(!o.noMoreGT){for(s=d+1;s<u&&">"!==n[s];s++);s<u?d=s+1:o.noMoreGT=!0}o.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",r,O,M(t,n,d,o,r));break;case">":t.pcdata&&t.pcdata("&gt;",r,O,M(t,n,d,o,r));break;case"":break;default:t.pcdata&&t.pcdata(c,r,O,M(t,n,d,o,r))}}t.endDoc&&t.endDoc(r)}catch(e){if(e!==O)throw e}}function D(e,t,n,a,o,r){var i=P(e,t);return i?(n.endTag&&n.endTag(i.name,a,o,M(n,e,t,r,a)),i.next):e.length}function I(e,t,n,a,o,r){var i=P(e,t);return i?(n.startTag&&n.startTag(i.name,i.attrs,a,o,M(n,e,i.next,r,a)),i.eflags&y?R(e,i,n,a,o,r):i.next):e.length}var w={};function R(t,n,a,o,r,i){var s=t.length;w.hasOwnProperty(n.name)||(w[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var l=w[n.name],d=n.next,u=n.next+1;u<s&&("</"!==t[u-1]||!l.test(t[u]));u++);u<s&&(u-=1);var c=t.slice(d,u).join("");if(n.eflags&e.eflags.CDATA)a.cdata&&a.cdata(c,o,r,M(a,t,u,i,o));else{if(!(n.eflags&e.eflags.RCDATA))throw new Error("bug");a.rcdata&&a.rcdata(g(c),o,r,M(a,t,u,i,o))}return u}function P(t,n){var a=/^([-\w:]+)/.exec(t[n]),o={};o.name=a[1].toLowerCase(),o.eflags=e.ELEMENTS[o.name];for(var r=t[n].substr(a[0].length),i=n+1,s=t.length;i<s&&">"!==t[i];i++)r+=t[i];if(!(s<=i)){for(var l=[];""!==r;)if(a=T.exec(r)){if(a[4]&&!a[5]||a[6]&&!a[7]){for(var d=a[4]||a[6],u=!1,c=[r,t[i++]];i<s;i++){if(u){if(">"===t[i])break}else 0<=t[i].indexOf(d)&&(u=!0);c.push(t[i])}if(s<=i)break;r=c.join("");continue}var p=a[1].toLowerCase(),h=a[2]?N(a[3]):"";l.push(p,h),r=r.substr(a[0].length)}else r=r.replace(/^[\s\S][^a-z\s]*/,"");return o.attrs=l,o.next=i+1,o}}function N(e){var t=e.charCodeAt(0);return 34!==t&&39!==t||(e=e.substr(1,e.length-2)),h(e.replace(u,""))}function L(t){var n,a,o=function(e,t){a||t.push(e)};return C({startDoc:function(e){n=[],a=!1},startTag:function(o,r,i){if(!a&&e.ELEMENTS.hasOwnProperty(o)){var s=e.ELEMENTS[o];if(!(s&e.eflags.FOLDABLE)){var l=t(o,r);if(l){if("object"!=typeof l)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in l))throw new Error("tagPolicy gave no attribs");var d,u;if(r=l.attribs,"tagName"in l?(u=l.tagName,d=e.ELEMENTS[u]):(u=o,d=s),s&e.eflags.OPTIONAL_ENDTAG){var c=n[n.length-1];!c||c.orig!==o||c.rep===u&&o===u||i.push("</",c.rep,">")}s&e.eflags.EMPTY||n.push({orig:o,rep:u}),i.push("<",u);for(var p=0,h=r.length;p<h;p+=2){var f=r[p],m=r[p+1];null!=m&&i.push(" ",f,'="',v(m),'"')}i.push(">"),s&e.eflags.EMPTY&&!(d&e.eflags.EMPTY)&&i.push("</",u,">")}else a=!(s&e.eflags.EMPTY)}}},endTag:function(t,o){if(a)a=!1;else if(e.ELEMENTS.hasOwnProperty(t)){var r=e.ELEMENTS[t];if(!(r&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var i;if(r&e.eflags.OPTIONAL_ENDTAG)for(i=n.length;--i>=0;){var s=n[i].orig;if(s===t)break;if(!(e.ELEMENTS[s]&e.eflags.OPTIONAL_ENDTAG))return}else for(i=n.length;--i>=0&&n[i].orig!==t;);if(i<0)return;for(var l=n.length;--l>i;){var d=n[l].rep;e.ELEMENTS[d]&e.eflags.OPTIONAL_ENDTAG||o.push("</",d,">")}i<n.length&&(t=n[i].rep),n.length=i,o.push("</",t,">")}}},pcdata:o,rcdata:o,cdata:o,endDoc:function(e){for(;n.length;n.length--)e.push("</",n[n.length-1].rep,">")}})}var k=/^(?:https?|mailto)$/i;function B(e,t,n,a,r){if(!r)return null;try{var i=o.parse(""+e);if(i&&(!i.hasScheme()||k.test(i.getScheme()))){var s=r(i,t,n,a);return s?s.toString():null}}catch(e){return null}return null}function x(e,t,n,a,o){if(n||e(t+" removed",{change:"removed",tagName:t}),a!==o){var r="changed";a&&!o?r="removed":!a&&o&&(r="added"),e(t+"."+n+" "+r,{change:r,tagName:t,attribName:n,oldValue:a,newValue:o})}}function F(e,t,n){var a;return a=t+"::"+n,e.hasOwnProperty(a)?e[a]:(a="*::"+n,e.hasOwnProperty(a)?e[a]:void 0)}function H(t,n){return F(e.LOADERTYPES,t,n)}function G(t,n){return F(e.URIEFFECTS,t,n)}function U(a,o,r,i,s){for(var l=0;l<o.length;l+=2){var d,u=o[l],c=o[l+1],p=c,h=null;if(d=a+"::"+u,(e.ATTRIBS.hasOwnProperty(d)||(d="*::"+u,e.ATTRIBS.hasOwnProperty(d)))&&(h=e.ATTRIBS[d]),null!==h)switch(h){case e.atype.NONE:break;case e.atype.SCRIPT:c=null,s&&x(s,a,u,p,c);break;case e.atype.STYLE:if(void 0===t){c=null,s&&x(s,a,u,p,c);break}var f=[];t(c,{declaration:function(t,a){var o=t.toLowerCase();n(o,a,r?function(t){return B(t,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:o},r)}:null),a.length&&f.push(o+": "+a.join(" "))}}),c=f.length>0?f.join(" ; "):null,s&&x(s,a,u,p,c);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:c=i?i(c):c,s&&x(s,a,u,p,c);break;case e.atype.URI:c=B(c,G(a,u),H(a,u),{TYPE:"MARKUP",XML_ATTR:u,XML_TAG:a},r),s&&x(s,a,u,p,c);break;case e.atype.URI_FRAGMENT:c&&"#"===c.charAt(0)?(c=c.substring(1),null!=(c=i?i(c):c)&&(c="#"+c)):c=null,s&&x(s,a,u,p,c);break;default:c=null,s&&x(s,a,u,p,c)}else c=null,s&&x(s,a,u,p,c);o[l+1]=c}return o}function Y(t,n,a){return function(o,r){if(!(e.ELEMENTS[o]&e.eflags.UNSAFE))return{attribs:U(o,r,t,n,a)};a&&x(a,o,void 0,void 0,void 0)}}function W(e,t){var n=[];return L(t)(e,n),n.join("")}var K={};return K.escapeAttrib=K.escapeAttrib=v,K.makeHtmlSanitizer=K.makeHtmlSanitizer=L,K.makeSaxParser=K.makeSaxParser=C,K.makeTagPolicy=K.makeTagPolicy=Y,K.normalizeRCData=K.normalizeRCData=g,K.sanitize=K.sanitize=function(e,t,n,a){return W(e,Y(t,n,a))},K.sanitizeAttribs=K.sanitizeAttribs=U,K.sanitizeWithPolicy=K.sanitizeWithPolicy=W,K.unescapeEntities=K.unescapeEntities=h,K}(a),i=r.sanitize;"undefined"!=typeof window&&(window.html=r,window.html_sanitize=i);var s={};s.escapeAttrib=r.escapeAttrib,s.makeHtmlSanitizer=r.makeHtmlSanitizer,s.makeSaxParser=r.makeSaxParser,s.makeTagPolicy=r.makeTagPolicy,s.normalizeRCData=r.normalizeRCData,s.sanitizeAttribs=r.sanitizeAttribs,s.sanitizeWithPolicy=r.sanitizeWithPolicy,s.unescapeEntities=r.unescapeEntities,s.escape=r.escapeAttrib,s.sanitize=function(e,t,n,a){return"string"==typeof e&&(e=e.replace(/<([a-zA-Z]+)([^>]*)\/>/g,"<$1$2></$1>")),e?r.sanitize(e,t,n,a):e},e.exports&&(t=e.exports=s),t.Sanitizer=s},function(e,t,n){var a={atype:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},ATTRIBS:{"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0},eflags:{OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},ELEMENTS:{a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,var:0},URIEFFECTS:{},LOADERTYPES:{}};e.exports&&(t=e.exports=a),t.URI=a},function(e,t,n){var a=function(){function e(e){var t=(""+e).match(c);return t?new d(u(t[1]),u(t[2]),u(t[3]),u(t[4]),u(t[5]),u(t[6]),u(t[7])):null}function t(e){return"string"==typeof e?encodeURIComponent(e):null}function n(e,t){return"string"==typeof e?encodeURI(e).replace(t,a):null}function a(e){var t=e.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(15&t)}var o=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),r=new RegExp(o),i=/^(?:\.\.\/)*(?:\.\.$)?/;function s(e){if(null===e)return null;for(var t,n=function(e){return e.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}(e),a=r;(t=n.replace(a,"$1"))!=n;n=t);return n}function l(e,t){var n=e.clone(),a=t.hasScheme();a?n.setRawScheme(t.getRawScheme()):a=t.hasCredentials(),a?n.setRawCredentials(t.getRawCredentials()):a=t.hasDomain(),a?n.setRawDomain(t.getRawDomain()):a=t.hasPort();var o=t.getRawPath(),r=s(o);if(a)n.setPort(t.getPort()),r=r&&r.replace(i,"");else if(a=!!o){if(47!==r.charCodeAt(0)){var l=s(n.getRawPath()||"").replace(i,""),d=l.lastIndexOf("/")+1;r=s((d?l.substring(0,d):"")+s(o)).replace(i,"")}}else(r=r&&r.replace(i,""))!==o&&n.setRawPath(r);return a?n.setRawPath(r):a=t.hasQuery(),a?n.setRawQuery(t.getRawQuery()):a=t.hasFragment(),a&&n.setRawFragment(t.getRawFragment()),n}function d(e,t,n,a,o,r,i){this.scheme_=e,this.credentials_=t,this.domain_=n,this.port_=a,this.path_=o,this.query_=r,this.fragment_=i,this.paramCache_=null}function u(e){return"string"==typeof e&&e.length>0?e:null}d.prototype.toString=function(){var e=[];return null!==this.scheme_&&e.push(this.scheme_,":"),null!==this.domain_&&(e.push("//"),null!==this.credentials_&&e.push(this.credentials_,"@"),e.push(this.domain_),null!==this.port_&&e.push(":",this.port_.toString())),null!==this.path_&&e.push(this.path_),null!==this.query_&&e.push("?",this.query_),null!==this.fragment_&&e.push("#",this.fragment_),e.join("")},d.prototype.clone=function(){return new d(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},d.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},d.prototype.getRawScheme=function(){return this.scheme_},d.prototype.setScheme=function(e){return this.scheme_=n(e,p),this},d.prototype.setRawScheme=function(e){return this.scheme_=e||null,this},d.prototype.hasScheme=function(){return null!==this.scheme_},d.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},d.prototype.getRawCredentials=function(){return this.credentials_},d.prototype.setCredentials=function(e){return this.credentials_=n(e,p),this},d.prototype.setRawCredentials=function(e){return this.credentials_=e||null,this},d.prototype.hasCredentials=function(){return null!==this.credentials_},d.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},d.prototype.getRawDomain=function(){return this.domain_},d.prototype.setDomain=function(e){return this.setRawDomain(e&&encodeURIComponent(e))},d.prototype.setRawDomain=function(e){return this.domain_=e||null,this.setRawPath(this.path_)},d.prototype.hasDomain=function(){return null!==this.domain_},d.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},d.prototype.setPort=function(e){if(e){if((e=Number(e))!==(65535&e))throw new Error("Bad port number "+e);this.port_=""+e}else this.port_=null;return this},d.prototype.hasPort=function(){return null!==this.port_},d.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},d.prototype.getRawPath=function(){return this.path_},d.prototype.setPath=function(e){return this.setRawPath(n(e,h))},d.prototype.setRawPath=function(e){return e?(e=String(e),this.path_=!this.domain_||/^\//.test(e)?e:"/"+e):this.path_=null,this},d.prototype.hasPath=function(){return null!==this.path_},d.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},d.prototype.getRawQuery=function(){return this.query_},d.prototype.setQuery=function(e){return this.paramCache_=null,this.query_=t(e),this},d.prototype.setRawQuery=function(e){return this.paramCache_=null,this.query_=e||null,this},d.prototype.hasQuery=function(){return null!==this.query_},d.prototype.setAllParameters=function(e){if("object"==typeof e&&!(e instanceof Array)&&(e instanceof Object||"[object Array]"!==Object.prototype.toString.call(e))){var t=[],n=-1;for(var a in e){"string"==typeof(s=e[a])&&(t[++n]=a,t[++n]=s)}e=t}this.paramCache_=null;for(var o=[],r="",i=0;i<e.length;){a=e[i++];var s=e[i++];o.push(r,encodeURIComponent(a.toString())),r="&",s&&o.push("=",encodeURIComponent(s.toString()))}return this.query_=o.join(""),this},d.prototype.checkParameterCache_=function(){if(!this.paramCache_){var e=this.query_;if(e){for(var t=e.split(/[&\?]/),n=[],a=-1,o=0;o<t.length;++o){var r=t[o].match(/^([^=]*)(?:=(.*))?$/);n[++a]=decodeURIComponent(r[1]).replace(/\+/g," "),n[++a]=decodeURIComponent(r[2]||"").replace(/\+/g," ")}this.paramCache_=n}else this.paramCache_=[]}},d.prototype.setParameterValues=function(e,t){"string"==typeof t&&(t=[t]),this.checkParameterCache_();for(var n=0,a=this.paramCache_,o=[],r=0;r<a.length;r+=2)e===a[r]?n<t.length&&o.push(e,t[n++]):o.push(a[r],a[r+1]);for(;n<t.length;)o.push(e,t[n++]);return this.setAllParameters(o),this},d.prototype.removeParameter=function(e){return this.setParameterValues(e,[])},d.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},d.prototype.getParameterValues=function(e){this.checkParameterCache_();for(var t=[],n=0;n<this.paramCache_.length;n+=2)e===this.paramCache_[n]&&t.push(this.paramCache_[n+1]);return t},d.prototype.getParameterMap=function(e){this.checkParameterCache_();for(var t={},n=0;n<this.paramCache_.length;n+=2){var a=this.paramCache_[n++],o=this.paramCache_[n++];a in t?t[a].push(o):t[a]=[o]}return t},d.prototype.getParameterValue=function(e){this.checkParameterCache_();for(var t=0;t<this.paramCache_.length;t+=2)if(e===this.paramCache_[t])return this.paramCache_[t+1];return null},d.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},d.prototype.getRawFragment=function(){return this.fragment_},d.prototype.setFragment=function(e){return this.fragment_=e?encodeURIComponent(e):null,this},d.prototype.setRawFragment=function(e){return this.fragment_=e||null,this},d.prototype.hasFragment=function(){return null!==this.fragment_};var c=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),p=/[#\/\?@]/g,h=/[\#\?]/g;return d.parse=e,d.create=function(e,o,r,i,s,l,u){var c=new d(n(e,p),n(o,p),t(r),i>0?i.toString():null,n(s,h),null,t(u));return l&&("string"==typeof l?c.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,a)):c.setAllParameters(l)),c},d.resolve=l,d.collapse_dots=s,d.utils={mimeTypeOf:function(t){var n=e(t);return/\.html$/.test(n.getPath())?"text/html":"application/javascript"},resolve:function(t,n){return t?l(e(t),e(n)).toString():""+n}},d}();e.exports&&(t=e.exports=a),t.URI=a},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var a,o=n(654),r=(a=o)&&a.__esModule?a:{default:a};t.actionTypes=(0,r.default)({INIT_CUSTOM:null,OPEN:null,CLOSE:null,OPEN_DIALOG:null,CLOSE_DIALOG:null,HANDLE_CHANGE:null,ADD_CONTACT:null,CLICK_ROW:null,DOUBLE_CLICK_ROW:null,CLICK_ROW_SHIFT:null,CLICK_ROW_CTRL:null,SELECT_ALL:null,UNSELECT_ALL:null,SELECT_CONTACT_UP:null,SELECT_CONTACT_DOWN:null,DELETE_SELECTED:null,EDIT_CONTACT:null,SORT_CONTACTS:null,SEARCH_CONTACTS:null,SEARCH_UPDATE:null,CLEAR_SEARCH:null,TOGGLE_IMPORT:null,TOGGLE_EDIT:null,SET_CONTACTS:null,SET_INITIAL_MODE:null,DELETE_ALL:null,SET_LOCAL:null,SET_FIELDS_MASK:null,SET_FILTER_MASK:null,SET_FILTER_TOGGLE:null,SET_ACTIVE_ROWS:null,APPLY_CONTACTS_MASK:null,IMPORT_EMAIL:null,SET_SINGLE_PAGE:null,ON_RESIZE_WINDOW:null,HANDLE_ERROR_MODAL:null,HANDLE_ALERT_MODAL:null,WS_CONNECTION_ON:null,HANDLE_SAVING_CONTACT:null,HANDLE_SEARCH_FIELD:null,HANDLE_BLOCK_POINT:null,SET_WS_CONNECT:null,SET_WINDOW_TYPE:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookCounter=void 0;var a,o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=n(0),u=h(d),c=n(55),p=n(842);function h(e){return e&&e.__esModule?e:{default:e}}t.AddressBookCounter=(0,c.connect)(function(e){return{contactsNumber:e.ab.contacts.length,singlePage:e.ab.singlePage,viewType:e.ab.viewType}})(a=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return this.props.contactsNumber>0?this.props.singlePage?this.props.viewType===p.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):u.default.createElement("div",{className:"myac-counter-header__contact-counter"},u.default.createElement("span",{className:"dab-header-title__label"},this.props.contactsNumber," contacts")):u.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):null}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleErrorGenerator=o;var a=n(973);function o(e,t,n,o,r){var i=void 0,s=void 0,l=void 0;switch(t){case a.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT;break;default:i=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT}n(i,s,l,o,r)}t.default={handleErrorGenerator:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultController=o,t.setCurrentController=r,t.cancelCurrentController=i,t.emit=s;var a=n(667);function o(e){return{type:a.actionTypes.SET_DEFAULT_CONTROLLER,controller:e}}function r(e){return{type:a.actionTypes.SET_CURRENT_CONTROLLER,controller:e}}function i(e){return{type:a.actionTypes.CANCEL_CURRENT_CONTROLLER,controller:e}}function s(e,t){return{type:a.actionTypes.EMIT,eventType:e,event:t}}t.default={setDefaultController:o,setCurrentController:r,cancelCurrentController:i,emit:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ws=t.im=void 0;var a=n(1298),o=n(1308);t.im=a.im,t.ws=o.ws},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_SIGNATURE_FONT_SIZE=24;t.default={JELLYCA:{original:"Jellyka CuttyCupcakes",custom:"font-JellykaCuttyCupcakes"},PETRA:{original:"PetraScriptEF",custom:"font-PetraScriptEF"},SIGNATURE:{original:"signature",custom:"font-signature"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorManager=t.imageSignature=void 0;var a=r(n(1309)),o=r(n(1316));function r(e){return e&&e.__esModule?e:{default:e}}t.imageSignature=a.default,t.editorManager=o.default},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){"object"===(void 0===e?"undefined":a(e))&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e),(t=(0,o.default)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));var n=e.split(".");if(t.require_tld){var r=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1}for(var s,l=0;l<n.length;l++){if(s=n[l],t.allow_underscores&&(s=s.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(s))return!1;if(/[\uff01-\uff5e]/.test(s))return!1;if("-"===s[0]||"-"===s[s.length-1])return!1}return!0};var a=r(n(833)),o=r(n(947));function r(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.moveCaretAtEnd=function(e){var t=e.target;/text|password|search|tel|url/.test(t.type)&&t.setSelectionRange(t.value.length,t.value.length)}}},function(e,t,n){"use strict";var a=n(1172),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,i=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),d=function(e,t,n,a){var o;t in e&&("function"!=typeof(o=a)||"[object Function]"!==r.call(o)||!a())||(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},r=a(t);o&&(r=i.call(r,Object.getOwnPropertySymbols(t)));for(var s=0;s<r.length;s+=1)d(e,r[s],t[r[s]],n[r[s]])};u.supportsDescriptors=!!l,e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageItem=void 0;var a=h(n(490)),o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=h(n(23)),u=n(0),c=h(u),p=n(979);function h(e){return e&&e.__esModule?e:{default:e}}var f={src:d.default.string,showImage:d.default.bool},m=t.ImageItem=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOnLoad=function(){n.setState({loading:!1})},n.state={loading:!0},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.showImage,o=this.state.loading,r=(0,a.default)({},o&&{display:"none"});return c.default.createElement(u.Fragment,null,n&&t&&c.default.createElement("img",{style:r,src:t,onLoad:this.handleOnLoad,alt:""}),o&&c.default.createElement(p.Loader,null))}}]),t}(u.Component);m.propTypes=f,m.defaultProps={showImage:!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBook=void 0;var a,o=M(n(653)),r=M(n(490)),i=M(n(180)),s=M(n(87)),l=M(n(81)),d=M(n(83)),u=M(n(88)),c=M(n(89)),p=n(0),h=M(p),f=M(n(23)),m=n(842),E=n(1267),S=n(973),_=n(224),v=n(857),g=n(1270),T=n(1279),b=n(55),y=n(844),C=M(n(3)),O=n(1041);M(O);function M(e){return e&&e.__esModule?e:{default:e}}var A=M(n(1140)).default.controllerActions,D=A.setDefaultController,I=A.setCurrentController,w=A.cancelCurrentController;(t.AddressBook=(0,b.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,loaded:e.ab.loaded,fieldsMask:e.modal.options.AddressBook?e.modal.options.AddressBook.fieldsMask:null,fieldsMaskInternal:e.ab.fieldsMaskInternal,filterMaskReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterMask:null,filterMaskInternalOr:e.ab.filterMaskInternalOr,filterMaskInternalAnd:e.ab.filterMaskInternalAnd,filterToggleReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterToggle:null,filterToggleInternal:e.ab.filterToggleInternal,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,activeRowsReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.activeRows:null,activeRows:e.ab.activeRows,controllerFromOptions:e.modal.options.AddressBook&&e.modal.options.AddressBook.controller,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null,mainButtonName:e.modal.options.AddressBook?e.modal.options.AddressBook.mainButtonName:null,searchBy:e.ab.searchBy,importContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.importContacts:null,inputHandlerFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.inputHandler:null,controllerConstantsFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.controllerConstants:null,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null,selectMax:e.modal.options.AddressBook?e.modal.options.AddressBook.selectMax:null}},function(e){return{actions:(0,_.bindActionCreators)({setLocal:y.setLocal,setFieldsMask:y.setFieldsMask,setFilterMask:y.setFilterMask,setFilterToggle:y.setFilterToggle,setActiveRows:y.setActiveRows,setDefaultController:D,setCurrentController:I,closeModal:y.closeModal,setContacts:y.setContacts,deleteSelectedContacts:y.deleteSelectedContacts,deleteAllContacts:y.deleteAllContacts,importEmail:y.importEmail,setSinglePage:y.setSinglePage,clearSearch:y.clearSearch,setInitialMode:y.setInitialMode,cancelCurrentController:w,initCustom:y.initCustom,selectAllContacts:y.selectAllContacts,handleErrorModal:y.handleErrorModal,handleAlertModal:y.handleAlertModal,wsConnectionOn:y.wsConnectionOn,setWindowType:y.setWindowType},e)}})(a=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.LOCAL=E.LOCAL,("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&(n.LOCAL=(0,r.default)({},E.LOCAL,window.allConstants)),n.modalId=t.getModalId(),n.configureFilterToggle=n.configureFilterToggle.bind(n),n.configureFilterMask=n.configureFilterMask.bind(n),n.makeArray=n.makeArray.bind(n),n.arrayStringify=n.arrayStringify.bind(n),n.handleError=n.handleError.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleAlertEscape=n.handleAlertEscape.bind(n),n.handleAlertEnter=n.handleAlertEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.handleGetContacts=n.handleGetContacts.bind(n),n.getContactsCb=n.getContactsCb.bind(n),n.handleDeleteContact=n.handleDeleteContact.bind(n),n.deleteContactCb=n.deleteContactCb.bind(n),n.handleDeleteAllContacts=n.handleDeleteAllContacts.bind(n),n.deleteAllContactsCb=n.deleteAllContactsCb.bind(n),n.handleImportGmail=n.handleImportGmail.bind(n),n.handleImportYahoo=n.handleImportYahoo.bind(n),n.handleImportHotmail=n.handleImportHotmail.bind(n),n.handleImportOutlook=n.handleImportOutlook.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.controller=n.props.controller||n.props.controllerFromOptions||null,n.inputHandler=n.props.inputHandler||n.props.inputHandlerFromOptions||null,n.controllerConstants=n.props.controllerConstants||n.props.controllerConstantsFromOptions||null,n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"configureFilterToggle",value:function(){return(0,C.default)(this.props.filterToggleReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.filterToggleReceived:this.props.filterToggleInternal}},{key:"configureFilterMask",value:function(e){var t=e===m.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR?this.props.filterMaskInternalOr:this.props.filterMaskInternalAnd,n=void 0;if((0,C.default)(this.props.filterMaskReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0){var a=(n=[].concat((0,o.default)(this.props.filterMaskReceived))).indexOf(m.SYSTEM.ADDRESSBOOK_FIELD_NAME);-1!==a&&n.splice(a,1)}return(0,C.default)(this.props.filterMaskReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?n:t}},{key:"makeArray",value:function(e){return Array.isArray(e)?e:[e]}},{key:"arrayStringify",value:function(e){return e.map(function(e){return e.toString()})}},{key:"componentWillMount",value:function(){var e=this.props.actions,t=e.setLocal,n=e.setFieldsMask,a=e.setFilterMask,o=e.setFilterToggle,s=e.setActiveRows,l=e.setDefaultController,d=e.setCurrentController,u=e.setSinglePage,c=e.initCustom,p=e.wsConnectionOn;if(this.apiRest=this.props.apiRest?this.props.apiRest:c(this.props.config.api.baseUrl,this.props.config.api.appKey,this.props.userCredentials),!this.props.loaded){t(this.LOCAL),this.props.singlePage&&u(),n((0,C.default)(this.props.fieldsMask,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.fieldsMask:this.props.fieldsMaskInternal);var h=((0,i.default)((0,C.default)(this.props,"activeRowsReceived",null))===m.SYSTEM.ADDRESSBOOK_NUMBER?this.props.activeRowsReceived.toString():this.props.activeRowsReceived)||this.props.activeRows;h=this.makeArray(h),s(h=this.arrayStringify(h));var f=this.configureFilterToggle();o(f),a(this.configureFilterMask(f)),this.controller&&(l(this.controller),d(this.controller))}var E={dialogModalName:this.props.dialogModalName,openModal:this.props.openModal,closeModal:this.props.closeModal,ADDRESSBOOK_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_IMPORTED_CONTACTS,ADDRESSBOOK_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS,handleGetContacts:this.handleGetContacts};this.props.config&&(E=(0,r.default)({},E,{connect:{host:this.props.config.ws.host,port:this.props.config.ws.port},baseUrl:this.props.config.system.baseUrl}),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&(E=(0,r.default)({},E,{connect:(0,r.default)({},E.connect,{userId:window.user.userId})}))),p(E)}},{key:"handleError",value:function(e,t,n,a,o){this.props.openModal(this.props.errorModalName,{title:e,content:t,btnConfirmText:n,btnConfirmCallback:a||null,onCloseModal:o||null}),(0,this.props.actions.handleErrorModal)(!0)}},{key:"onErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"getContactsCb",value:function(e,t){var n=this,a=this.props.actions,o=a.setInitialMode,r=a.setContacts,i=a.handleErrorModal;e?((0,O.handleErrorGenerator)(this.LOCAL,S.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS,this.handleError,function(){n.offErrorController(),o(),i(!1),(0,v.windowFocus)()},function(){n.offErrorController(),o(),i(!1),(0,v.windowFocus)()}),this.onErrorController()):r(t)}},{key:"handleGetContacts",value:function(){this.apiRest.handleGetContacts(this.getContactsCb)}},{key:"deleteContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.deleteSelectedContacts,r=a.handleErrorModal;e?((0,O.handleErrorGenerator)(this.LOCAL,S.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT,this.handleError,function(){n.offErrorController(),r(!1),(0,v.windowFocus)()},function(){n.offErrorController(),r(!1),(0,v.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleDeleteContact",value:function(e){this.apiRest.handleDeleteContact(e,this.deleteContactCb)}},{key:"deleteAllContactsCb",value:function(e,t){var n=this,a=this.props.actions,o=a.deleteAllContacts,r=a.handleErrorModal;e?((0,O.handleErrorGenerator)(this.LOCAL,S.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS,this.handleError,function(){n.offErrorController(),r(!1),(0,v.windowFocus)()},function(){n.offErrorController(),r(!1),(0,v.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleDeleteAllContacts",value:function(){this.apiRest.handleDeleteAllContacts(this.deleteAllContactsCb)}},{key:"handleImportGmail",value:function(){var e=this.apiRest.handleImportGmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportYahoo",value:function(){var e=this.apiRest.handleImportYahoo();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportHotmail",value:function(){var e=this.apiRest.handleImportHotmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportOutlook",value:function(){var e=this.apiRest.handleImportOutlook();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleEnter",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts)(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}},{key:"handleEscape",value:function(){if(this.props.singlePage){var e=this.props.actions.clearSearch;""!==this.props.searchBy&&e()}else{(0,this.props.actions.closeModal)(),this.props.handleCloseModal(),this.props.cancelDummyController&&this.props.cancelDummyController()}}},{key:"handleCtrlA",value:function(){var e=this.props,t=e.selectMax,n=e.actions;t||n.selectAllContacts()}},{key:"handleDelete",value:function(){this.openApproveModal()}},{key:"deleteContact",value:function(){this.props.activeRows.length!==this.props.contactsBackup.length?this.handleDeleteContact(this.props.activeRows):this.handleDeleteAllContacts()}},{key:"handleAlertEscape",value:function(){this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,v.windowFocus)()}},{key:"handleAlertEnter",value:function(){this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,v.windowFocus)()}},{key:"onAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"offAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,v.windowFocus)()},btnCancelText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,v.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"handleEscapeErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,v.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,v.windowFocus)()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.loaded,n=e.singlePage,a=e.actions.setWindowType;a(),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.addEventListener("resize",a),t||this.handleGetContacts(),this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<=m.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT&&(n||(0,v.addMobileClass)())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.singlePage,n=e.actions,a=n.cancelCurrentController,o=n.setWindowType;this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),t||(0,v.removeMobileClass)(),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.removeEventListener("resize",o),this.controller&&a(this.controller)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){if((0,C.default)(this.props,"contacts",null))return this.props.singlePage?h.default.createElement(T.SinglePage,{alertModal:this.props.alertModal,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest}):h.default.createElement(g.ModalWindow,{importContacts:this.props.importContacts,handleCloseModal:this.props.handleCloseModal,mainButtonName:this.props.mainButtonName,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest,isApp:this.props.isApp})}}],[{key:"getModalId",value:function(){return m.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK}}]),t}(p.Component))||a).propTypes={handleCloseModal:f.default.func,config:f.default.object,openModal:f.default.func,closeModal:f.default.func,errorModalName:f.default.string,alertModalName:f.default.string,controller:f.default.object,singlePage:f.default.bool,alertModal:f.default.bool,inputHandler:f.default.object,controllerConstants:f.default.object,isApp:f.default.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSearch=void 0;var a,o=E(n(87)),r=E(n(81)),i=E(n(83)),s=E(n(88)),l=E(n(89)),d=n(0),u=E(d),c=n(55),p=n(224),h=E(n(6)),f=n(844),m=n(842);function E(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSearch=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,local:e.ab.local,searchFieldShow:e.ab.searchFieldShow}},function(e){return{actions:(0,p.bindActionCreators)({searchContacts:f.searchContacts,clearSearch:f.clearSearch,handleSearchField:f.handleSearchField},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n.handleSearch=n.handleSearch.bind(n),n.renderClearSearch=n.renderClearSearch.bind(n),n.handleSearchInput=n.handleSearchInput.bind(n),n.renderSearchField=n.renderSearchField.bind(n),n.activateSearchInput=n.activateSearchInput.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(){this.activateSearchInput()}},{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"handleSearch",value:function(e){var t=this.props.actions,n=t.searchContacts,a=t.clearSearch;""!==e.target.value?n(e.target.value,this.props.fieldsMask):a()}},{key:"handleSearchInput",value:function(){(0,this.props.actions.handleSearchField)(),this.props.searchFieldShow&&this.handleClearSearch()}},{key:"activateSearchInput",value:function(){this.refs[m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD]&&this.refs[m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD].focus()}},{key:"renderSearchField",value:function(){if(this.props.searchFieldShow)return u.default.createElement("div",{className:" g-form-group g-form-group-search"},this.renderClearSearch(),u.default.createElement("input",{id:"dab-search",ref:m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}},{key:"renderClearSearch",value:function(){return""!==this.props.searchBy?u.default.createElement("div",{className:"clean-search",onClick:this.handleClearSearch}):null}},{key:"render",value:function(){var e=(0,h.default)("myac-counter-header__search-input-icon-wrap",{"is-active":this.props.searchFieldShow});return this.props.singlePage?u.default.createElement("div",{className:"myac-counter-header__search-input"},this.renderSearchField(),u.default.createElement("div",{className:e,onClick:this.handleSearchInput},u.default.createElement("div",{className:"myac-counter-header__search-input-icon"}))):u.default.createElement("div",{className:"dab-header__search g-form-group g-form-group-search"},u.default.createElement("label",{forHtml:"dab-search",className:"i i-search dab-header__search-icon"}),this.renderClearSearch(),u.default.createElement("input",{id:"dab-search",placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSort=void 0;var a,o=E(n(87)),r=E(n(81)),i=E(n(83)),s=E(n(88)),l=E(n(89)),d=n(0),u=E(d),c=n(55),p=n(1274),h=n(224),f=n(842),m=n(844);function E(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSort=(0,c.connect)(function(e){return{contacts:e.ab.contacts,sortIsOpen:e.ab.sortIsOpen,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,local:e.ab.local,fieldsMask:e.ab.fieldsMask}},function(e){return{actions:(0,h.bindActionCreators)({dropdownToggle:m.dropdownToggle,sortContacts:m.sortContacts},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleSort=n.handleSort.bind(n),n.showName=n.showName.bind(n),n.showDirection=n.showDirection.bind(n),n.getSort=n.getSort.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleSort",value:function(e,t){var n=this.props.actions.sortContacts;this.props.sortBy===e&&this.props.sortDirection===t||n(e,t)}},{key:"showName",value:function(e){return{name:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,email:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,phone:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,fax:this.props.local.ADDRESSBOOK_UPPERCASE_FAX}[e]}},{key:"showDirection",value:function(){return this.props.sortBy===f.SYSTEM.ADDRESSBOOK_FIELD_NAME?this.props.sortDirection:null}},{key:"getSort",value:function(e,t){var n=this;return-1!==this.props.fieldsMask.indexOf(e)?u.default.createElement("div",{onClick:function(){n.handleSort(e,t)}},this.showName(e)):null}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"ab-header__sort enable"},u.default.createElement("div",{className:"g-form-group"},u.default.createElement(p.Select,{type:"bare",size:"sm",labelText:this.props.local.ADDRESSBOOK_SORT_BY,list:[u.default.createElement("div",{onClick:function(){e.handleSort(f.SYSTEM.ADDRESSBOOK_FIELD_NAME,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_AZ),u.default.createElement("div",{onClick:function(){e.handleSort(f.SYSTEM.ADDRESSBOOK_FIELD_NAME,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_ZA),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_PHONE,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_FAX,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)]})))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookInitialContent=void 0;var a,o=v(n(87)),r=v(n(81)),i=v(n(83)),s=v(n(88)),l=v(n(89)),d=n(0),u=v(d),c=n(55),p=n(224),h=n(842),f=n(844),m=n(1125),E=n(1126),S=n(1127),_=n(1128);function v(e){return e&&e.__esModule?e:{default:e}}t.AddressBookInitialContent=(0,c.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"ab-import"},u.default.createElement("div",{className:"ab-import__inner"},u.default.createElement("div",{className:"ab-import-table"},u.default.createElement("div",{className:"ab-import-cell ab-import-cell--after-or"},u.default.createElement("div",{className:"ab-import__icon ab-import__icon--blue"},u.default.createElement("i",{className:"i i-import-contacts"})),u.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL),u.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_BRING_TOGETHER),u.default.createElement("div",{className:"ab-import-list"},u.default.createElement(m.GmailContactsImport,{handleImportGmail:this.props.handleImportGmail}),u.default.createElement(E.YahooContactsImport,{handleImportYahoo:this.props.handleImportYahoo}),u.default.createElement(S.HotmailContactsImport,{handleImportHotmail:this.props.handleImportHotmail}),u.default.createElement(_.OutlookContactsImport,{handleImportOutlook:this.props.handleImportOutlook}))),u.default.createElement("div",{className:"ab-import-cell"},u.default.createElement("div",{className:"ab-import__icon ab-import__icon--green"},u.default.createElement("i",{className:"i i-add-users"})),u.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_CREATE_A_NEW_CONTACT),u.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON," ",this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT),u.default.createElement("a",{href:"#",className:"g-btn g-btn-primary ab-import__add-contact-btn",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},this.props.local.ADDRESSBOOK_ADD_CONTACT)))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GmailContactsImport=void 0;var a,o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=n(0),u=h(d),c=n(55),p=n(857);function h(e){return e&&e.__esModule?e:{default:e}}t.GmailContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportGmail():setTimeout(this.props.handleImportGmail,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item gmail",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_GMAIL_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YahooContactsImport=void 0;var a,o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=n(0),u=h(d),c=n(55),p=n(857);function h(e){return e&&e.__esModule?e:{default:e}}t.YahooContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportYahoo():setTimeout(this.props.handleImportYahoo,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item yahoo",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_YAHOO_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotmailContactsImport=void 0;var a,o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=n(0),u=h(d),c=n(55),p=n(857);function h(e){return e&&e.__esModule?e:{default:e}}t.HotmailContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportHotmail():setTimeout(this.props.handleImportHotmail,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item hotmail",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_HOTMAIL_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlookContactsImport=void 0;var a,o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=n(0),u=h(d),c=n(55),p=n(857);function h(e){return e&&e.__esModule?e:{default:e}}t.OutlookContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportOutlook():setTimeout(this.props.handleImportOutlook,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item outlook",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_OUTLOOK_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookListContent=void 0;var a,o=g(n(180)),r=g(n(87)),i=g(n(81)),s=g(n(83)),l=g(n(88)),d=g(n(89)),u=n(0),c=g(u),p=n(55),h=n(842),f=g(n(3)),m=n(224),E=n(857),S=g(n(1275)),_=g(n(6)),v=n(844);function g(e){return e&&e.__esModule?e:{default:e}}t.AddressBookListContent=(0,p.connect)(function(e){return{contacts:e.ab.contacts,errorModalOpen:e.ab.errorModalOpen,alertModalOpen:e.ab.alertModalOpen,searchDialogOpen:e.ab.searchDialogOpen,activeRows:e.ab.activeRows,addEditContact:e.ab.addEditContact,selectMax:e.modal.options.AddressBook?e.modal.options.AddressBook.selectMax:null,fieldsMask:e.ab.fieldsMask,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,singlePage:e.ab.singlePage,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,blockPoint:e.ab.blockPoint,viewType:e.ab.viewType}},function(e){return{actions:(0,m.bindActionCreators)({clickOnContact:v.clickOnContact,doubleClickOnContact:v.doubleClickOnContact,closeModal:v.closeModal,selectContactUp:v.selectContactUp,selectContactDown:v.selectContactDown,openDialog:v.openDialog},e)}})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.getEmail=n.getEmail.bind(n),n.getPhone=n.getPhone.bind(n),n.getFax=n.getFax.bind(n),n.handleClick=n.handleClick.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.clearSelection=n.clearSelection.bind(n),n.handleUp=n.handleUp.bind(n),n.handleDown=n.handleDown.bind(n),n.scrollIntoActiveRow=n.scrollIntoActiveRow.bind(n),n.addArrowsController=n.addArrowsController.bind(n),n.removeArrowsController=n.removeArrowsController.bind(n),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"scrollIntoActiveRow",value:function(e){var t=this.refs.contactsList.querySelector(".ab-item--active");t&&t.scrollIntoView(e)}},{key:"addArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"removeArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"componentDidMount",value:function(){this.scrollIntoActiveRow(),this.addArrowsController()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.addEditContact,a=t.errorModalOpen,o=t.alertModalOpen,r=t.searchDialogOpen,i=t.activeRows,s=t.contacts,l=t.sortDirection,d=t.scrollToTop;if((!e.addEditContact.open&&n.open||!e.errorModalOpen&&a||!e.alertModalOpen&&o||!e.searchDialogOpen&&r)&&this.removeArrowsController(),e.addEditContact.open&&!n.open){if(1===i.length)if(1!==e.activeRows.length)this.scrollIntoActiveRow();else if(i[0]!==e.activeRows[0])this.scrollIntoActiveRow();else{var u=(0,E.findContactById)(s,i[0]);if(u){var c=(0,E.findContactById)(e.contacts,i[0]);h.SYSTEM.ADDRESSBOOK_EDITABLE_FIELDS.filter(function(e){return u[e]!==c[e]}).length>0&&this.scrollIntoActiveRow()}}this.addArrowsController()}(e.errorModalOpen&&!a||e.alertModalOpen&&!o||e.searchDialogOpen&&!r)&&this.addArrowsController(),this.props.sortBy===e.sortBy&&l===e.sortDirection||!d||this.props.scrollToTop()}},{key:"componentWillUnmount",value:function(){this.removeArrowsController()}},{key:"handleUp",value:function(){var e=this.props.actions.selectContactUp;("undefined"==typeof window?"undefined":(0,o.default)(window))!==h.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<h.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?(this.scrollIntoActiveRow(!1),e()):(e(),this.scrollIntoActiveRow(!0))}},{key:"handleDown",value:function(){(0,this.props.actions.selectContactDown)(),this.scrollIntoActiveRow(!1)}},{key:"getEmail",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_EMAIL],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"},c.default.createElement("div",{title:"E-mail",className:"ab-item-data__email tooltipstered tooltip--top"},e.email));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}},{key:"getPhone",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_PHONE)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_PHONE],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"},c.default.createElement("div",{title:"Phone",className:"ab-item-data__tel tooltipstered tooltip--top"},e.phone));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}},{key:"getFax",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_FAX)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_FAX],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"},c.default.createElement("div",{title:"Fax",className:"ab-item-data__fax tooltipstered tooltip--top"},e.fax));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}},{key:"handleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),a=Boolean(e.shiftKey);(0,this.props.actions.clickOnContact)(t,n,a,this.props.selectMax)}}},{key:"handleDoubleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),a=Boolean(e.shiftKey);if(!n&&!a){var o=this.props.actions,r=o.doubleClickOnContact,i=o.openDialog,s=o.closeModal;if(r(t),this.props.singlePage)i(h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT);else if(this.props.sendContacts){var l=this.props.contacts.find(function(e){return t===e.id});s(),this.props.sendContacts([l]),this.props.handleCloseModal()}}}}},{key:"clearSelection",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeRows,a=t.fieldsMask,o=t.viewType,r=t.contacts.map(function(t){var r=(0,_.default)("ab-item",{"ab-item--active":n.indexOf(t.id)>=0});return c.default.createElement(S.default,{contactClass:r,key:t.id,handleClick:e.handleClick,handleDoubleClick:e.handleDoubleClick,onMouseDown:e.clearSelection,contact:t,fieldsMask:a,viewType:o})});return c.default.createElement("div",{className:"ab-contacts-list",ref:"contactsList"},r)}}]),t}(u.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_modal=void 0;var a,o=y(n(653)),r=y(n(490)),i=y(n(87)),s=y(n(81)),l=y(n(83)),d=y(n(88)),u=y(n(89)),c=n(0),p=y(c),h=n(224),f=n(55),m=y(n(6)),E=n(842),S=n(973),_=n(844),v=n(1041),g=(y(v),y(n(1131))),T=n(857),b=n(1132);function y(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalAddEdit_modal=(0,f.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,singlePage:e.ab.singlePage,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,h.bindActionCreators)({handleChange:_.handleChange,closeDialog:_.closeDialog,addContact:_.addContact,editContact:_.editContact,handleErrorModal:_.handleErrorModal,handleSavingContact:_.handleSavingContact,handleBlockPoint:_.handleBlockPoint},e)}})(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX],n.fieldsMobile=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE],n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.props.singlePage&&(this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)))}},{key:"componentWillUnmount",value:function(){this.props.singlePage&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"componentDidUpdate",value:function(e){this.props.singlePage||(!e.addEditContact.open&&this.props.addEditContact.open?(window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus():this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete))):e.addEditContact.open&&!this.props.addEditContact.open&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)))}},{key:"onErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"addContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.addContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,S.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):Number(t.id)>0?o(t):((0,v.handleErrorGenerator)(this.props.local,S.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.editContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,S.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,T.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,T.windowFocus)()}},{key:"handleCtrlA",value:function(){-1===this.fields.indexOf(document.activeElement.name)&&-1===this.fieldsMobile.indexOf(document.activeElement.name)||document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),a=(0,r.default)({selectionStart:t.selectionStart});if((-1!==this.fields.indexOf(t.name)||-1!==this.fieldsMobile.indexOf(t.name))&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart;else{var i=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+i))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart}-1!==t.name.indexOf(E.SYSTEM.ADDRESSBOOK_FIELD_MOBILE_PREFIX)?this.handleInputChange(e,this.fields[this.fieldsMobile.indexOf(t.name)]):this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}else if(this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);e.shiftKey?n>0&&this.refs[this.fieldsMobile[n-1]].focus():n<this.fieldsMobile.length-1&&this.refs[this.fieldsMobile[n+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}else if(this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);n<this.fieldsMobile.length-1?this.refs[this.fieldsMobile[n+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,a=t.handleBlockPoint;n(),a(!0),(0,T.windowFocus)(),setTimeout(function(){a(!1)},E.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=e.target.value,a=void 0;switch(t){case E.SYSTEM.ADDRESSBOOK_FIELD_NAME:a=E.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(n);break;case E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:a=(0,b.validateEmail)(n);break;default:a=E.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(n)}a=0===n.length||a,(0,this.props.actions.handleChange)(n,t,a)}},{key:"handleSaveContact",value:function(e){(e.preventDefault(),this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&(this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished&&((0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,T.windowFocus)()))}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,m.default)("add-contact-wrap",{open:this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),n=(0,m.default)("ab-dialog-wrap ab-dialog-wrap--add-contact",{open:this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),a=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.name}),o=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.email}),r=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.phone}),i=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.fax}),s=(0,m.default)("g-btn g-btn-primary g-btn-sm",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)}),l=g.default.defaultInputMaxLength;return p.default.createElement("div",{className:"add-edit-contact-dlg"},p.default.createElement("div",{className:t},p.default.createElement("div",{className:"add-contact"},p.default.createElement("div",{className:"add-contact__title"},this.renderTitle()),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:a,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:l})),p.default.createElement("div",{className:"g-form-list"},p.default.createElement("div",{className:"g-form-group g-form-group--email"},p.default.createElement("label",{className:"input-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:o,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:l})),p.default.createElement("div",{className:"g-form-group g-form-group--tel"},p.default.createElement("label",{className:"input-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"g-form-group g-form-group--fax"},p.default.createElement("label",{className:"input-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"add-contact__footer"},p.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:s,onClick:this.handleSaveContact},this.renderButtonName())))),p.default.createElement("div",{className:n},p.default.createElement("div",{className:"ab-dialog"},p.default.createElement("div",{className:"ab-dialog__content"},p.default.createElement("div",{className:"ab-dialog__title"},this.props.local.ADDRESSBOOK_ADD_EDIT_CONTACT),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:a,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:l})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:o,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:l})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"ab-dialog__footer"},p.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:s,onClick:this.handleSaveContact},this.renderButtonName())))))}}]),t}(c.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultInputMaxLength:80}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;t.validateEmail=function(e){return a.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalSearch=void 0;var a,o=S(n(87)),r=S(n(81)),i=S(n(83)),s=S(n(88)),l=S(n(89)),d=n(0),u=S(d),c=n(55),p=S(n(6)),h=n(857),f=n(224),m=n(842),E=n(844);function S(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalSearch=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,searchDialogOpen:e.ab.searchDialogOpen,local:e.ab.local}},function(e){return{actions:(0,f.bindActionCreators)({closeDialog:E.closeDialog,searchContacts:E.searchContacts,clearSearch:E.clearSearch,searchUpdate:E.searchUpdate},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(e){!e.searchDialogOpen&&this.props.searchDialogOpen?(this.refs[m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape))):e.searchDialogOpen&&!this.props.searchDialogOpen&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"handleEnter",value:function(){this.handleSearch()}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault();var t=this.props.actions,n=t.closeDialog,a=t.clearSearch;n(),a(),(0,h.windowFocus)()}},{key:"handleChange",value:function(e){var t=this.props.actions,n=t.searchUpdate,a=t.clearSearch;""!==e.target.value?n(e.target.value):a()}},{key:"handleSearch",value:function(){var e=this.props.actions,t=e.searchContacts,n=e.closeDialog;""!==this.props.searchBy&&t(this.props.searchBy,this.props.fieldsMask),n(),(0,h.windowFocus)()}},{key:"render",value:function(){var e=this,t=(0,p.default)("ab-dialog-wrap ab-dialog-wrap--search",{open:this.props.searchDialogOpen});return u.default.createElement("div",{className:t},u.default.createElement("div",{className:"ab-dialog"},u.default.createElement("div",{className:"ab-dialog__content"},u.default.createElement("div",{className:"ab-dialog__title"},"Search Contacts"),u.default.createElement("div",{className:"g-form-group"},u.default.createElement("label",{className:"input-icon i i-search"}),u.default.createElement("input",{ref:m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,name:m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,id:"ab-dialog-search",className:"form-input",value:this.props.searchBy,onChange:function(t){e.handleChange(t)}}))),u.default.createElement("div",{className:"ab-dialog__footer"},u.default.createElement("button",{type:"button","data-ab-dialog":"btn-search-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},"Cancel"),u.default.createElement("button",{type:"button",className:"g-btn g-btn-primary g-btn-sm",onClick:this.handleSearch},"Search"))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnAdd=void 0;var a,o=m(n(87)),r=m(n(81)),i=m(n(83)),s=m(n(88)),l=m(n(89)),d=n(0),u=m(d),c=n(55),p=n(224),h=n(842),f=n(844);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnAdd=(0,c.connect)(function(e){return{addEditContact:e.ab.addEditContact,local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--add",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},u.default.createElement("i",{className:"i i-add"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_ADD))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnEdit=void 0;var a,o=v(n(87)),r=v(n(81)),i=v(n(83)),s=v(n(88)),l=v(n(89)),d=n(0),u=v(d),c=n(55),p=n(975),h=v(p),f=n(224),m=v(n(6)),E=n(842),S=n(857),_=n(844);function v(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnEdit=(0,c.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,activeRows:e.ab.activeRows,editIsOpen:e.ab.editIsOpen,local:e.ab.local,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null,singlePage:e.ab.singlePage,viewType:e.ab.viewType,alertModalOpen:e.ab.alertModalOpen}},function(e){return{actions:(0,f.bindActionCreators)({dropdownToggle:_.dropdownToggle,selectAllContacts:_.selectAllContacts,unselectAllContacts:_.unselectAllContacts,deleteSelectedContacts:_.deleteSelectedContacts,openDialog:_.openDialog,handleAlertModal:_.handleAlertModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleAll=n.handleAll.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleEnter=n.handleEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.handleOpenDialog=n.handleOpenDialog.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.renderSelectAll=n.renderSelectAll.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(E.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT,e)}},{key:"handleAll",value:function(){var e=this.props.actions,t=e.selectAllContacts,n=e.unselectAllContacts;this.props.contacts.length===this.props.activeRows.length?n():t()}},{key:"handleOpenDialog",value:function(e,t){this.refs.dropdown.hide(),e.preventDefault();var n=this.props.actions.openDialog;1===this.props.activeRows.length&&n(t)}},{key:"deleteContact",value:function(){this.refs.dropdown.hide(),this.props.activeRows.length!==this.props.contactsBackup.length?this.props.handleDeleteContact(this.props.activeRows):this.props.handleDeleteAllContacts()}},{key:"handleEscape",value:function(){this.props.alertModalOpen&&(this.refs.dropdown.hide(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,S.windowFocus)())}},{key:"handleEnter",value:function(){this.props.alertModalOpen&&(this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,S.windowFocus)())}},{key:"onAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"offAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,S.windowFocus)()},btnCancelText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.refs.dropdown.hide(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,S.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"renderSelectAll",value:function(e){if(this.props.singlePage)return u.default.createElement("div",{className:e,onClick:this.handleAll},this.props.local.ADDRESSBOOK_SELECT_ALL_ITEM)}},{key:"render",value:function(){var e=this,t=(0,m.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===E.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===E.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,open:this.props.editIsOpen}),n=(0,m.default)("g-ibtn i-delete",{disabled:!this.props.activeRows.length>0}),a=(0,m.default)("g-ibtn i-edit",{disabled:1!==this.props.activeRows.length}),o=(0,m.default)("g-ibtn i-select-all",{disabled:this.props.mode.type===E.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL});return u.default.createElement(h.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},u.default.createElement(p.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-settings"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_EDIT)),u.default.createElement(p.DropdownContent,{className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:a,onClick:function(t){e.handleOpenDialog(t,E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT)}},this.props.local.ADDRESSBOOK_EDIT_CONTACT),u.default.createElement("div",{className:n,onClick:this.openApproveModal},this.props.local.ADDRESSBOOK_DELETE_CONTACT),this.renderSelectAll(o))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),r=l(o),i=l(n(23)),s=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=d(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.render=function(){var e=o.props,t=e.children,n=e.className,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]),l=(0,s.default)("dropdown__trigger",n);return r.default.createElement("a",a({className:l},i,{href:"#dropdown-trigger"}),t)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();u.defaultProps={className:""},u.propTypes={children:i.default.node,className:i.default.string},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnImport=void 0;var a,o=b(n(87)),r=b(n(81)),i=b(n(83)),s=b(n(88)),l=b(n(89)),d=n(0),u=b(d),c=n(55),p=n(975),h=b(p),f=n(224),m=b(n(6)),E=n(842),S=n(844),_=n(1125),v=n(1126),g=n(1127),T=n(1128);function b(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnImport=(0,c.connect)(function(e){return{importIsOpen:e.ab.importIsOpen,local:e.ab.local,singlePage:e.ab.singlePage,loaded:e.ab.loaded,viewType:e.ab.viewType}},function(e){return{actions:(0,f.bindActionCreators)({dropdownToggle:S.dropdownToggle},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleDropdownClose=n.handleDropdownClose.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(e){!e.loaded&&this.props.loaded&&this.props.importContacts&&this.refs.dropdown.show()}},{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(E.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT,e)}},{key:"handleDropdownClose",value:function(){this.refs.dropdown.hide()}},{key:"render",value:function(){var e=this,t=(0,m.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===E.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===E.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,"g-dropdown-wrap--import":!0,open:this.props.importIsOpen});return u.default.createElement(h.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},u.default.createElement(p.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-import-contacts"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_IMPORT_CONTACTS)),u.default.createElement(p.DropdownContent,{className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:"ab-import-list"},u.default.createElement(_.GmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportGmail:this.props.handleImportGmail}),u.default.createElement(v.YahooContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportYahoo:this.props.handleImportYahoo}),u.default.createElement(g.HotmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportHotmail:this.props.handleImportHotmail}),u.default.createElement(T.OutlookContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportOutlook:this.props.handleImportOutlook})))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookMobileSearchBtn=void 0;var a,o=m(n(87)),r=m(n(81)),i=m(n(83)),s=m(n(88)),l=m(n(89)),d=n(0),u=m(d),c=n(55),p=n(224),h=n(842),f=n(844);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookMobileSearchBtn=(0,c.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog,clearSearch:f.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault();var n=this.props.actions,a=n.openDialog;(0,n.clearSearch)(),a(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--search",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_SEARCH)}},u.default.createElement("i",{className:"i i-search"}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=n(0),u=h(d),c=n(55),p=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}t.Loader=(0,c.connect)(function(e){return{loaded:e.ab.loaded,loaderMessage:e.ab.local.ADDRESSBOOK_LOADING_CONTACTS}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.renderMessage=n.renderMessage.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderMessage",value:function(e){if(e)return u.default.createElement("div",{className:"g-loader__label"},e)}},{key:"render",value:function(){var e=(0,p.default)("",{"":!this.props.loaded});return u.default.createElement("div",{className:e},u.default.createElement("div",{className:"g-loader"},u.default.createElement("div",{className:"g-loader__wrapper"},u.default.createElement("div",{className:"g-loader__layer"},u.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},u.default.createElement("div",{className:"g-loader__circle"})),u.default.createElement("div",{className:"g-loader__gap-patch"},u.default.createElement("div",{className:"g-loader__circle"})),u.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},u.default.createElement("div",{className:"g-loader__circle"})))),u.default.createElement("div",{className:"g-loader__label"},this.renderMessage(this.props.loaderMessage))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1283)),o=l(n(532)),r=n(668),i=n(976),s=l(n(1042));function l(e){return e&&e.__esModule?e:{default:e}}t.default={controllers:a.default,controllerMiddleware:o.default,inputHandler:r.inputHandler,SYSTEM:i.SYSTEM,controllerActions:s.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(81),r=(a=o)&&a.__esModule?a:{default:a},i=n(976);t.default=function e(){var t=this;(0,r.default)(this,e),this.on=function(){document.body.addEventListener(i.SYSTEM.EVENT_KEY_DOWN,t.handleKeyDown),document.body.addEventListener(i.SYSTEM.EVENT_KEY_UP,t.handleKeyUp),document.addEventListener(i.SYSTEM.EVENT_CLICK,t.handleClick),document.addEventListener(i.SYSTEM.EVENT_TOUCH_START,t.handleTouchStart),document.addEventListener(i.SYSTEM.EVENT_SCROLL,t.handleScroll)},this.off=function(){document.body.removeEventListener(i.SYSTEM.EVENT_KEY_DOWN,t.handleKeyDown),document.body.removeEventListener(i.SYSTEM.EVENT_KEY_UP,t.handleKeyUp),document.removeEventListener(i.SYSTEM.EVENT_CLICK,t.handleClick),document.removeEventListener(i.SYSTEM.EVENT_TOUCH_START,t.handleTouchStart),document.removeEventListener(i.SYSTEM.EVENT_SCROLL,t.handleScroll)},this.handleKeyDown=function(e){},this.handleKeyUp=function(e){},this.handleClick=function(e){},this.handleTouchStart=function(e){},this.handleScroll=function(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(653)),o=u(n(449)),r=u(n(490));t.ab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i.actionTypes.SET_LOCAL:return(0,r.default)({},e,{local:t.local});case i.actionTypes.SET_SINGLE_PAGE:return(0,r.default)({},e,{singlePage:!0});case i.actionTypes.SET_FIELDS_MASK:return(0,r.default)({},e,{fieldsMask:t.fieldsMask});case i.actionTypes.SET_ACTIVE_ROWS:return(0,r.default)({},e,{activeRows:t.activeRows,activeRowsBackup:t.activeRows});case i.actionTypes.SET_FILTER_MASK:return(0,r.default)({},e,{filterMask:t.filterMask});case i.actionTypes.SET_FILTER_TOGGLE:return(0,r.default)({},e,{filterToggle:t.filterToggle});case i.actionTypes.SET_CONTACTS:return(0,r.default)({},e,{contacts:t.contacts.sort((0,s.compare)(e.sortBy,e.sortDirection)),contactsBackup:t.contacts,loaded:!0,mode:(0,r.default)({},e.mode,{type:t.contacts.length>0?d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case i.actionTypes.SET_INITIAL_MODE:return(0,r.default)({},e,{loaded:!0,mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case i.actionTypes.CLOSE:return(0,r.default)({},e,{contacts:e.contactsBackup,loaded:!1,addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)()),activeRows:e.activeRowsBackup,searchBy:""});case i.actionTypes.OPEN_DIALOG:switch(t.contactActionType){case d.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD:return(0,r.default)({},e,{addEditContact:(0,r.default)({},e.addEditContact,{actionType:t.contactActionType,open:!0})});case d.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT:return(0,r.default)({},e,{addEditContact:(0,r.default)({},(0,l.makeEditForm)(e.contacts,e.activeRows,t.contactActionType))});case d.SYSTEM.ADDRESSBOOK_MODAL_SEARCH:return(0,r.default)({},e,{searchDialogOpen:!0});default:return e}case i.actionTypes.CLOSE_DIALOG:return(0,r.default)({},e,{addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)()),searchDialogOpen:!1});case i.actionTypes.HANDLE_CHANGE:return(0,r.default)({},e,{addEditContact:(0,r.default)({},e.addEditContact,(0,o.default)({},t.inputType,t.value)),fieldsValidation:(0,r.default)({},e.fieldsValidation,(0,o.default)({},t.inputType,t.isCorrect))});case i.actionTypes.ADD_CONTACT:var n=(0,l.addContact)(e.addEditContact,t.newContact.id,e.contacts),u=(0,l.addContact)(e.addEditContact,t.newContact.id,e.contactsBackup);return(0,r.default)({},e,{contacts:n.sort((0,s.compare)(e.sortBy,e.sortDirection)),contactsBackup:u,mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST}),addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)()),activeRows:[t.newContact.id],activeRowsBackup:[t.newContact.id]});case i.actionTypes.CLICK_ROW:return(0,r.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case i.actionTypes.CLICK_ROW_CTRL:var p=e.activeRows.indexOf(t.contactID);return p>=0?(0,r.default)({},e,{activeRows:[].concat((0,a.default)(e.activeRows.slice(0,p)),(0,a.default)(e.activeRows.slice(p+1))),activeRowsBackup:[].concat((0,a.default)(e.activeRows.slice(0,p)),(0,a.default)(e.activeRows.slice(p+1)))}):(0,l.acceptCheckSelectMax)(t.selectMax,e.activeRows)?(0,r.default)({},e,{activeRows:[].concat((0,a.default)(e.activeRows),[t.contactID]),activeRowsBackup:[].concat((0,a.default)(e.activeRows),[t.contactID])}):e;case i.actionTypes.CLICK_ROW_SHIFT:var h=(0,s.uniqArr)((0,l.selectedListWithShift)(e.activeRows,t.contactID,e.contacts,t.selectMax));return(0,l.acceptSelectMax)(t.selectMax)?(0,l.checkSelectMax)(t.selectMax,e.activeRows)?(0,r.default)({},e,{activeRows:(0,l.activeListMax)(h,Number(t.selectMax),e.contacts,t.contactID,e.activeRows),activeRowsBackup:(0,l.activeListMax)(h,Number(t.selectMax),e.contacts,t.contactID,e.activeRows)}):e:(0,r.default)({},e,{activeRows:h,activeRowsBackup:h});case i.actionTypes.DOUBLE_CLICK_ROW:return(0,r.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case i.actionTypes.SELECT_ALL:var f=e.contacts.map(function(e){return e.id});return(0,r.default)({},e,{activeRows:[].concat((0,a.default)(f)),activeRowsBackup:[].concat((0,a.default)(f))});case i.actionTypes.UNSELECT_ALL:return(0,r.default)({},e,{activeRows:[],activeRowsBackup:[]});case i.actionTypes.SELECT_CONTACT_DOWN:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,r.default)({},e,{activeRows:[e.contacts[0].id],activeRowsBackup:[e.contacts[0].id]});var m=(0,l.findActivePlace)(e.contacts,e.activeRows,d.SYSTEM.ADDRESSBOOK_MATH_MAX);return m+1<e.contacts.length?(0,r.default)({},e,{activeRows:[e.contacts[m+1].id],activeRowsBackup:[e.contacts[m+1].id]}):e;case i.actionTypes.SELECT_CONTACT_UP:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,r.default)({},e,{activeRows:[e.contacts[0].id]});var E=(0,l.findActivePlace)(e.contacts,e.activeRows,d.SYSTEM.ADDRESSBOOK_MATH_MIN);return E>0?(0,r.default)({},e,{activeRows:[e.contacts[E-1].id]}):e;case i.actionTypes.DELETE_SELECTED:return(0,r.default)({},e,{contacts:(0,l.deleteSelected)(e.contacts,e.activeRows),contactsBackup:(0,l.deleteSelected)(e.contactsBackup,e.activeRows),mode:(0,r.default)({},e.mode,{type:e.contactsBackup.length>0?d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case i.actionTypes.DELETE_ALL:return(0,r.default)({},e,{contacts:[],contactsBackup:[],mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case i.actionTypes.EDIT_CONTACT:var S=(0,l.updateContact)(e.addEditContact,e.contacts),_=(0,l.updateContact)(e.addEditContact,e.contactsBackup);return(0,r.default)({},e,{contacts:S.sort((0,s.compare)(e.sortBy,e.sortDirection)),contactsBackup:_,addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)())});case i.actionTypes.SORT_CONTACTS:return(0,r.default)({},e,{contacts:[].concat((0,a.default)(e.contacts)).sort((0,s.compare)(t.sortBy,t.sortDirection)),contactsBackup:[].concat((0,a.default)(e.contactsBackup)).sort((0,s.compare)(t.sortBy,t.sortDirection)),sortBy:t.sortBy,sortDirection:t.sortDirection});case i.actionTypes.SEARCH_CONTACTS:var v=(0,l.filterContacts)(e.contactsBackup,t.searchBy,t.fieldsMask,d.SYSTEM.ADDRESSBOOK_FIELD_NAME),g=(0,l.filterActiveRows)(v,e.activeRowsBackup);return(0,r.default)({},e,{contacts:v.sort((0,s.compare)(e.sortBy,e.sortDirection)),activeRows:g,searchBy:t.searchBy});case i.actionTypes.SEARCH_UPDATE:return(0,r.default)({},e,{searchBy:t.searchBy});case i.actionTypes.CLEAR_SEARCH:return(0,r.default)({},e,{contacts:e.contactsBackup.sort((0,s.compare)(e.sortBy,e.sortDirection)),activeRows:e.activeRowsBackup,searchBy:""});case i.actionTypes.TOGGLE_IMPORT:return(0,r.default)({},e,{importIsOpen:t.dropdownToggle===d.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case i.actionTypes.TOGGLE_EDIT:return(0,r.default)({},e,{editIsOpen:t.dropdownToggle===d.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case i.actionTypes.ON_RESIZE_WINDOW:return(0,r.default)({},e,{viewType:t.viewType});case i.actionTypes.HANDLE_ERROR_MODAL:return(0,r.default)({},e,{errorModalOpen:t.errorModalOpen});case i.actionTypes.HANDLE_ALERT_MODAL:return(0,r.default)({},e,{alertModalOpen:t.alertModalOpen});case i.actionTypes.WS_CONNECTION_ON:return(0,r.default)({},e,{wsConnectionOn:!0});case i.actionTypes.HANDLE_SAVING_CONTACT:return(0,r.default)({},e,{saveContactFinished:t.saved});case i.actionTypes.HANDLE_SEARCH_FIELD:return(0,r.default)({},e,{searchFieldShow:t.handler||!e.searchFieldShow});case i.actionTypes.HANDLE_BLOCK_POINT:return(0,r.default)({},e,{blockPoint:t.handler});case i.actionTypes.SET_WS_CONNECT:return(0,r.default)({},e,{connect:t.connect,baseUrl:t.baseUrl});default:return e}};var i=n(1039),s=n(857),l=n(1288),d=n(842);function u(e){return e&&e.__esModule?e:{default:e}}var c={local:null,mode:{type:null},fieldsMaskInternal:[d.SYSTEM.ADDRESSBOOK_FIELD_NAME,d.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,d.SYSTEM.ADDRESSBOOK_FIELD_PHONE,d.SYSTEM.ADDRESSBOOK_FIELD_FAX],fieldsMask:null,filterMaskInternalOr:[d.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,d.SYSTEM.ADDRESSBOOK_FIELD_PHONE,d.SYSTEM.ADDRESSBOOK_FIELD_FAX],filterMaskInternalAnd:[],filterMask:null,filterToggleInternal:d.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,filterToggle:null,contacts:[],contactsBackup:[],loaded:!1,addEditContact:{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0},fieldsValidation:{name:!0,email:!0,phone:!0,fax:!0},editIsOpen:!1,activeRows:[],activeRowsBackup:[],sortBy:d.SYSTEM.ADDRESSBOOK_FIELD_NAME,sortDirection:d.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ,sortIsOpen:!1,searchBy:"",searchDialogOpen:!1,importIsOpen:!1,serverReplyStatus:null,singlePage:!1,viewType:null,errorModalOpen:!1,alertModalOpen:!1,wsConnectionOn:!1,saveContactFinished:!0,searchFieldShow:!1,blockPoint:!1,connect:null,baseUrl:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maskMiddleware=void 0;var a=p(n(490)),o=p(n(180)),r=p(n(1289)),i=n(1290),s=n(1039),l=n(857),d=n(842),u=n(844),c=n(1297);function p(e){return e&&e.__esModule?e:{default:e}}t.maskMiddleware=function(e){return function(t){return function(n){var p=e.getState();if(n){switch(n.type){case s.actionTypes.INIT_CUSTOM:return new c.apiRestMediator({baseUrl:n.baseUrl,appKey:n.appKey,userCredentials:n.userCredentials});case s.actionTypes.WS_CONNECTION_ON:if(!p.ab.wsConnectionOn){var h=void 0;(h=p.ab.connect?new i.WsService(p.ab.connect.host,p.ab.connect.port,p.ab.connect.userId):new i.WsService(n.wsConnectObj.connect.host,n.wsConnectObj.connect.port,n.wsConnectObj.connect.userId)).on(d.SYSTEM.ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH,function(t){if(n.wsConnectObj.dialogModalName&&n.wsConnectObj.openModal&&n.wsConnectObj.closeModal){var a=void 0,r=void 0,i=void 0;!t.countNew||(0,o.default)(t.countNew)!==d.SYSTEM.ADDRESSBOOK_NUMBER&&(0,o.default)(t.countNew)!==d.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countNew)?!t.countUpdated||(0,o.default)(t.countUpdated)!==d.SYSTEM.ADDRESSBOOK_NUMBER&&(0,o.default)(t.countUpdated)!==d.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countUpdated)?(a=n.wsConnectObj.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_WARNING):(a=n.wsConnectObj.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS):(a=n.wsConnectObj.ADDRESSBOOK_IMPORTED_CONTACTS.replace(d.SYSTEM.ADDRESSBOOK_REGEXP_NUMBER,t.countNew.toString()),r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS),n.wsConnectObj.openModal(n.wsConnectObj.dialogModalName,{size:d.SYSTEM.ADDRESSBOOK_DIALOG_SIZE_SM,modalType:i,title:r,text:a,showCloseButton:!1})}if(n.wsConnectObj.closeModal){var s=n.wsConnectObj;setTimeout(function(){s.closeModal(s.dialogModalName)},d.SYSTEM.ADDRESSBOOK_DIALOG_TIMEOUT)}t.data?e.dispatch((0,u.setContacts)(t.data)):n.wsConnectObj.handleGetContacts(),("undefined"==typeof window?"undefined":(0,o.default)(window))!==d.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.childWindow&&(window.childWindow.close(),window.childWindow=null,(0,l.windowFocus)())});var f=void 0;f=p.ab.baseUrl?p.ab.baseUrl:n.wsConnectObj.baseUrl,h.on(d.SYSTEM.ADDRESSBOOK_MMC_TYPE_ALERT,function(e){e.event&&e.event===d.SYSTEM.ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN&&(0,l.redirect)(f,d.SYSTEM.ADDRESSBOOK_LOGIN_URL)}),h.connect()}break;case s.actionTypes.SET_CONTACTS:n.contacts=n.contacts.filter(function(e){return(0,l.filterMaskApply)(p.ab.filterMask,p.ab.filterToggle,d.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,e)}),n.contacts=n.contacts.map(function(e){return(0,a.default)({},e,{name:e.contact_name})});break;case s.actionTypes.ADD_CONTACT:n.newContact.id=n.newContact.id.toString();break;case s.actionTypes.IMPORT_EMAIL:(0,l.openWindow)(n.url,500,500,(0,r.default)(n.props));break;case s.actionTypes.SET_WINDOW_TYPE:(0,l.setWindowType)(e,d.SYSTEM,u.onResizeWindow)}return t(n)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONNECT="WEBSOCKET_CONNECT",t.CLOSE="WEBSOCKET_CLOSE",t.ERROR="WEBSOCKET_ERROR",t.PING_DELAY=5e3,t.SUBSCRIBER_METHODS={open:"onOpen",close:"onClose",message:"onMessage",error:"onError"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(654),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({all:null,text:null,curve:null,svg:null,image:null,initials:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(654),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({SIGNATURE_EDITOR_LOCALE_SET:null,EDITOR_RESET:null,EDITOR_DIMENSIONS_SET:null,INITIAL_STATE_RESTORE:null,EDITED_IMAGE_RESTORE:null,TOOL_SELECT:null,IMAGE_INITIAL_SET:null,IMAGE_SET:null,IMAGE_ROTATE:null,IMAGE_FLIP:null,IMAGE_DIMENSIONS_SET:null,IMAGE_PARAMS_RESET:null,IMAGE_PARAMS_SET:null,IMAGE_AUTO_ADJUST:null,IMAGE_INITIAL_ADJUST:null,IMAGE_HORIZONTAL_FLIP:null,IMAGE_VERTICAL_FLIP:null,CROPPED_IMAGE_SET:null,EDITED_IMAGE_SET:null,THICKNESS_SET:null,CROP_APPLY:null,ZOOM_IN:null,ZOOM_OUT:null,BRIGHTNESS_SET:null,CONTRAST_SET:null,THRESHOLD_SET:null,IMAGE_STATE_SAVE:null,ERASED_IMAGE_SAVE:null,HISTORY_STEP_ADD:null,HISTORY_STATE_SET:null,HISTORY_UNDO:null,HISTORY_REDO:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_HISTORY_LENGTH=30,t.MAX_ZOOM=4,t.DEFAULT_PADDING=7},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(490)),o=i(n(1317)),r=n(900);function i(e){return e&&e.__esModule?e:{default:e}}var s={selectedTool:r.TOOLS.flipRotate,locale:r.LOCALE,image:null,initialImage:{},imageDimensions:{},editorDimensions:{},croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET:return(0,a.default)({},e,{locale:(0,o.default)(e.locale,t.locale)});case r.ACTION_TYPES.EDITOR_RESET:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,image:null,croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case r.ACTION_TYPES.EDITOR_DIMENSIONS_SET:return(0,a.default)({},e,{editorDimensions:t.dimensions});case r.ACTION_TYPES.IMAGE_INITIAL_ADJUST:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,image:t.params.src,croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case r.ACTION_TYPES.INITIAL_STATE_RESTORE:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,currentStep:0,totalSteps:1,minStep:0});case r.ACTION_TYPES.EDITED_IMAGE_RESTORE:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate});case r.ACTION_TYPES.IMAGE_INITIAL_SET:return(0,a.default)({},e,{image:t.image,initialImage:t.initialImage});case r.ACTION_TYPES.IMAGE_SET:return(0,a.default)({},e,{image:t.image});case r.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP:return(0,a.default)({},e,{isFlippedHorizontally:!e.isFlippedHorizontally});case r.ACTION_TYPES.IMAGE_VERTICAL_FLIP:return(0,a.default)({},e,{isFlippedVertically:!e.isFlippedVertically});case r.ACTION_TYPES.CROPPED_IMAGE_SET:return(0,a.default)({},e,{croppedImage:t.image});case r.ACTION_TYPES.IMAGE_DIMENSIONS_SET:return(0,a.default)({},e,{imageDimensions:t.dimensions});case r.ACTION_TYPES.EDITED_IMAGE_SET:var n=e.currentStep+1,i=n+1,l=e.minStep;return i>=r.MAX_HISTORY_LENGTH&&(l=i-r.MAX_HISTORY_LENGTH),(0,a.default)({},e,{currentStep:n,minStep:l,image:t.image,totalSteps:t.totalSteps});case r.ACTION_TYPES.ERASED_IMAGE_SAVE:return(0,a.default)({},e,{image:t.image,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case r.ACTION_TYPES.IMAGE_PARAMS_RESET:return(0,a.default)({},e,{threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case r.ACTION_TYPES.IMAGE_PARAMS_SET:return(0,a.default)({},e,{isFlippedVertically:t.params.flipVertically,isFlippedHorizontally:t.params.flipHorizontally,contrast:t.params.contrast,brightness:t.params.brightness,threshold:t.params.threshold});case r.ACTION_TYPES.IMAGE_AUTO_ADJUST:return(0,a.default)({},e,{threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast});case r.ACTION_TYPES.THICKNESS_SET:return(0,a.default)({},e,{eraserThickness:t.size});case r.ACTION_TYPES.TOOL_SELECT:return(0,a.default)({},e,{selectedTool:t.tool});case r.ACTION_TYPES.BRIGHTNESS_SET:return(0,a.default)({},e,{brightness:t.value});case r.ACTION_TYPES.CONTRAST_SET:return(0,a.default)({},e,{contrast:t.value});case r.ACTION_TYPES.THRESHOLD_SET:return(0,a.default)({},e,{threshold:t.value});case r.ACTION_TYPES.ZOOM_IN:return(0,a.default)({},e,{scale:Math.min(r.MAX_ZOOM,e.scale+.1)});case r.ACTION_TYPES.ZOOM_OUT:return(0,a.default)({},e,{scale:e.scale-.1});case r.ACTION_TYPES.CROP_APPLY:return(0,a.default)({},e,{image:e.croppedImage,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,scale:1});case r.ACTION_TYPES.HISTORY_STATE_SET:var d=t.imageParams.threshold,u=t.imageParams.contrast,c=t.imageParams.brightness;return t.imageParams.isAutoCleaned&&(d=r.IMAGE_CLEANER_CONFIG.defaultThreshold,u=r.IMAGE_CLEANER_CONFIG.defaultContrast,c=r.IMAGE_CLEANER_CONFIG.defaultBrightness),(0,a.default)({},e,{threshold:d,contrast:u,brightness:c,image:t.image,isFlippedVertically:t.imageParams.flipVertically,isFlippedHorizontally:t.imageParams.flipHorizontally,currentStep:t.step});case r.ACTION_TYPES.HISTORY_STEP_ADD:var p=e.currentStep+1,h=p+1,f=e.minStep;return h>=r.MAX_HISTORY_LENGTH&&(f=h-r.MAX_HISTORY_LENGTH),(0,a.default)({},e,{currentStep:p,minStep:f,totalSteps:t.totalSteps});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(901)),o=u(n(490)),r=n(876),i=u(n(862)),s=n(900),l=u(n(1318)),d=u(n(1319));function u(e){return e&&e.__esModule?e:{default:e}}var c=i.default.setImage,p=i.default.setEditedImage,h=i.default.resetImageParams,f=i.default.addHistoryStep,m=i.default.flipImageHorizontally,E=i.default.flipImageVertically,S=i.default.setHistoryState,_=i.default.setImageDimensions,v=i.default.restoreInitialState,g=l.default.areParamsDefault,T=l.default.getCurrentImageParams,b=l.default.getParamsForImageFlipping;t.default=function(e){var t=new d.default;return function(n){return function(i){var l=e.getState().signatureEditor;switch(i.type){case s.ACTION_TYPES.EDITOR_RESET:t.clear();break;case s.ACTION_TYPES.INITIAL_STATE_RESTORE:var d=t.restoreInitialState();t.saveImageState(l.currentStep,{},d),e.dispatch(c(d));break;case s.ACTION_TYPES.EDITED_IMAGE_RESTORE:var u=t.getEditedImageState();t.saveImageState(l.currentStep,u.params,u.src),e.dispatch(p(u.src,1)),e.dispatch(_(u.dimensions));break;case s.ACTION_TYPES.IMAGE_ROTATE:var y={src:l.image,clockwise:i.clockwise};(0,r.rotateImage)(y).then(function(n){var a=t.saveImageState(l.currentStep,{},n.src);e.dispatch(p(n.src,a)),e.dispatch(h())});break;case s.ACTION_TYPES.IMAGE_FLIP:var C=l.isFlippedHorizontally,O=l.isFlippedVertically,M=(0,o.default)({},b(l),{src:t.getImage(l.currentStep)});i.horizontally?(C=!C,e.dispatch(m())):i.vertically&&(O=!O,e.dispatch(E())),M=(0,o.default)({},M,{flipHorizontally:C,flipVertically:O}),(0,r.editImage)(M).then(function(n){var a=n.src,r=(0,o.default)({},b(l),{flipHorizontally:C,flipVertically:O}),i=t.saveImageState(l.currentStep,r);e.dispatch(p(a,i))});break;case s.ACTION_TYPES.CROP_APPLY:var A=t.saveImageState(l.currentStep,{},l.croppedImage);e.dispatch(f(A));break;case s.ACTION_TYPES.CONTRAST_SET:var D=(0,o.default)({},T(l),{src:t.getImage(l.currentStep),contrast:i.value});(0,r.editImage)(D).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case s.ACTION_TYPES.BRIGHTNESS_SET:var I=(0,o.default)({},T(l),{src:t.getImage(l.currentStep),brightness:i.value});(0,r.editImage)(I).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case s.ACTION_TYPES.THRESHOLD_SET:var w=(0,o.default)({},T(l),{src:t.getImage(l.currentStep),threshold:i.value});(0,r.editImage)(w).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case s.ACTION_TYPES.ERASED_IMAGE_SAVE:var R=t.saveImageState(l.currentStep,{},i.image);e.dispatch(f(R));break;case s.ACTION_TYPES.IMAGE_STATE_SAVE:var P=T(l),N=t.saveImageState(l.currentStep,P);e.dispatch(f(N));break;case s.ACTION_TYPES.IMAGE_AUTO_ADJUST:var L={src:t.getImage(l.currentStep),contrast:i.contrast,threshold:i.threshold,brightness:i.brightness,flipHorizontally:l.isFlippedHorizontally,flipVertically:l.isFlippedVertically};(0,r.editImage)(L).then(function(e){var t=e.src;return(0,r.trimImage)(t)}).then(function(n){var r=(0,a.default)(L,["src"]),i=t.saveImageState(l.currentStep,(0,o.default)({},r,{isAutoCleaned:!0}),n);e.dispatch(p(n,i))});break;case s.ACTION_TYPES.IMAGE_INITIAL_SET:t.init(l.currentStep,i.image),e.dispatch(v());break;case s.ACTION_TYPES.IMAGE_INITIAL_ADJUST:var k=void 0;t.init(l.currentStep,i.params.src),(0,r.editImage)(i.params).then(function(e){var t=e.src,n=e.width,a=e.height;return k={width:n,height:a},(0,r.trimImage)(t)}).then(function(n){var r=i.params,s=(r.src,(0,a.default)(r,["src"])),d=t.saveImageState(l.currentStep,(0,o.default)({},s,{isAutoCleaned:!0}),n);t.saveEditedImage(n,s,k),e.dispatch(p(n,d)),e.dispatch(_(k))});break;case s.ACTION_TYPES.HISTORY_UNDO:var B=l.currentStep-1,x=t.getImageState(B),F=x.src,H=(0,a.default)(x,["src"]);!H.isAutoCleaned||g(H)?(0,r.editImage)(x).then(function(t){var n=t.src;return e.dispatch(S(n,H,B))}):e.dispatch(S(F,H,B));break;case s.ACTION_TYPES.HISTORY_REDO:var G=l.currentStep+1,U=t.getImageState(G),Y=U.src,W=(0,a.default)(U,["src"]);g(W)?(0,r.editImage)(U).then(function(t){var n=t.src;return e.dispatch(S(n,W,G))}):e.dispatch(S(Y,W,G))}return n(i)}}}},function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return l(e);if("number"==typeof e)return s(e,t);return null},e.exports.format=s,e.exports.parse=l;var a=/\B(?=(\d{3})+(?!\d))/g,o=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),i=t&&t.thousandsSeparator||"",s=t&&t.unitSeparator||"",l=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,d=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&r[u.toLowerCase()]||(u=n>=r.pb?"PB":n>=r.tb?"TB":n>=r.gb?"GB":n>=r.mb?"MB":n>=r.kb?"KB":"B");var c=(e/r[u.toLowerCase()]).toFixed(l);return d||(c=c.replace(o,"$1")),i&&(c=c.replace(a,i)),c+s+u}function l(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=i.exec(e),a="b";return n?(t=parseFloat(n[1]),a=n[4].toLowerCase()):(t=parseInt(e,10),a="b"),Math.floor(r[a]*t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0;var a,o=n(654),r=(a=o)&&a.__esModule?a:{default:a};t.ERRORS=(0,r.default)({BIG_FILE:null,WRONG_TYPE:null,NO_FILES:null,FILE_CANT_BE_OPENED:null,TOO_MANY_FILES:null,DEFAULT_ERROR:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.editorManagerMiddleware=t.imageSignatureMiddleware=t.actions=t.reducers=t.configureStore=t.SignatureManagerComponent=t.ImageManagerComponent=void 0;var a=c(n(1320)),o=c(n(1416)),r=c(n(1454)),i=u(n(1043)),s=u(n(837)),l=u(n(839)),d=n(1045);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}t.ImageManagerComponent=a.default,t.SignatureManagerComponent=o.default,t.configureStore=r.default,t.reducers=i,t.actions=s,t.imageSignatureMiddleware=d.imageSignature,t.editorManagerMiddleware=d.editorManager,t.constants=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(1321),r=(a=o)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1323));t.default={Webcam:r.default,WebcamUtils:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1155)),o=l(n(1326)),r=l(n(1328)),i=l(n(1380)),s=l(n(1382));function l(e){return e&&e.__esModule?e:{default:e}}t.default={DropzoneComponentWrapper:a.default,DropzoneComponentContainerWrapper:o.default,DropzoneButton:r.default,DropzoneContent:i.default,DropzoneTitle:s.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultProps=t.propTypes=void 0;var a=f(n(87)),o=f(n(81)),r=f(n(83)),i=f(n(88)),s=f(n(89)),l=n(0),d=f(l),u=f(n(23)),c=f(n(1587)),p=n(876),h=n(978);function f(e){return e&&e.__esModule?e:{default:e}}var m=t.propTypes={handleFilesSelect:u.default.func.isRequired,handleErrors:u.default.func,handleLoading:u.default.func,acceptTypes:u.default.string,content:u.default.string,maxFileSize:u.default.string,activeClassName:u.default.string,maxFilesNumber:u.default.number,multiple:u.default.bool,checkImage:u.default.bool,imageDimensions:u.default.object,errors:u.default.object,allowedFileTypes:u.default.oneOfType([u.default.string,u.default.array])},E=t.defaultProps={handleErrors:function(){return{}},handleLoading:function(){},imageDimensions:{width:640,height:480},errors:{},maxFileSize:null,maxFilesNumber:null,allowedFileTypes:"",content:null,multiple:!1,activeClassName:"",checkImage:!1},S=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.validateFiles=e.validateFiles.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"validateFiles",value:function(e){var t=this.props,n=t.handleFilesSelect,a=t.handleErrors,o=t.handleLoading,r=t.maxFileSize,i=t.allowedFileTypes,s=t.maxFilesNumber,l=t.checkImage,d=t.imageDimensions,u={customErrors:t.errors,maxFileSize:r,allowedFileTypes:i,maxFilesNumber:s,checkImage:l,imageDimensions:d};o(),(0,p.validateFiles)(e,u,n,a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowedFileTypes,a=t.children,o=t.multiple,r=t.activeClassName,i=Array.isArray(a)?a:[a],s=i.length?i.map(function(t,a){return t.type&&t.type.getId()===h.IDS.button?d.default.cloneElement(t,{key:a,onSelect:e.validateFiles,allowedFileTypes:n,multiple:o,activeClassName:r,inputId:"dropzoneInput"}):d.default.cloneElement(t,{key:a})}):null,l="string"==typeof n?n:n.join();return d.default.createElement("div",{className:"crop-body-cell crop-body-cell--not-border"},d.default.createElement(c.default,{className:"crop-body-upload",onDrop:this.validateFiles,disableClick:!0,multiple:o,activeClassName:r,acceptClassName:r,accept:l},d.default.createElement("div",{className:"crop-body-upload__inner"},s)))}}]),t}(l.Component);t.default=S,S.propTypes=m,S.defaultProps=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validator=t.phoneRegexp=void 0;var a=r(n(321));t.default=function(e){void 0!==e.prototype.validate&&warning(!1,"Cannot decorate `%s` with @validateDecorator, because it already implements `validate().",function(e){var t=e.prototype&&e.prototype.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||"a component"}(e));return e.prototype.validate=s,e};var o=r(n(1331));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.phoneRegexp=/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/;function s(e){var t=[];this.props.validations.forEach(function(n){if("required"==n.rule)!!!e.length&&t.push(n);else if("isEmail"==n.rule&&e.length>0)!o.default.isValidEmail(e)&&t.push(n);else if("isNoSystemEmail"==n.rule&&e.length>0)!o.default.isNoSystemEmail(e)&&t.push(n);else if("isPhone"==n.rule&&e.length>0)!o.default.isValidPhone(e)&&t.push(n);else if("isURL"==n.rule&&e.length>0)!o.default.isURL(e)&&t.push(n);else if("isYoutubeURL"==n.rule&&e.length>0)!o.default.isYoutubeUrl(e)&&t.push(n);else if(e.length>0){var a=o.default[n.rule];"function"==typeof a&&!a(e||"",n.options)&&t.push(n)}});var n=!t.length,a=t[t.length-1];return n?this.setState({errorMessage:""}):this.setState({errorMessage:a.errorMessage?a.errorMessage:""}),n}(0,a.default)(o.default,{isValidPhone:function(e){return i.test(e)},isYoutubeUrl:function(e){return e.match(/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/)},isNotJustSpaces:function(e){return!/^\s+$/.test(e)},isValidEmail:function(e){var t=RegExp(/^[^@]{1,64}@[^@]{1,255}$/,"i").test(e),n=RegExp(/^[a-z0-9!#$%&*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z](?:[a-z]*[a-z])?$/,"i").test(e);return t&&n},isNoSystemEmail:function(e){return!RegExp(/^u[?|\d\]+[\d]+\@pdffiller\.com$/,"i").test(e)}}),t.validator=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),parseFloat(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),(t=(0,o.default)(t,l)).require_display_name||t.allow_display_name){var n=e.match(d);if(n)e=n[1];else if(t.require_display_name)return!1}var s=e.split("@"),f=s.pop(),m=s.join("@"),E=f.toLowerCase();"gmail.com"!==E&&"googlemail.com"!==E||(m=m.replace(/\./g,"").toLowerCase());if(!(0,r.default)(m,{max:64})||!(0,r.default)(f,{max:256}))return!1;if(!(0,i.default)(f,{require_tld:t.require_tld}))return!1;if('"'===m[0])return m=m.slice(1,m.length-1),t.allow_utf8_local_part?h.test(m):c.test(m);for(var S=t.allow_utf8_local_part?p:u,_=m.split("."),v=0;v<_.length;v++)if(!S.test(_[v]))return!1;return!0};var a=s(n(833)),o=s(n(947)),r=s(n(1159)),i=s(n(1049));function s(e){return e&&e.__esModule?e:{default:e}}var l={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,c=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,i.default)(e);var n=void 0,o=void 0;"object"===(void 0===t?"undefined":a(t))?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var r=encodeURI(e).split(/%..|./).length-1;return r>=n&&(void 0===o||r<=o)};var o,r=n(833),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(t);n=String(n);if(!n)return e(t,4)||e(t,6);if("4"===n){if(!i.test(t))return!1;var a=t.split(".").sort(function(e,t){return e-t});return a[3]<=255}if("6"===n){var o=t.split(":"),l=!1,d=e(o[o.length-1],4),u=d?7:8;if(o.length>u)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(o.shift(),o.shift(),l=!0):"::"===t.substr(t.length-2)&&(o.pop(),o.pop(),l=!0);for(var c=0;c<o.length;++c)if(""===o[c]&&c>0&&c<o.length-1){if(l)return!1;l=!0}else if(d&&c===o.length-1);else if(!s.test(o[c]))return!1;return l?o.length>=1:o.length===u}return!1};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,s=/^[0-9A-F]{1,4}$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var a,o=t.alpha={"en-US":/^[A-Z]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"nl-NL":/^[A-ZÉËÏÓÖÜ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЯЄIЇҐ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},r=t.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nl-NL":/^[0-9A-ZÉËÏÓÖÜ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЯЄIЇҐ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},i=t.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],s=0;s<i.length;s++)o[a="en-"+i[s]]=o["en-US"],r[a]=r["en-US"];o["pt-BR"]=o["pt-PT"],r["pt-BR"]=r["pt-PT"];for(var l,d=t.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],u=0;u<d.length;u++)o[l="ar-"+d[u]]=o.ar,r[l]=r.ar},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullWidth=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=t.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.halfWidth=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=t.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[0-9A-F]+$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso8601=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=t.iso8601=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("^["+t+"]+","g"):/^\s+/g;return e.replace(n,"")};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("["+t+"]"):/\s/,a=e.length-1;for(;a>=0&&n.test(e[a]);)a--;return a<e.length?e.substr(0,a+1):e};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("["+t+"]+","g"),"")};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(0)),o=s(n(1383)),r=s(n(1386)),i=s(n(1391));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},a.default.createElement(o.default,null),a.default.createElement(r.default,null),a.default.createElement(i.default,null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(87)),i=h(n(81)),s=h(n(83)),l=h(n(88)),d=h(n(89)),u=n(0),c=h(u),p=h(n(23));function h(e){return e&&e.__esModule?e:{default:e}}var f=(o=a=function(e){function t(){(0,i.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.setReference=function(t){t&&!e.canvas&&(e.canvas=t,e.ctx=e.canvas.getContext("2d"))},e.canvas=null,e.ctx=null,e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.drawImage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.image;t&&t!==e.image&&this.drawImage()}},{key:"drawImage",value:function(){var e=this.props.image;e&&(this.canvas.width=e.width,this.canvas.height=e.height,this.ctx.drawImage(e,0,0))}},{key:"render",value:function(){return c.default.createElement("canvas",{ref:this.setReference,style:{display:"block",margin:"auto"}})}}]),t}(u.Component),a.propTypes={image:p.default.object},o);t.default=f},function(e,t,n){var a=n(1172),o=n(1398),r=n(1399),i=n(1400),s=n(1404),l=n(1406),d=Date.prototype.getTime;function u(e,t,n){var h=n||{};return!(h.strict?!r(e,t):e!==t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?h.strict?r(e,t):e==t:function(e,t,n){var r,h;if(typeof e!=typeof t)return!1;if(c(e)||c(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var f=i(e),m=i(t);if(f!==m)return!1;if(f||m)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return d.call(e)===d.call(t);var E=p(e),S=p(t);if(E!==S)return!1;if(E||S){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var _=a(e),v=a(t)}catch(e){return!1}if(_.length!==v.length)return!1;for(_.sort(),v.sort(),r=_.length-1;r>=0;r--)if(_[r]!=v[r])return!1;for(r=_.length-1;r>=0;r--)if(h=_[r],!u(e[h],t[h],n))return!1;return!0}(e,t,h))}function c(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=u},function(e,t,n){"use strict";var a=Array.prototype.slice,o=n(1173),r=Object.keys,i=r?function(e){return r(e)}:n(1397),s=Object.keys;i.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(a.call(e)):s(e)}):Object.keys=i;return Object.keys||i},e.exports=i},function(e,t,n){"use strict";var a=Object.prototype.toString;e.exports=function(e){var t=a.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===a.call(e.callee)),n}},function(e,t,n){"use strict";var a=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==a(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var a=n(1174),o=n(1051).supportsDescriptors,r=Object.getOwnPropertyDescriptor,i=TypeError;e.exports=function(){if(!o)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=r(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=b(n(87)),s=b(n(81)),l=b(n(83)),d=b(n(88)),u=b(n(89)),c=b(n(23)),p=n(0),h=b(p),f=n(55),m=b(n(862)),E=n(884),S=n(867),_=n(843),v=n(839),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),T=b(n(845));function b(e){return e&&e.__esModule?e:{default:e}}var y=(0,f.connect)(function(e){return{backButtonText:(0,_.getSignatureManagerLocale)(e).backButton,saveButtonText:(0,_.getSignatureManagerLocale)(e).editorPreview.saveButton,saveAndUseButtonText:(0,_.getSignatureManagerLocale)(e).editorPreview.saveAndUseButton,mode:e.im.mode,modeSignature:e.im.modeSignature}},{restoreEditedImage:m.default.restoreEditedImage,resetEditor:m.default.resetEditor,smGallery:g.smGallery,initial:g.initial})((r=o=function(e){function t(){var e,n,a,o;(0,s.default)(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.handleBackButtonClick=function(){var e=a.props,t=e.mode,n=e.modeSignature;return t.type===v.MODE_TYPES.EDIT?(a.props.initial(),void a.props.resetEditor()):n.type===v.MODE_TYPES.SM_IMAGE_EDIT?(a.props.smGallery(),void a.props.resetEditor()):void a.props.restoreEditedImage()},a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1),a.props.resetEditor()},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0),a.props.resetEditor()},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.saveButtonText,n=e.saveAndUseButtonText,a=e.backButtonText;return h.default.createElement("div",{className:"sign-m-footer"},h.default.createElement("div",{className:"sign-m-footer__left"},h.default.createElement(S.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick,dataTest:T.default.buttons.back},a)),h.default.createElement("div",{className:"sign-m-footer__right"},h.default.createElement(S.BtnSecondary,{addClass:"g-btn-sm",onClick:this.handleSaveButtonClick,dataTest:T.default.buttons.save},t),h.default.createElement(E.BtnPrimary,{addClass:"g-btn-sm",onClick:this.handleSaveAndUseButtonClick,dataTest:T.default.buttons.saveAndUse},n)))}}]),t}(p.Component),o.propTypes={handleSaveAndUse:c.default.func.isRequired,restoreEditedImage:c.default.func.isRequired,backButtonText:c.default.string.isRequired,saveButtonText:c.default.string.isRequired,saveAndUseButtonText:c.default.string.isRequired,mode:c.default.object.isRequired,modeSignature:c.default.object.isRequired,resetEditor:c.default.func.isRequired,smGallery:c.default.func.isRequired,initial:c.default.func.isRequired},a=r))||a;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerHeader=void 0;var a,o=E(n(449)),r=E(n(87)),i=E(n(81)),s=E(n(83)),l=E(n(88)),d=E(n(89)),u=E(n(23)),c=n(0),p=E(c),h=E(n(6)),f=n(55),m=n(839);function E(e){return e&&e.__esModule?e:{default:e}}var S={icon:u.default.string,title:u.default.string,handleClose:u.default.func,addClass:u.default.string,headerId:u.default.string};(t.ImageManagerHeader=(0,f.connect)(function(e){return e.im.mode})(a=function(e){function t(){var e,n,a,o;(0,i.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(d))),a.handleKeyPress=function(e){e.charCode===m.CHAR_CODES.space&&(e.preventDefault(),a.props.handleClose())},o=n,(0,l.default)(a,o)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.icon,a=e.title,r=e.headerId;return p.default.createElement("div",{className:"sign-m-header "+t},p.default.createElement("div",{className:"sign-m-header__close",onClick:this.props.handleClose,onKeyPress:this.handleKeyPress,tabIndex:0,role:"button","aria-label":"Close"}),n&&p.default.createElement("div",{className:(0,h.default)("sign-m-header__icon",(0,o.default)({},n,n))}),p.default.createElement("div",{className:"sign-m-header__title",dangerouslySetInnerHTML:{__html:a},id:r}))}}]),t}(c.Component))||a).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentUploading=void 0;var a=c(n(87)),o=c(n(81)),r=c(n(83)),i=c(n(88)),s=c(n(89)),l=c(n(23)),d=n(0),u=c(d);function c(e){return e&&e.__esModule?e:{default:e}}(t.ImageManagerContentUploading=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n={width:e.uploadedPercent+"%"};return u.default.createElement("div",{className:"sign-m-body"},u.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--full-height"},u.default.createElement("div",{className:"sign-m-upload-doc-loading"},u.default.createElement("div",{className:"sign-m-upload-doc-loading-icon sign-m-svg-icon-cloud"},u.default.createElement("i",{className:"i i-in-process"})),u.default.createElement("div",{className:"sign-m-upload-doc-loading__title"},t),u.default.createElement("div",{className:"progress"},u.default.createElement("div",{className:"progress-bar",style:n})))))}}]),t}(d.Component)).propTypes={title:l.default.string.isRequired,uploadedPercent:l.default.number}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawComponent=void 0;var a,o,r=E(n(490)),i=E(n(87)),s=E(n(81)),l=E(n(83)),d=E(n(88)),u=E(n(89)),c=n(0),p=E(c),h=E(n(23)),f=n(1425),m=n(1180);function E(e){return e&&e.__esModule?e:{default:e}}t.SignatureDrawComponent=(o=a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.setDrawRootRef=function(e){n.drawRoot=e},n.sDraw=new f.SignatureDrawElement,n.drawRootStyles=(0,r.default)({},(0,m.isSurface)()&&{touchAction:"none"}),n.state={width:0,height:0,MOBILE_PANEL_WIDTH:e.noScale?0:e.drawNavMobileWidth},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.width,n=e.height,a=e.curves,o=e.updateDrawElement,r=e.canDraw,i=e.drawConfig,s=e.canvasStyle,l=this.sDraw.init(t,n,a,o,r,i,s);this.setState({width:t,height:n}),this.drawRoot.appendChild(l)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.width,n=e.height,a=e.noScale;if(this.state.width!==t||this.state.height!==n){this.setState({width:t,height:n});var o=t-this.state.MOBILE_PANEL_WIDTH,r=this.sDraw.update(o,n,a);this.drawRoot.removeChild(this.drawRoot.childNodes[this.drawRoot.childNodes.length-1]),this.drawRoot.appendChild(r)}}},{key:"render",value:function(){return p.default.createElement("div",{ref:this.setDrawRootRef,className:this.props.className,style:this.drawRootStyles})}}]),t}(c.Component),a.propTypes={width:h.default.number,height:h.default.number,curves:h.default.array,noScale:h.default.bool,canDraw:h.default.bool,updateDrawElement:h.default.func,drawConfig:h.default.object,canvasStyle:h.default.object,className:h.default.string,drawNavMobileWidth:h.default.number},a.defaultProps={noScale:!1,drawNavMobileWidth:60},o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=navigator.maxTouchPoints||navigator.msMaxTouchPoints;return window.hasOwnProperty("ontouchstart")||navigator.userAgent.indexOf("Edge")>-1&&e>2||-1===navigator.userAgent.indexOf("Edge")&&e>1||window.matchMedia&&matchMedia("(any-pointer: coarse)").matches};t.isMobile=function(){return new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(navigator.userAgent)||a()},t.isSurface=function(){var e=navigator.userAgent.indexOf("Windows")>-1&&-1===navigator.userAgent.indexOf("Windows Phone");return a()&&e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,o,r,i=_(n(490)),s=_(n(87)),l=_(n(81)),d=_(n(83)),u=_(n(88)),c=_(n(89)),p=_(n(23)),h=_(n(0)),f=_(n(946)),m=_(n(1156)),E=_(n(1050)),S=n(875);function _(e){return e&&e.__esModule?e:{default:e}}t.Input=(0,E.default)(a=(0,m.default)((r=o=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return n.setRef=function(e){n.input=e},n.handleChange=function(e){var t=n.props.onChange,a=n.state.isValid,o=e.target.value.trim();n.setState({value:o,isValid:a}),t(e)},n.handleFocus=function(e){var t=n.props,a=t.onFocus,o=t.value;n.checkValidity(o),a(e),setTimeout(n.moveCaretAtEnd,35,(0,i.default)({},e))},n.state={value:e.value,errorMessage:"",isValid:!0,showAddressBookButton:!(0,S.isIeOrEdge)()},n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value,n=e.value.trim();t!==n&&this.setState({value:n})}},{key:"componentWillUpdate",value:function(e,t){this.state.value!==t.value&&this.checkValidity(t.value)}},{key:"componentDidMount",value:function(){var e=this.props.value;this.input.focus(),e&&this.checkValidity(e)}},{key:"checkValidity",value:function(e){var t=this.props.handleIsValid,n=this.validate(e||"");this.setState({isValid:n}),t(n,e)}},{key:"renderErrorMessage",value:function(){var e=this.props.className,t=this.state.isValid?"":"g-form-group__message--error";return h.default.createElement("div",{className:(0,f.default)({name:"g-form-group__message",modifiers:["size"],disabled:["disabled"]},t,this.props,e)},this.state.errorMessage)}},{key:"renderAddressBookButton",value:function(){var e=this.props.handleAddressBookButtonClick;return h.default.createElement("span",{className:"g-form-add-contact",onClick:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.placeholder,a=e.onBlur,o=e.dataTest,r=this.state,i=r.showAddressBookButton,s=r.isValid,l=r.value,d={name:"g-form-control",modifiers:["size","type","placeholder-bold"],disabled:["disabled"],error:!s},u=s?"":"g-form-control--error";return h.default.createElement("div",{className:"g-form-group"},h.default.createElement("input",{type:"text",value:l,placeholder:n,ref:this.setRef,className:(0,f.default)(d,u,this.props,t),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:a,"data-test":o}),i&&this.renderAddressBookButton(),!s&&this.renderErrorMessage())}}]),t}(h.default.Component),o.defaultProps={placeholder:"",value:"",className:"",validations:[],handleAddressBookButtonClick:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},handleIsValid:function(){}},o.propTypes={placeholder:p.default.string,value:p.default.string,className:p.default.string,validations:p.default.array,handleAddressBookButtonClick:p.default.func,onFocus:p.default.func,onBlur:p.default.func,onChange:p.default.func,handleIsValid:p.default.func,dataTest:p.default.string},a=r))||a)||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(0)),o=l(n(23)),r=n(1438),i=n(1183),s=n(1184);function l(e){return e&&e.__esModule?e:{default:e}}var d={canUndo:o.default.bool.isRequired,canRedo:o.default.bool.isRequired,isDisabled:o.default.bool.isRequired,drawConfig:o.default.shape({}),locale:o.default.shape({}).isRequired,handleUndo:o.default.func.isRequired,handleRedo:o.default.func.isRequired,handleClear:o.default.func.isRequired,handleSetColor:o.default.func.isRequired,handleSetLineWidth:o.default.func.isRequired,setDrawWrapperReference:o.default.oneOfType([o.default.shape({}),o.default.func]).isRequired,children:o.default.oneOfType([o.default.element,o.default.arrayOf(o.default.element)])};function u(e){var t=e.canRedo,n=e.canUndo,o=e.drawConfig,l=e.isDisabled,d=e.locale;return a.default.createElement("div",{className:"sign-m-body"},a.default.createElement("div",{className:"sign-m-text sign-m-text--hide-mobile"},d.text),a.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--draw"},a.default.createElement("div",{className:"sign-m-upload-nav"},a.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},a.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},a.default.createElement(r.UploadNavBtn,{disable:!n,classNameIcon:"i-undo",onClick:e.handleUndo}),a.default.createElement(r.UploadNavBtn,{disable:!t,addClass:"sign-m-upload-nav__btn--border-right",classNameIcon:"i-redo",onClick:e.handleRedo}),a.default.createElement(r.UploadNavBtn,{disable:l,classNameIcon:"i-clear",onClick:e.handleClear},d.cleanButton))),a.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right sign-m-upload-nav__cell--pr"},a.default.createElement(i.DropDownColor,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",setColor:e.handleSetColor,color:o.color}),a.default.createElement(s.DropDownLineThickness,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",setLineWidth:e.handleSetLineWidth}))),a.default.createElement("div",{ref:e.setDrawWrapperReference,className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},e.children)))}u.propTypes=d,u.defaultProps={drawConfig:{},children:null},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownColor=void 0;var a=E(n(974)),o=E(n(87)),r=E(n(81)),i=E(n(83)),s=E(n(88)),l=E(n(89)),d=E(n(23)),u=n(0),c=E(u),p=E(n(6)),h=n(975),f=E(h),m=n(839);function E(e){return e&&e.__esModule?e:{default:e}}var S={color:d.default.string,addClass:d.default.string,setColor:d.default.func};(t.DropDownColor=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.dropdownToggle=function(e){n.setState({open:e})},n.changeColor=function(e){(0,n.props.setColor)(e),n.dropdown&&n.dropdown.hide()},n.setReference=function(e){n.dropdown=e},n.state={open:!1},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderColorsList",value:function(){var e=this;return(0,a.default)(m.DRAW_OPTIONS.COLORS).map(function(t){var n=m.DRAW_OPTIONS.COLORS[t];return c.default.createElement("div",{key:t,className:"sign-m-dropdown-colors__item",onClick:function(){return e.changeColor(n)}},c.default.createElement("div",{style:{background:"#"+n}}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.addClass,a=void 0===n?"":n,o=t.color,r=this.state.open,i=(0,p.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-colors":!0,open:r});return c.default.createElement(f.default,{className:i+" "+a,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},c.default.createElement(h.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty","aria-hidden":!0,tabIndex:-1},c.default.createElement("div",{className:"sign-m-dropdown-colors__preview",style:{backgroundColor:"#"+o}})),c.default.createElement(h.DropdownContent,{className:"g-dropdown-popup",style:{top:"calc(100% + 2px)"}},c.default.createElement("div",{className:"g-dropdown-popup-list"},this.renderColorsList())))}}]),t}(u.Component)).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownLineThickness=void 0;var a=m(n(87)),o=m(n(81)),r=m(n(83)),i=m(n(88)),s=m(n(89)),l=m(n(23)),d=n(0),u=m(d),c=n(975),p=m(c),h=m(n(6)),f=n(839);function m(e){return e&&e.__esModule?e:{default:e}}var E={setLineWidth:l.default.func,addClass:l.default.string};(t.DropDownLineThickness=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.dropdownToggle=function(e){n.setState({open:e})},n.itemClick=function(e){(0,n.props.setLineWidth)(e),n.dropdown.hide()},n.setReference=function(e){n.dropdown=e},n.state={open:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.addClass,n=void 0===t?"":t,a=this.state.open,o=(0,h.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-list-thickness":!0,open:a});return u.default.createElement(p.default,{className:o+" "+n,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},u.default.createElement(c.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty","aria-hidden":!0,tabIndex:-1},u.default.createElement("i",{className:"i i-thinkness"})),u.default.createElement(c.DropdownContent,{"aria-labelledby":"menu-1",className:"g-dropdown-popup",style:{top:"calc(100% + 2px)"}},u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.XSMALL)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--2px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.SMALL)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--4px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.MEDIUM)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--6px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.LARGE)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--8px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.XLARGE)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--10px"})))))}}]),t}(d.Component)).propTypes=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(23)),o=n(0),r=p(o),i=n(55),s=n(837),l=n(1183),d=n(1184),u=n(867),c=n(884);function p(e){return e&&e.__esModule?e:{default:e}}var h={handleClear:a.default.func.isRequired,handleSetColor:a.default.func.isRequired,handleSetLineWidth:a.default.func.isRequired,handleSaveAndUse:a.default.func.isRequired,doneButtonText:a.default.string.isRequired,backButtonText:a.default.string.isRequired,isDisabled:a.default.bool.isRequired,storeDrawNavMobileRef:a.default.func,drawConfig:a.default.object};function f(e){var t=(0,i.useDispatch)(),n=e.doneButtonText,a=e.backButtonText,p=e.drawConfig,h=e.isDisabled,f=(0,o.useCallback)(function(){e.handleSaveAndUse(!0)},[e.handleSaveAndUse]),m=(0,o.useCallback)(function(){t((0,s.smInitial)())},[]);return r.default.createElement("div",{className:"sign-m-draw-nav-mobile sign-m-mobile-show",ref:e.storeDrawNavMobileRef},r.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--top"},r.default.createElement(c.BtnPrimary,{disabled:h,onClick:f},n)),r.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--center"},r.default.createElement("div",{className:"sign-m-draw-nav-mobile__btn",onClick:e.handleClear},r.default.createElement("i",{className:"i i-clear"})),r.default.createElement(l.DropDownColor,{setColor:e.handleSetColor,color:p.color}),r.default.createElement(d.DropDownLineThickness,{setLineWidth:e.handleSetLineWidth})),r.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--bottom"},r.default.createElement(u.BtnSecondary,{onClick:m},a)))}f.propTypes=h,f.defaultProps={drawConfig:{},storeDrawNavMobileRef:null},t.default=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1121),o=n(1286),r=n(1287),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1142)),s=n(1143),l=n(844);t.default={AddressBook:a.AddressBook,AddressBookButton:o.AddressBookButton,create:r.create,reducers:i,maskMiddleware:s.maskMiddleware,initCustom:l.initCustom,setWsConnect:l.setWsConnect}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOCAL={ADDRESSBOOK_MAIN_NAME:"Address Book",ADDRESSBOOK_SEARCH_RESULTS:"Search Results",ADDRESSBOOK_ADD_EDIT_CONTACT:"Add/Edit Contact",ADDRESSBOOK_ADD_CONTACT_TITLE:"Add Contact",ADDRESSBOOK_EDIT_CONTACT_TITLE:"Edit Contact",ADDRESSBOOK_ADD_BUTTON_DIALOG:"Add",ADDRESSBOOK_EDIT_BUTTON_DIALOG:"Save",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_UPPERCASE_NAME:"Name",ADDRESSBOOK_UPPERCASE_EMAIL:"Email",ADDRESSBOOK_UPPERCASE_PHONE:"Phone",ADDRESSBOOK_UPPERCASE_FAX:"Fax",ADDRESSBOOK_UPPERCASE_LABEL_NAME:"Full Name",ADDRESSBOOK_UPPERCASE_LABEL_EMAIL:"Email Address",ADDRESSBOOK_UPPERCASE_LABEL_PHONE:"Phone Number",ADDRESSBOOK_UPPERCASE_LABEL_FAX:"Fax Number",ADDRESSBOOK_UPPERCASE_SEARCH:"Search",ADDRESSBOOK_BUTTON_CANCEL:"Cancel",ADDRESSBOOK_BUTTON_SAVE:"Save",ADDRESSBOOK_CONTACTS_SELECTED:"contact(s) selected",ADDRESSBOOK_SEND_TO:"Send to",ADDRESSBOOK_SORT_BY:"Sort by:",ADDRESSBOOK_BUTTON_ADD:"Add",ADDRESSBOOK_BUTTON_EDIT:"Edit",ADDRESSBOOK_SELECT_ALL_ITEM:"Select all",ADDRESSBOOK_EDIT_CONTACT:"Edit contact",ADDRESSBOOK_DELETE_CONTACT:"Delete contact",ADDRESSBOOK_BUTTON_IMPORT_CONTACTS:"Import Contacts",ADDRESSBOOK_IMPORT_GMAIL_ITEM:"Gmail",ADDRESSBOOK_IMPORT_HOTMAIL_ITEM:"Hotmail",ADDRESSBOOK_IMPORT_OUTLOOK_ITEM:"Outlook",ADDRESSBOOK_IMPORT_YAHOO_ITEM:"Yahoo",ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL:"Import contacts from email accounts",ADDRESSBOOK_BRING_TOGETHER:"Bring together all the people you know in one place. Click on an icon below to start.",ADDRESSBOOK_CREATE_A_NEW_CONTACT:"Create a new contact",ADDRESSBOOK_CLICK_ON_BUTTON:"Click on button below to enter information of new",ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT:"contact.",ADDRESSBOOK_ADD_CONTACT:"Add Contact",ADDRESSBOOK_LOADING_CONTACTS:"Loading contacts...",ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:"Success",ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:"We're Sorry",ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:"Success",ADDRESSBOOK_IMPORTED_CONTACTS:"You’ve imported {*NUMBER*} contact(s)",ADDRESSBOOK_IMPORT_CONTACTS_FAILS:"You have no contacts to import",ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:"Your contacts have been updated",ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE:"Error!",ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT:"Some error occurred...",ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE:"Loading error",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT:"Loading contacts failed!",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE:"Add contact error",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT:"Adding contact failed!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE:"Edit contact error",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT:"Contact edit failed!",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE:"Delete contact error",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE:"Delete all contacts error",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE:"Delete contact(s)",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT:"Are you sure want delete this contact(s)?",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT:"Cancel",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE:"Double contact",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT:"The specified contact already exists!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT:"OK"}},function(e,t,n){n(1269),e.exports=n(61).Object.keys},function(e,t,n){var a=n(163),o=n(173);n(335)("keys",function(){return function(e){return o(a(e))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=void 0;var a,o=w(n(180)),r=w(n(87)),i=w(n(81)),s=w(n(83)),l=w(n(88)),d=w(n(89)),u=n(0),c=w(u),p=n(842),h=n(55),f=w(n(1271)),m=w(n(6)),E=n(1272),S=n(1273),_=n(1122),v=n(1123),g=n(1124),T=n(1129),b=n(1130),y=n(1133),C=n(1276),O=n(1134),M=n(1135),A=n(1137),D=n(1138),I=n(1139);function w(e){return e&&e.__esModule?e:{default:e}}t.ModalWindow=(0,h.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen,contacts:e.ab.contacts,loaded:e.ab.loaded,viewType:e.ab.viewType}})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.windowWidth=("undefined"==typeof window?"undefined":(0,o.default)(window))!==p.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerWidth:p.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH,n.windowHeight=("undefined"==typeof window?"undefined":(0,o.default)(window))!==p.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerHeight:p.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT,n.state={left:Math.ceil(n.windowWidth/2-p.SYSTEM.ADDRESSBOOK_MODAL_WIDTH),top:Math.ceil(n.windowHeight/2-p.SYSTEM.ADDRESSBOOK_MODAL_HEIGHT)},n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderLoader=n.renderLoader.bind(n),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"renderContentByTypeContent",value:function(e){switch(e){case p.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return c.default.createElement(g.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case p.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:return c.default.createElement(T.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants});default:return null}}},{key:"renderLoader",value:function(){return this.props.loaded?null:c.default.createElement(I.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){var e=this.props.mode.type,t=(0,m.default)("dab",{"dab--no-contacts":0===this.props.contactsBackup.length&&this.props.loaded&&""===this.props.searchBy}),n=(0,m.default)("dab-header handle-drag",{"dab-header--search-results":""!==this.props.searchBy&&!this.props.searchDialogOpen}),a=(0,m.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length}),o=0,r=0,i=!1,s=this.state,l=s.left,d=s.top;return this.props.viewType===p.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?(l=d=0,i=!0):(o=this.state.left,r=this.state.top,i=!1),c.default.createElement(f.default,{modalClass:t,onStop:this.handleStop,onMouseDown:this.handleClickOnModal,draggableOff:i,handle:".handle-drag",left:o,top:r,style:{left:l,top:d}},c.default.createElement("div",{className:n},c.default.createElement(E.AddressBookTitle_modal,null),c.default.createElement(S.AddressBookClose,{handleCloseModal:this.props.handleCloseModal})),c.default.createElement("div",{className:"height-full"},this.renderLoader(),c.default.createElement("div",{className:"ab"},c.default.createElement("div",{className:"ab-header"},c.default.createElement(_.AddressBookSearch,null),c.default.createElement(v.AddressBookSort,null)),c.default.createElement("div",{className:a},c.default.createElement("div",{className:"ab-content"},this.renderContentByTypeContent(e)),c.default.createElement("div",{className:"no-results-icon"}))),c.default.createElement(b.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}),c.default.createElement(y.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),c.default.createElement("div",{className:"dab-footer"},c.default.createElement("div",{className:"ab-controls"},c.default.createElement(O.AddressBookBtnAdd,null),c.default.createElement(M.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),!this.props.isApp&&c.default.createElement(A.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),c.default.createElement(D.AddressBookMobileSearchBtn,null)),c.default.createElement(C.AddressBookSend,{mainButtonName:this.props.mainButtonName,handleCloseModal:this.props.handleCloseModal}))))}}]),t}(u.Component))||a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_modal=void 0;var a,o=m(n(87)),r=m(n(81)),i=m(n(83)),s=m(n(88)),l=m(n(89)),d=n(0),u=m(d),c=n(55),p=n(224),h=(m(n(6)),n(844)),f=n(1040);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_modal=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,local:e.ab.local,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,p.bindActionCreators)({clearSearch:h.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?u.default.createElement("div",{className:"dab-header-title dab-header-title--default"},u.default.createElement("span",null,this.props.local.ADDRESSBOOK_MAIN_NAME," "),u.default.createElement(f.AddressBookCounter,null)):u.default.createElement("div",null,u.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS," ",u.default.createElement(f.AddressBookCounter,null)),u.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookClose=void 0;var a,o=f(n(87)),r=f(n(81)),i=f(n(83)),s=f(n(88)),l=f(n(89)),d=n(0),u=f(d),c=n(55),p=n(224),h=n(844);function f(e){return e&&e.__esModule?e:{default:e}}t.AddressBookClose=(0,c.connect)(function(e){return{cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null}},function(e){return{actions:(0,p.bindActionCreators)({closeModal:h.closeModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleCloseModalLocal=n.handleCloseModalLocal.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleCloseModalLocal",value:function(e){e.preventDefault(),this.props.handleCloseModal(),(0,this.props.actions.closeModal)(),this.props.cancelDummyController&&this.props.cancelDummyController()}},{key:"render",value:function(){return u.default.createElement("div",{className:"dab-header-close-modal",onClick:this.handleCloseModalLocal})}}]),t}(d.Component))||a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;var a=p(n(87)),o=p(n(81)),r=p(n(83)),i=p(n(88)),s=p(n(89)),l=p(n(0)),d=p(n(23)),u=p(n(6)),c=p(n(946));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,n(557).safe)(e.document),f=h.$("documentElement").ensure({clientHeight:900,scrollHeight:900,offsetHeight:900}).$(),m=h.$("body").ensure({scrollHeight:900,offsetHeight:900}).$(),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return Math.max(e.clientHeight,e.scrollHeight,e.offsetHeight,t.scrollHeight,t.offsetHeight)},S=t.Select=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.show=function(){n.setState({show:!n.state.show,openAbove:n.shouldThisFlip()})},n.showLabelText=function(){if(n.state.selected)return n.props.labelText&&n.props.labelText.length>0?[l.default.createElement("div",{key:"prefix",className:"g-select__label-prefix"},n.props.labelText),l.default.createElement("div",{key:"content",className:"g-select__label-content"},n.state.selected.name||n.state.selected)]:n.state.selected.name||n.state.selected},n.shouldThisFlip=function(){var e=n.props.heightList||175,t=n.gSelect.getBoundingClientRect(),a=Math.ceil(t.top+(window.scrollY||window.pageYOffset)+t.height);if(n.props.selectWrap){var o=n.props.selectWrap.getBoundingClientRect();return n.winHeight=Math.max(n.props.selectWrap.offsetHeight,n.props.selectWrap.clientHeight),Math.ceil(t.top-o.top+t.height)+e>=n.winHeight}return a+e>=n.winHeight},n.select=function(e){n.props.handleSelect(e),n.setState({selected:e})},n._onWindowClick=function(e){if(n.isActive()){var t=n.gSelect;t&&!t.contains(e.target)&&n.hide()}},n.storeListWrapRef=function(e){n.listWrap=e},n.storeGSelectRef=function(e){n.gSelect=e},n.state={show:!1,selected:n.props.selected||n.props.list[0],openAbove:!1},n.winHeight=E(),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.selected&&this.setState({selected:e.selected})}},{key:"isActive",value:function(){return"boolean"==typeof this.props.show?this.props.show:this.state.show}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"renderList",value:function(e){var t=this;return e.map(function(e,n){var a=e===t.state.selected?"g-select__option g-select__option--active":"g-select__option";return t.state.show?e.name?l.default.createElement("div",{className:a,key:n,value:e.value,onClick:function(){return t.select(e)}},e.name):l.default.createElement("div",{className:a,key:n,onClick:function(){return t.select(e)}},e):null})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this._onWindowClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._onWindowClick)}},{key:"render",value:function(){var e=(0,u.default)({"g-select--open":this.state.show,"g-select--above":this.state.openAbove});return l.default.createElement("div",{ref:this.storeGSelectRef,className:(0,c.default)({name:"g-select",modifiers:["type","size"]},this.props,e,this.props.className),onClick:this.show},l.default.createElement("div",{className:"g-select__label"},this.showLabelText()),l.default.createElement("div",{className:"g-select__list-wrap",ref:this.storeListWrapRef},l.default.createElement("div",{className:"g-select__list"},this.renderList(this.props.list))))}}]),t}(l.default.Component);S.defaultProps={handleSelect:function(){},list:[]},S.propTypes={list:d.default.array.isRequired,handleSelect:d.default.func,labelText:d.default.string}}).call(this,n(318))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=m(n(87)),i=m(n(81)),s=m(n(83)),l=m(n(88)),d=m(n(89)),u=n(0),c=m(u),p=n(23),h=m(n(3)),f=n(842);function m(e){return e&&e.__esModule?e:{default:e}}var E=(o=a=function(e){function t(){var e,n,a,o;(0,i.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(d))),a.getEmail=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"},c.default.createElement("div",{title:"E-mail",className:"ab-item-data__email tooltipstered tooltip--top"},e.email));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})},a.getPhone=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_PHONE)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_PHONE],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"},c.default.createElement("div",{title:"Phone",className:"ab-item-data__tel tooltipstered tooltip--top"},e.phone));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})},a.getFax=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_FAX)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_FAX],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"},c.default.createElement("div",{title:"Fax",className:"ab-item-data__fax tooltipstered tooltip--top"},e.fax));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})},a.handleClick=function(e){var t=a.props;(0,t.handleClick)(e,t.contact.id)},a.handleDoubleClick=function(e){var t=a.props;(0,t.handleDoubleClick)(e,t.contact.id)},o=n,(0,l.default)(a,o)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contactClass,n=e.contact,a=e.onMouseDown;return c.default.createElement("div",{className:t,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:a},c.default.createElement("div",{className:"ab-item__icon"},c.default.createElement("img",{alt:"",src:n.picture})),c.default.createElement("div",{className:"ab-item__name"},n.name),c.default.createElement("div",{className:"ab-item-data"},this.getEmail(n),this.getPhone(n),this.getFax(n)))}}]),t}(u.Component),a.propTypes={contact:p.PropTypes.object.isRequired,handleClick:p.PropTypes.func,handleDoubleClick:p.PropTypes.func,onMouseDown:p.PropTypes.func},a.defaultProps={handleClick:null,handleDoubleClick:null,onMouseDown:null},o);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSend=void 0;var a,o=m(n(87)),r=m(n(81)),i=m(n(83)),s=m(n(88)),l=m(n(89)),d=n(0),u=m(d),c=n(55),p=n(224),h=m(n(6)),f=n(844);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSend=(0,c.connect)(function(e){return{contacts:e.ab.contacts,activeRows:e.ab.activeRows,local:e.ab.local,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null}},function(e){return{actions:(0,p.bindActionCreators)({closeModal:f.closeModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.getSelectedContacts=n.getSelectedContacts.bind(n),n.handleContactsSend=n.handleContactsSend.bind(n),n.renderButton=n.renderButton.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"getSelectedContacts",value:function(){return this.props.activeRows.length>0?u.default.createElement("div",{className:"dab-footer__action-wrap-counter"},u.default.createElement("span",null,this.props.activeRows.length)," ",this.props.local.ADDRESSBOOK_CONTACTS_SELECTED):null}},{key:"handleContactsSend",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts)(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}},{key:"renderButton",value:function(){var e=(0,h.default)("g-btn","g-btn-primary","g-btn-sm","btn-send",{disabled:0===this.props.activeRows.length});return this.props.sendContacts?u.default.createElement("button",{className:e,onClick:this.handleContactsSend},this.props.mainButtonName||this.props.local.ADDRESSBOOK_SEND_TO):null}},{key:"render",value:function(){return u.default.createElement("div",{className:"dab-footer__action-wrap"},this.getSelectedContacts(),this.renderButton())}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=l(a),r=l(n(23)),i=l(n(6)),s=l(n(1136));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,Object.getPrototypeOf(t).call(this,e));return n.componentDidMount=function(){window.addEventListener("mousedown",n._onWindowClick)},n.componentWillUnmount=function(){window.removeEventListener("mousedown",n._onWindowClick)},n.isActive=function(){return"boolean"==typeof n.props.active?n.props.active:n.state.active},n.hide=function(){n.setState({active:!1}),n.props.onHide&&n.props.onHide()},n.show=function(){n.setState({active:!0}),n.props.onShow&&n.props.onShow()},n.storeRef=function(e){n.elDropdownRef=e},n._onWindowClick=function(e){var t=n.elDropdownRef;e.target!==t&&!t.contains(e.target)&&n.isActive()&&n.hide()},n._onToggleClick=function(e){e.preventDefault(),n.isActive()?n.hide():n.show()},n.render=function(){var e=n.props,t=e.children,r=e.className,l=n.isActive(),d=(0,i.default)("dropdown",r,{"dropdown--active":l}),u=a.Children.map(t,function(e){return e.type===s.default&&(e=(0,a.cloneElement)(e,{onClick:n._onToggleClick})),e});return o.default.createElement("div",{style:n.props.style,className:d,ref:n.storeRef},u)},n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),t}();d.propTypes={className:r.default.string,active:r.default.bool,style:r.default.object,children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]),onHide:r.default.func,onShow:r.default.func},d.defaultProps={className:""},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),r=l(o),i=l(n(23)),s=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=d(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.render=function(){var e=o.props,t=e.children,n=e.className,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]),l=(0,s.default)("dropdown__content",n);return r.default.createElement("div",a({className:l},i),t)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();u.propTypes={children:i.default.node,className:i.default.string},u.defaultProps={className:""},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SinglePage=void 0;var a,o=w(n(87)),r=w(n(81)),i=w(n(83)),s=w(n(88)),l=w(n(89)),d=n(0),u=w(d),c=n(842),p=n(55),h=w(n(6)),f=w(n(849)),m=n(1280),E=n(1281),S=n(1040),_=n(1122),v=n(1123),g=n(1124),T=n(1129),b=n(1282),y=n(1130),C=n(1134),O=n(1135),M=n(1137),A=n(1133),D=n(1138),I=n(1139);function w(e){return e&&e.__esModule?e:{default:e}}t.SinglePage=(0,p.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,contacts:e.ab.contacts,addEditContact:e.ab.addEditContact,loaded:e.ab.loaded,viewType:e.ab.viewType}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderDialog=n.renderDialog.bind(n),n.renderLoader=n.renderLoader.bind(n),n.generalRender=n.generalRender.bind(n),n.scrollToTop=n.scrollToTop.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"scrollToTop",value:function(){var e=this.refs.abBody;console.log("scrolledElement",e),e.scrollTop=0}},{key:"renderContentByTypeContent",value:function(e){switch(e){case c.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return u.default.createElement(g.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case c.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:var t=(0,h.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length});return u.default.createElement("div",{className:t,ref:"abBody"},u.default.createElement("div",{className:"ab-content"},u.default.createElement(T.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,scrollToTop:this.scrollToTop})),u.default.createElement("div",{className:"no-results-icon"}));default:return null}}},{key:"renderDialog",value:function(){return this.props.addEditContact.open?this.props.viewType===c.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement(y.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}):u.default.createElement(f.default,null,u.default.createElement(b.AddressBookModalAddEdit_page,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest})):null}},{key:"renderLoader",value:function(){return this.props.loaded?null:u.default.createElement(I.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"generalRender",value:function(){var e=this.props.mode.type,t=(0,h.default)("myac-main__inner",{"g-wrap-loading":!this.props.loaded});return this.props.viewType===c.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement("main",{className:"myac-main myac-main--ab"},u.default.createElement("div",{className:t},u.default.createElement(E.AddressBookTitle_page_mobile,null),u.default.createElement("div",{className:"ab"},this.renderLoader(),this.renderContentByTypeContent(e)),u.default.createElement("div",{className:"dab-footer"},u.default.createElement("div",{className:"ab-controls"},u.default.createElement(C.AddressBookBtnAdd,null),u.default.createElement(O.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),u.default.createElement(M.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),u.default.createElement(D.AddressBookMobileSearchBtn,null))),u.default.createElement(A.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),this.renderDialog())):u.default.createElement("main",{className:"myac-main myac-main--ab"},u.default.createElement("div",{className:t},u.default.createElement("div",{className:"myac-counter-header clfx"},u.default.createElement(m.AddressBookTitle_page_desktop,null),u.default.createElement(S.AddressBookCounter,null),u.default.createElement(_.AddressBookSearch,null)),u.default.createElement("div",{className:"ab"},u.default.createElement("div",{className:"ab-header"},u.default.createElement("div",{className:"ab-controls"},u.default.createElement(C.AddressBookBtnAdd,null),u.default.createElement(O.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),u.default.createElement(M.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook})),u.default.createElement(v.AddressBookSort,null)),this.renderLoader(),this.renderContentByTypeContent(e)),this.renderDialog()))}},{key:"render",value:function(){return u.default.createElement("div",{className:"main-content"},u.default.createElement("div",{className:"myac-wrap"},u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"myac-container"},this.generalRender()))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_desktop=void 0;var a,o=p(n(87)),r=p(n(81)),i=p(n(83)),s=p(n(88)),l=p(n(89)),d=n(0),u=p(d),c=n(55);function p(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_page_desktop=(0,c.connect)(function(e){return{local:e.ab.local}})(a=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"myac-header"},u.default.createElement("h1",{className:"myac-header-title"},this.props.local.ADDRESSBOOK_MAIN_NAME," "))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_mobile=void 0;var a,o=m(n(87)),r=m(n(81)),i=m(n(83)),s=m(n(88)),l=m(n(89)),d=n(0),u=m(d),c=n(55),p=n(1040),h=n(224),f=n(844);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_page_mobile=(0,c.connect)(function(e){return{local:e.ab.local,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,h.bindActionCreators)({clearSearch:f.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?u.default.createElement("div",{className:"dab-header"},u.default.createElement("div",{className:"dab-header-title dab-header-title--default"},this.props.local.ADDRESSBOOK_MAIN_NAME," ",u.default.createElement(p.AddressBookCounter,null))):u.default.createElement("div",{className:"dab-header dab-header--search-results"},u.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS," ",u.default.createElement(p.AddressBookCounter,null)),u.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_page=void 0;var a,o=y(n(653)),r=y(n(490)),i=y(n(87)),s=y(n(81)),l=y(n(83)),d=y(n(88)),u=y(n(89)),c=n(0),p=y(c),h=n(224),f=n(55),m=y(n(6)),E=n(842),S=n(973),_=n(844),v=n(1041),g=(y(v),y(n(1131))),T=n(857),b=n(1132);function y(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalAddEdit_page=(0,f.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,h.bindActionCreators)({handleChange:_.handleChange,closeDialog:_.closeDialog,addContact:_.addContact,editContact:_.editContact,handleErrorModal:_.handleErrorModal,handleSavingContact:_.handleSavingContact,handleBlockPoint:_.handleBlockPoint},e)}})(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX],n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus(),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)}},{key:"componentWillUnmount",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)}},{key:"onErrorController",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"offErrorController",value:function(){this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"addContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.addContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,S.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):Number(t.id)>0?o(t):((0,v.handleErrorGenerator)(this.props.local,S.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.editContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,S.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,T.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,T.windowFocus)()}},{key:"handleCtrlA",value:function(){-1!==this.fields.indexOf(document.activeElement.name)&&document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),a=(0,r.default)({selectionStart:t.selectionStart});if(-1!==this.fields.indexOf(t.name)&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart;else{var i=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+i))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart}this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,a=t.handleBlockPoint;n(),a(!0),(0,T.windowFocus)(),setTimeout(function(){a(!1)},E.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=e.target.value,a=void 0;switch(t){case E.SYSTEM.ADDRESSBOOK_FIELD_NAME:a=E.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(n);break;case E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:a=(0,b.validateEmail)(n);break;default:a=E.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(n)}a=0===n.length||a,(0,this.props.actions.handleChange)(n,t,a)}},{key:"handleSaveContact",value:function(e){(e.preventDefault(),this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&(this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished&&((0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,T.windowFocus)()))}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.name}),n=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.email}),a=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.phone}),o=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.fax}),r=(0,m.default)("btn -sm -orange",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)}),i=g.default.defaultInputMaxLength;return p.default.createElement("div",{className:"modal-container"},p.default.createElement("header",{className:"modal-header"},p.default.createElement("span",{className:"modal-header__title"},this.renderTitle()),p.default.createElement("i",{className:"close-modal",onClick:this.handleCloseDialog})),p.default.createElement("section",{className:"modal-body"},p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"full_name",className:"myac-label-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:t,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:i})),p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"email_address",className:"myac-label-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:n,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:i})),p.default.createElement("div",{className:"form-group form-group--half-cols"},p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"phone_number",className:"myac-label-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:a,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"fax_number",className:"myac-label-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:o,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"modal-actions-btns text-right"},p.default.createElement("button",{type:"button",className:"btn -sm -light-gray",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:r,onClick:this.handleSaveContact},this.renderButtonName()))))}}]),t}(c.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1284)),o=r(n(1285));function r(e){return e&&e.__esModule?e:{default:e}}t.default={EnterEscapeController:a.default,AddressBookController:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(87)),o=u(n(81)),r=u(n(88)),i=u(n(89)),s=u(n(1141)),l=n(976),d=n(1042);function u(e){return e&&e.__esModule?e:{default:e}}var c=[13,27],p=function(e){function t(e){(0,o.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleKeyUp=function(e){switch(e.keyCode){case 13:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ESCAPE,e))}c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())},n.handleKeyDown=function(e){c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())},n.handleClick=function(e){n.dispatch((0,d.emit)(l.SYSTEM.EVENT_CLICK,e))},n.handleTouchStart=function(e){n.dispatch((0,d.emit)(l.SYSTEM.EVENT_TOUCH_START,e))},n.handleScroll=function(e){n.dispatch((0,d.emit)(l.SYSTEM.EVENT_SCROLL,e))},n.dispatch=e,n.TAG=l.SYSTEM.ENTER_ESCAPE_CONTROLLER,n}return(0,i.default)(t,e),t}(s.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(87)),o=u(n(81)),r=u(n(88)),i=u(n(89)),s=u(n(1141)),l=n(976),d=n(1042);function u(e){return e&&e.__esModule?e:{default:e}}var c=[9,13,27,38,40,46],p=[8,65],h=function(e){function t(e){(0,o.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleKeyUp=function(e){switch(e.keyCode){case 9:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_TAB,e));break;case 13:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ESCAPE,e));break;case 38:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_UP,e));break;case 40:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_DOWN,e));break;case 46:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_DELETE,e));break;case 65:e.ctrlKey&&n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_CTRL_A,e))}c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),p.indexOf(e.keyCode)>=0&&e.ctrlKey&&(e.stopPropagation(),e.preventDefault())},n.handleKeyDown=function(e){switch(e.keyCode){case 65:e.metaKey&&n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_CTRL_A,e));break;case 8:e.metaKey&&n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_DELETE,e))}c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),p.indexOf(e.keyCode)>=0&&(e.ctrlKey||e.metaKey)&&(e.stopPropagation(),e.preventDefault())},n.dispatch=e,n.TAG=l.SYSTEM.ADDRESS_BOOK_CONTROLLER,n}return(0,i.default)(t,e),t}(s.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookButton=void 0;var a=c(n(87)),o=c(n(81)),r=c(n(83)),i=c(n(88)),s=c(n(89)),l=n(0),d=c(l),u=c(n(23));n(55);function c(e){return e&&e.__esModule?e:{default:e}}(t.AddressBookButton=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleOpenModalLocal=n.handleOpenModalLocal.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"handleOpenModalLocal",value:function(){this.props.handleOpenModal()}},{key:"render",value:function(){return d.default.createElement("button",{className:"g-btn g-btn-secondary g-btn-sm g-btn-auto-width",onClick:this.handleOpenModalLocal},"AddressBook")}}]),t}(l.Component)).propTypes={handleOpenModal:u.default.func}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(180)),o=i(n(653));t.create=function(e,t){return(0,r.compose)(r.applyMiddleware.apply(void 0,(0,o.default)(t)),s&&"object"===("undefined"==typeof window?"undefined":(0,a.default)(window))&&void 0!==window.devToolsExtension?window.devToolsExtension():function(e){return e})(r.createStore)((0,r.combineReducers)(e),{})};var r=n(224);function i(e){return e&&e.__esModule?e:{default:e}}var s=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(490)),o=r(n(653));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0}}function s(){return{name:!0,email:!0,phone:!0,fax:!0}}function l(e,t,n){var a=e.map(function(e){return e.id}),r=t.map(function(e){return a.indexOf(e)});return Math[n].apply(Math,(0,o.default)(r))}function d(e,t,n){var o=e.find(function(e){return e.id===t[0]});return(0,a.default)({},o,{actionType:n,open:!0})}function u(e,t,n){var r=(0,a.default)({},e,{id:t});return delete r.open,delete r.actionType,[].concat((0,o.default)(n),[r])}function c(e,t,n){var a=[].concat((0,o.default)(e)),r=a[a.length-1],i=0;if(t!==r)for(var s=n.length;s--;){var l=n[s].id;l!==r&&l!==t||(1===i?(!e.indexOf(l)>=0&&a.push(l),i=2):i=1),1===i&&!e.indexOf(l)>=0&&a.push(l)}return a}function p(e,t){return e.filter(function(e){return-1===t.indexOf(e.id)})}function h(e,t){var n=(0,a.default)({},e),r=t.findIndex(function(e){return e.id===n.id});return delete n.open,delete n.actionType,[].concat((0,o.default)(t.slice(0,r)),[n],(0,o.default)(t.slice(r+1)))}function f(e,t){return e.filter(function(e){return-1!==t.indexOf(e.id)}).map(function(e){return e.id})}function m(e,t){return!(null!=e&&!isNaN(Number(e))&&Number(e)>0)||t.length<Number(e)}function E(e){return null!=e&&!isNaN(Number(e))&&Number(e)>0}function S(e,t){return t.length<Number(e)}function _(e,t,n,a,o){var r=n.map(function(e){return e.id}),i=r.indexOf(a),s=r.indexOf(o[o.length-1]);return e=r.filter(function(t){return-1!==e.indexOf(t)}),e=i>=s?e.length>t?e.slice(0,t):e:e.length>t?e.slice(e.length-t,t+1):e}t.makeInitialForm=i,t.makeInitialValidation=s,t.findActivePlace=l,t.makeEditForm=d,t.addContact=u,t.selectedListWithShift=c,t.deleteSelected=p,t.updateContact=h,t.filterContacts=function(e,t,n,a){var r=-1===n.indexOf(a)?[a].concat((0,o.default)(n)):[].concat((0,o.default)(n)),i=t.toLowerCase();return e.filter(function(e){return r.map(function(t){return e[t]}).find(function(e){if(e)return-1!==e.toLowerCase().indexOf(i)})})},t.filterActiveRows=f,t.acceptCheckSelectMax=m,t.acceptSelectMax=E,t.checkSelectMax=S,t.activeListMax=_,t.default={makeInitialForm:i,makeInitialValidation:s,findActivePlace:l,makeEditForm:d,addContact:u,selectedListWithShift:c,deleteSelected:p,updateContact:h,filterActiveRows:f,acceptSelectMax:E,acceptCheckSelectMax:m,checkSelectMax:S,activeListMax:_}},function(e,t,n){var a;
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
!function(n){"use strict";var o=function(e){var t=[],n=/\[\]$/,a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=function(e,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},r=function(e,i){var s,l,d;if(e)if(a(i))for(s=0,l=i.length;s<l;s++)n.test(e)?o(e,i[s]):r(e+"["+("object"==typeof i[s]?s:"")+"]",i[s]);else if(i&&"[object Object]"===String(i))for(d in i)r(e+"["+d+"]",i[d]);else o(e,i);else if(a(i))for(s=0,l=i.length;s<l;s++)o(i[s].name,i[s].value);else for(d in i)r(d,i[d]);return t};return r("",e).join("&").replace(/%20/g,"+")};"object"==typeof e.exports?e.exports=o:void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE_MANAGER_HOST_PRODUCTION=t.MESSAGE_MANAGER_HOST_DEVELOPMENT=t.WsService=void 0;var a,o=p(n(87)),r=p(n(81)),i=p(n(88)),s=p(n(89)),l=n(289),d=p(n(1291)),u=n(1295),c=n(1296);function p(e){return e&&e.__esModule?e:{default:e}}t.WsService=(0,d.default)(c.parseInput,c.parseMessage)(a=function(e){function t(e,n,a){(0,r.default)(this,t);var s=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return s.host=e,s.port=n,s.userId=a,s.publisher=null,s}return(0,s.default)(t,e),t}(l.EventEmitter))||a;t.MESSAGE_MANAGER_HOST_DEVELOPMENT=u.MESSAGE_MANAGER_HOST_DEVELOPMENT,t.MESSAGE_MANAGER_HOST_PRODUCTION=u.MESSAGE_MANAGER_HOST_PRODUCTION},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(321)),o=i(n(1292)),r=n(1144);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return function(n){return(0,a.default)(n.prototype,function(e,t){return{connect:function(){var t=this.host,n=this.port,a=this.userId;this.publisher=new o.default(e(t,n),a),this.publisher.subscribe(this)},send:function(e){return this.publisher.send(e)},onOpen:function(){this.emit(r.CONNECT)},onMessage:function(e){var n=t(e);return this.emit(n.type,n)},onClose:function(e){this.emit(r.CLOSE,e)},onError:function(e){this.emit(r.ERROR,e)},disconnect:function(){this.publisher.unsubscribe(this)}}}(e,t),n.prototype),n}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1144),o=n(1293),r=n(1294);e.MessagePublishers=e.MessagePublishers||{};var i=e.WebSocket.OPEN,s=function(e){return function(t){return!(!e.ws||e.ws.readyState!==i)&&(e.ws.send((0,r.stringify)(t)),!0)}},l=function(e){return function(){e.connected=!0,s(e)((0,o.authMessage)(e.userId)),function(e,t){e.pingId=setInterval(s(e).bind(null,o.pingMessage),t)}(e,a.PING_DELAY),e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.open))}},d=function(t){return function(n){!function(e){clearInterval(e.pingId),e.pingId=null}(t),delete t.ws,t.ws=null,t.connected=!1,e.MessagePublishers[t.id]=null,t.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.close,n))}},u=function(e){var t=e.socketUrl;":"===t[t.length-1]&&(t=t.slice(0,-1));var n=new WebSocket(t);e.ws=n,n.onopen=l(e),n.onmessage=function(e){return function(t){return e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.message,t))}}(e),n.onclose=d(e),n.onerror=function(e){return function(t){return e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.error,t))}}(e)},c=function(e){return function(t){var n=(0,r.include)(e.subscribers,t);n!==e.subscribers&&(e.subscribers=n,e.connected?(0,r.callMethod)(a.SUBSCRIBER_METHODS.open)(t):null===e.ws&&u(e))}},p=function(e){return function(t){var n=(0,r.exclude)(e.subscribers,t);n!==e.subscribers&&(e.subscribers=n,e.connected&&(0,r.callMethod)(a.SUBSCRIBER_METHODS.close)(t),0===e.subscribers.length&&e.ws&&function(e){e.ws.close(),e.connected=!1}(e))}},h=function(e){return function(){return e.subscribers&&e.subscribers.length||0}},f=(0,r.compose2)(function(e){return{subscribe:c(e),unsubscribe:p(e),send:s(e),subscribersCount:h(e)}},function(e,t,n){return{id:e,socketUrl:t,userId:n,ws:null,connected:!1,subscribers:null,pingId:null}}),m=function(t,n,a){var o=f(t,n,a);return e.MessagePublishers[t]=o,o},E=function(e,t){return String(t)+"::"+String(e.toLowerCase())};t.default=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E(t,n);return e.MessagePublishers[a]||m(a,t,n)}}).call(this,n(318))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authMessage=function(e){return{auth:{userId:e}}},t.pingMessage="{}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose2=t.stringify=t.callMethod=t.exclude=t.include=void 0;var a,o=n(288),r=(a=o)&&a.__esModule?a:{default:a};t.include=function(e,t){return void 0===t||e&&e.includes(t)?e:e&&e.concat(t)||[t]},t.exclude=function(e,t){var n=e.indexOf(t);return n<0?e:e.slice(0,n).concat(e.slice(n+1))};var i=function(e,t,n){return"function"==typeof e?e.apply(t,n):void 0};t.callMethod=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(t){try{return i(t[e],t,n)}catch(o){var a;(a=console).error.apply(a,["Failed to call method "+String(e)+" of",t,"with args"].concat(n,["Error raised",o]))}}},t.stringify=function(e){return"string"!=typeof e?(0,r.default)(e):e},t.compose2=function(e,t){return function(){return e(t.apply(void 0,arguments))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_MANAGER_HOST_DEVELOPMENT="wss://wsmm_dev.pdffiller.com",t.MESSAGE_MANAGER_HOST_PRODUCTION="wss://wsmm.pdffiller.com"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=function(e,t){var n=e.match(/([^:]+[:][^:]+)[:]?([^:]*)/),a=n[1].trim(),o=n[2]&&n[2].trim()||t&&t.trim();/^wss[:][/][/]/.test(a)||console.warn("WsService: Host is not wss:// address: ",a);o&&/[^\d]/.test(o)&&console.warn("WsService: Port is not a number value: ",o);return a+(o?":"+String(o):"")},t.parseMessage=function(e){var t=void 0;try{t=JSON.parse(e.data)}catch(n){t={group:"SYSTEM",type:"ALERT",message:e.data}}t.group||(t.group="SYSTEM");t.type||t.message||(t.message=t.type,t.type="ALERT");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiRestMediator=void 0;var a=l(n(180)),o=l(n(81)),r=l(n(83)),i=n(842),s=l(n(456));function l(e){return e&&e.__esModule?e:{default:e}}t.apiRestMediator=function(){function e(t){(0,o.default)(this,e),this.pdffiller=window.pdffiller,this.lang=(0,a.default)(this.pdffiller)!==i.SYSTEM.ADDRESSBOOK_UNDEFINED&&null!==this.pdffiller&&this.pdffiller.lang?this.pdffiller.lang:"en",this.apiRest=new s.default(i.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK,{appKey:t.appKey,userId:t.userCredentials&&t.userCredentials.userId||window.user&&window.user.userId,token:t.userCredentials&&t.userCredentials.token||window.user&&window.user.token,lang:this.lang,baseUrl:t.baseUrl}),this.apiProps=this.apiRest.getParameters(),this.handleGetContacts=this.handleGetContacts.bind(this),this.handleAddContact=this.handleAddContact.bind(this),this.handleEditContact=this.handleEditContact.bind(this),this.handleDeleteContact=this.handleDeleteContact.bind(this),this.handleDeleteAllContacts=this.handleDeleteAllContacts.bind(this),this.handleImportGmail=this.handleImportGmail.bind(this),this.handleImportYahoo=this.handleImportYahoo.bind(this),this.handleImportHotmail=this.handleImportHotmail.bind(this),this.handleImportOutlook=this.handleImportOutlook.bind(this),this.getApiProps=this.getApiProps.bind(this)}return(0,r.default)(e,[{key:"handleGetContacts",value:function(e){this.apiRest.getContacts(function(t,n){e&&(void 0===e?"undefined":(0,a.default)(e))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleAddContact",value:function(e,t){this.apiRest.addContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleEditContact",value:function(e,t){this.apiRest.editContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteContact",value:function(e,t){this.apiRest.deleteContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteAllContacts",value:function(e){this.apiRest.deleteAllContacts(function(t,n){e&&(void 0===e?"undefined":(0,a.default)(e))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleImportGmail",value:function(){return this.apiRest.importGmail()}},{key:"handleImportYahoo",value:function(){return this.apiRest.importYahoo()}},{key:"handleImportHotmail",value:function(){return this.apiRest.importHotmail()}},{key:"handleImportOutlook",value:function(){return this.apiRest.importOutlook()}},{key:"getApiProps",value:function(){return this.apiProps}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.im=void 0;var a,o=n(490),r=(a=o)&&a.__esModule?a:{default:a},i=n(977),s=n(839);var l={uploadedPercent:0,webcamEnabled:!0,dropzoneConfig:s.DROPZONE_CONFIG,qrUrl:"",mobileSignatureMethod:"",phoneNumber:"",email:"",addressBookApiRest:null,drawConfig:{canUndo:!1,canRedo:!1,color:s.DRAW_OPTIONS.COLORS.BLACK,lineWidth:s.DRAW_OPTIONS.THICKNESS.XSMALL},mode:{type:s.MODE_TYPES.INITIAL},modeSignature:{type:s.MODE_TYPES.SM_GALLERY,loadState:!1,showResend:!1,uploaderType:null},originalImage:"",imageManagerError:"",signatureManagerError:"",signature:{},initialSignature:{}};t.im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i.actionTypes.INITIAL:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.INITIAL}),uploadedPercent:0});case i.actionTypes.EDIT:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.EDIT})});case i.actionTypes.UPLOADER:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.UPLOADER})});case i.actionTypes.MOBILE_UPLOADER:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.MOBILE_UPLOADER,targetFiles:t.targetFiles})});case i.actionTypes.UPLOADING:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.UPLOADING}),uploadedPercent:0});case i.actionTypes.CAPTURE:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.CAPTURE})});case i.actionTypes.SET_UPLOADED_PERCENT:return(0,r.default)({},e,{uploadedPercent:Math.max(t.percent,e.uploadedPercent)});case i.actionTypes.DISABLE_WEBCAM:return(0,r.default)({},e,{webcamEnabled:!1});case i.actionTypes.ERROR_SET:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.INITIAL}),imageManagerError:t.error});case i.actionTypes.ERRORS_CLEAN:return(0,r.default)({},e,{imageManagerError:"",signatureManagerError:""});case i.actionTypes.CLOSE_SIGNATURE:return(0,r.default)({},e,{phoneNumber:"",email:""});case i.actionTypes.SM_INITIAL:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_INITIAL})});case i.actionTypes.SM_TEXT_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_TEXT_EDIT})});case i.actionTypes.SM_CURVE_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_CURVE_EDIT})});case i.actionTypes.SM_IMAGE_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_IMAGE_EDIT})});case i.actionTypes.SM_SET_DRAW_CONFIG:return(0,r.default)({},e,{drawConfig:(0,r.default)({},e.drawConfig,t.config)});case i.actionTypes.SM_TYPE_SIGNATURE:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_TYPE_SIGNATURE})});case i.actionTypes.SM_GALLERY:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_GALLERY,loadState:!1}),signature:{}});case i.actionTypes.SM_QR:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_QR})});case i.actionTypes.SM_SMS:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_SMS})});case i.actionTypes.SM_EMAIL:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_EMAIL})});case i.actionTypes.SM_DRAW:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_DRAW})});case i.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:return(0,r.default)({},e,{drawConfig:(0,r.default)({},e.drawConfig,t.drawConfig)});case i.actionTypes.SM_SIGNATURE_SAVE:return(0,r.default)({},e,{signature:t.signature,drawConfig:(0,r.default)({},e.drawConfig,t.drawConfig)});case i.actionTypes.SM_SET_INITIAL_SIGNATURE:return(0,r.default)({},e,{signature:t.signature,initialSignature:t.signature});case i.actionTypes.SM_UPLOADER:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_UPLOADER,uploaderType:s.MODE_TYPES.SM_UPLOADER})});case i.actionTypes.SM_MOBILE_UPLOADER:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_MOBILE_UPLOADER,uploaderType:s.MODE_TYPES.SM_UPLOADER})});case i.actionTypes.SM_SET_ORIGINAL_IMAGE:return(0,r.default)({},e,{originalImage:t.image});case i.actionTypes.SM_UPLOADING:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_UPLOADING}),uploadedPercent:0});case i.actionTypes.SM_CAPTURE:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_CAPTURE,uploaderType:s.MODE_TYPES.SM_CAPTURE})});case i.actionTypes.SM_MOBILE_SIGN_LOADING:var n=e.mobileSignatureMethod!==s.MODE_TYPES.SM_QR;return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_MOBILE_SIGN_LOADING,loadState:!0,showResend:n})});case i.actionTypes.SM_SET_QR_URL:return(0,r.default)({},e,{qrUrl:t.url});case i.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD:return(0,r.default)({},e,{mobileSignatureMethod:t.method});case i.actionTypes.SM_SAVE_PHONE_NUMBER:return(0,r.default)({},e,{phoneNumber:t.number});case i.actionTypes.SM_SAVE_EMAIL:return(0,r.default)({},e,{email:t.email});case i.actionTypes.SM_MOBILE_SIGNATURE_RESEND:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:e.mobileSignatureMethod,loadState:!1})});case i.actionTypes.SM_GET_CONTACT_EMAIL:return(0,r.default)({},e,{email:t.contact.email});case i.actionTypes.SM_GET_CONTACT_PHONE_NUMBER:return(0,r.default)({},e,{phoneNumber:t.contact.phone.replace(/[^+0-9]/g,"")});case i.actionTypes.SM_SET_ADDRESSBOOK_API_REST:return(0,r.default)({},e,{addressBookApiRest:t.apiRest});case i.actionTypes.SM_EDITOR_PREVIEW_OPEN:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_EDITOR_PREVIEW})});case i.actionTypes.SM_EDITOR_OPEN:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_EDITOR})});case i.actionTypes.SM_ERROR_SET:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_GALLERY,loadState:!1}),signatureManagerError:t.error});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.imageManagerLocale={backButton:"Back",edit:{header:"Edit Your Image"},uploading:{header:"Uploading...",text:"Uploading an Image"},gallery:{header:"Image Wizard",loadingImage:"Loading an image",loadingImages:"Loading images",emptyGallery:{title:"You do not have any saved Images",text:"To add your image, please use the options below."},footerDesktop:{uploaderButton:{title:"Upload Your Image",text:"Add up to 30 images at a time from your computer."},captureButton:{title:"Capture Your Image",text:"Easily capture a high quality image using your webcam."}},footerMobile:{uploaderButton:{title:"Upload Your Image",text:"Upload an image from your mobile device or tablet."}}},capture:{header:"Capture Your Image",text:"The program identifies your computer’s camera, and you can see a live preview of the image that you can use, and decide when to capture an image.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drop Your Image To Upload",text:"You can upload images in <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats with a max size of ",button:"Choose Image"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFiles:"The format you’re trying to upload is not supported.<br> Select a .jpeg, .gif or .png file and try your upload again.",tooManyFiles:"You can only upload up to 30 images at a time. Select images and try again."}}},t.signatureManagerLocale={backButton:"Back",uploading:{header:"Uploading...",text:"Uploading an Image",awaitingText:"Awaiting Signature...",resendButton:"Resend"},gallery:{header:"Signature Wizard",loadingSignatures:"Loading signatures",loadingImage:"Loading an image",mainButton:"Add New Signature"},methods:{header:"Signature Wizard",preview:{title:"type",text:"To create a signature in a handwritten font, type your full name and click <b>Sign</b>.",button:"sign",placeholder:"John Smith"},list:{draw:{title:"DRAW SIGNATURE",text:"Draw your signature using a touchpad or mouse.",titleMobile:"Draw",textMobile:"Easily draw your signature right on your mobile device or tablet."},upload:{title:"UPLOAD SIGNATURE",text:"Upload an image of your signature from your device.",titleMobile:"UPLOAD OR CAPTURE",textMobile:"Upload or capture your signature from any mobile device and tablet."},capture:{title:"CAPTURE SIGNATURE",text:"Take a photo of your signature with a web or phone camera."},qr:{title:"SCAN QR CODE TO SIGN",text:"Scan a QR code and sign a document on a mobile device."},notarize:{title:"NOTARIZE DOCUMENTS",text:"Legally notarize your documents online in less than 15 minutes."},sms:{title:"TEXT TO SIGN",text:"Send a message with a link to sign a document on a mobile device."},email:{title:"EMAIL TO SIGN",text:"Email a link for signing a document on a mobile device."}}},draw:{header:"Draw Your Signature",text:"Draw your signature below, use the toolbar to make any desired changes, then click Save and Use to continue",cleanButton:"Clean",doneButton:"Done",saveButton:"Save",saveAndUseButton:"Save and Use",useSignature:"Use Signature"},edit:{header:"Edit Your Signature"},capture:{header:"Capture Your Image",text:"Sign the paper and show to the camera, so your signature fits inside the box and click Take. Your signature will appear in the Signature Wizard and ready for use.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drop Your Signature Image To Upload",text:"You can upload images in <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats with a max size of ",button:"Choose Image"}},qr:{header:"Scan a QR Code <span>via mobile</span>",text:"Scanning this QR Code will open a new screen on your mobile device where you can easily draw your signature.",listTitle:"USAGE:",list:[{id:"scanQr",text:"Scan a QR Code."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"clickDone",text:"Click Done to save your signature."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},sms:{header:"Use Mobile via SMS",text:"Using Mobile Via SMS allows you to get a link via SMS and easily draw a signature right on your mobile device.",listTitle:"USAGE:",placeholder:"(999) 999-9999",sendButton:"Send",list:[{id:"enterNumber",text:"Enter your phone number."},{id:"findMessage",text:"Find a text message from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},email:{header:"Use Mobile via Email",text:"Using Mobile Via Email allows you to get a link via Email on your mobile device and easily draw your signature right there.",listTitle:"USAGE:",placeholder:"Email",sendButton:"Send",addressBookMainButton:"Send to",list:[{id:"enterEmail",text:"Enter your email address."},{id:"findEmail",text:"Find an email from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},type:{header:"Signature Wizard",text:"Preview",placeholder:"John Smith",saveAndUseButton:"Save and Use",saveButton:"Save"},editorPreview:{title:"We automatically cleaned up your signature. What do you think?",originalImageLabel:"Before",editedImageLabel:"After",list:{saveAndUse:"This signature looks fine, save and use.",needClean:"This signature looks ok, but let me clean it up some more.",cleanManually:"This is no good, I will clean it up manually."},doneButton:"Do it!",saveButton:"Save",saveAndUseButton:"Save and Use"},editor:{toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFiles:"The format you’re trying to upload is not supported.<br> Select a .jpeg, .gif or .png file and try your upload again.",manyFiles:"Multiple images have been selected. Please select one image and try again"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODES=void 0;var a=n(919);t.MODES={INITIAL:{content:{type:a.MODE_TYPES.INITIAL},footer:{type:a.MODE_TYPES.BIG_FOOTER,btnIcons:{uploader:"sign-m-svg-icon-upload",capture:"sign-m-svg-icon-camera"}}},EDIT:{content:{type:a.MODE_TYPES.EDIT}},UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.UPLOAD},footer:{type:a.MODE_TYPES.UPLOAD}},MOBILE_UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.MOBILE_UPLOAD},footer:{type:a.MODE_TYPES.MOBILE_UPLOAD}},UPLOADING:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{type:a.MODE_TYPES.UPLOADING}},CAPTURE:{content:{type:a.MODE_TYPES.CAPTURE}},SM_INITIAL:{type:a.MODE_TYPES.SM_INITIAL,mods:"sign-m--vanilla sign-m--hide-mobile-footer"},SM_TEXT_EDIT:{type:a.MODE_TYPES.SM_TEXT_EDIT,mods:"sign-m--mobile-draw"},SM_CURVE_EDIT:{type:a.MODE_TYPES.SM_CURVE_EDIT,mods:"sign-m--mobile-draw"},SM_IMAGE_EDIT:{type:a.MODE_TYPES.SM_IMAGE_EDIT,mods:"sign-m--mobile-draw"},SM_CHOOSE_SIGNATURE:{type:a.MODE_TYPES.SM_CHOOSE_SIGNATURE,mods:"sign-m--hide-mobile-footer"},SM_TYPE_SIGNATURE:{type:a.MODE_TYPES.SM_TYPE_SIGNATURE},SM_GALLERY:{type:a.MODE_TYPES.SM_GALLERY},SM_QR:{type:a.MODE_TYPES.SM_QR},SM_SMS:{type:a.MODE_TYPES.SM_SMS,mods:"sign-m--hide-mobile-footer"},SM_EMAIL:{type:a.MODE_TYPES.SM_EMAIL,mods:"sign-m--hide-mobile-footer"},SM_DRAW:{type:a.MODE_TYPES.SM_DRAW,mods:"sign-m--mobile-draw"},SM_MOBILE_SIGN_LOADING:{type:a.MODE_TYPES.SM_MOBILE_SIGN_LOADING,mods:"g-wrap-loading"},SM_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.SM_UPLOADER},SM_MOBILE_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.SM_MOBILE_UPLOADER},SM_UPLOADING:{type:a.MODE_TYPES.SM_UPLOADING},SM_CAPTURE:{type:a.MODE_TYPES.SM_CAPTURE},SM_EDITOR_PREVIEW:{type:a.MODE_TYPES.SM_EDITOR_PREVIEW},SM_EDITOR:{type:a.MODE_TYPES.SM_EDITOR}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={COLORS:{RED:"FF0000",BLUE:"0000FF",BLACK:"000000"},THICKNESS:{XSMALL:2,SMALL:4,MEDIUM:6,LARGE:8,XLARGE:10}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SM_EMAIL:"https://dev5_static.pdffiller.com/img/signature-manager/signature-email.png",SM_QR:"http://dev5_static.pdffiller.com/img/signature-manager/signature-qr.svg",SM_SMS:"https://dev5_static.pdffiller.com/img/signature-manager/signature-sms.png"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={height:200,width:200}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DESKTOP_TYPE:"desktop",TABLET_TYPE:"tablet",PHONE_TYPE:"phone"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={maxFileSize:"30 Mb",maxFilesNumber:30,allowedFileTypes:["image/jpeg","image/jpg","image/png","image/gif"],imageDimensions:{width:800,height:800}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IMAGE_MANAGER:"ImageManager",SIGNATURE_MANAGER:"SignatureManager"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(919),r=n(1145),i=(a=r)&&a.__esModule?a:{default:a};var s=[{icon:"sign-m-svg-icon-draw",id:"draw",typeDispatch:o.MODE_TYPES.SM_DRAW,subType:i.default.curve},{icon:"sign-m-svg-icon-upload",id:"upload",typeDispatch:o.MODE_TYPES.SM_UPLOADER,subType:i.default.image},{icon:"sign-m-svg-icon-camera",id:"capture",typeDispatch:o.MODE_TYPES.SM_CAPTURE,subType:i.default.image},{strip:"fast",icon:"sign-m-svg-icon-qr-mobile",id:"qr",typeDispatch:o.MODE_TYPES.SM_QR,subType:i.default.curve},{strip:"new",icon:"sign-m-svg-icon-notarize",id:"notarize",typeDispatch:o.MODE_TYPES.SM_NOTARIZE,subType:""},{icon:"sign-m-svg-icon-sms-mobile",id:"sms",typeDispatch:o.MODE_TYPES.SM_SMS,subType:i.default.curve},{icon:"sign-m-svg-icon-email-mobile",id:"email",typeDispatch:o.MODE_TYPES.SM_EMAIL,subType:i.default.curve}];t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ws=void 0;var a=n(839),o={images:[{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"}],signatures:[{id:123423,subType:a.SUB_TYPES.curve,curve:[{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,10,20,20]},{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,40,20,70]}]},{id:89897812,subType:a.SUB_TYPES.image,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{id:45645,subType:a.SUB_TYPES.initials,fontFamily:a.FONTS.PETRA.original,fontSize:12,text:"A. N."},{id:4531645,subType:a.SUB_TYPES.initials,fontFamily:a.FONTS.PETRA.original,fontSize:50,text:"Long Initials"},{id:91827,subType:a.SUB_TYPES.text,fontFamily:a.FONTS.PETRA.original,fontSize:50,text:"Long Text"}]};t.ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(180)),o=c(n(490)),r=c(n(456)),i=n(302),s=n(977),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),d=n(839),u=n(875);function c(e){return e&&e.__esModule?e:{default:e}}var p=void 0;t.default=function(e){return function(t){return function(n){switch(n.type){case s.actionTypes.INITIAL:e.dispatch((0,i.setLocale)("imageManager",d.LOCALE.imageManagerLocale)),e.dispatch((0,i.setLocale)("signatureManager",d.LOCALE.signatureManagerLocale));break;case s.actionTypes.API_REST_SET:p=new r.default("ImageSignatureManager",n.config);break;case s.actionTypes.SM_LAUNCH_UPLOAD_IMAGE:if(p){var c=n.dimensions,h=n.callback,f=(0,u.getActualImageAndApplyCropIfNeed)(e,n.data);e.dispatch(l.smUploading()),p.upload(f,function(t,n){if(n){var a=(0,o.default)({},n,c);h(null,a)}else e.dispatch(l.smSetError(t))},function(t){return e.dispatch(l.setUploadedPercent(t))})}else e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))));break;case s.actionTypes.LAUNCH_UPLOAD_IMAGE:if(p){var m=n.dimensions,E=n.callback,S=(0,u.getActualImageAndApplyCropIfNeed)(e,n.data);p.upload(S,function(t,n){if(n){var a=(0,o.default)({},n,m);E(null,a)}else e.dispatch(l.setError(t))},function(t){return e.dispatch(l.setUploadedPercent(t))})}break;case s.actionTypes.SM_GET_QR_URL:p?p.getQrUrl(function(t,n){n?(n=n.replace("#","%23"),e.dispatch(l.setQrUrl("https://chart.googleapis.com/chart?chs="+d.QR_PROPS.height+"x"+d.QR_PROPS.width+"&cht=qr&chl="+n))):e.dispatch(l.smSetError(t))}):e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))));break;case s.actionTypes.SM_SEND_PHONE_NUMBER:if(p){var _=e.getState().im.phoneNumber;p.sendPhoneNumber(_,function(t){t&&e.dispatch(l.smSetError(t))})}else e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))));break;case s.actionTypes.SM_SEND_EMAIL:if(p){var v=e.getState().im.email;p.sendEmail(v,function(t){t&&e.dispatch(l.smSetError(t))})}else e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))));break;case s.actionTypes.CHECK_WEBCAM_AVAILABILITY:if(!navigator.mediaDevices){e.dispatch(l.disableWebcam());break}navigator.mediaDevices.enumerateDevices().then(function(t){t.some(function(e){return"videoinput"===e.kind})||e.dispatch(l.disableWebcam())}).catch(function(){e.dispatch(l.disableWebcam())})}return t(n)}}}},function(e,t,n){
/*!mobile-detect v1.4.4 2019-09-21*/
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
(e.exports?function(t){e.exports=t()}:n(1046))(function(){"use strict";var e,t={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},n=Object.prototype.hasOwnProperty;function a(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function o(e,t){var n,a,o=e.length;if(!o||!t)return!1;for(n=t.toLowerCase(),a=0;a<o;++a)if(n===e[a].toLowerCase())return!0;return!1}function r(e){for(var t in e)n.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function i(e,t){this.ua=function(e){return(e||"").substr(0,500)}(e),this._cache={},this.maxPhoneWidth=t||600}return t.FALLBACK_PHONE="UnknownPhone",t.FALLBACK_TABLET="UnknownTablet",t.FALLBACK_MOBILE="UnknownMobile",e="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var a,o,i,s,l,d,u=t.mobileDetectRules;for(a in u.props)if(n.call(u.props,a)){for(o=u.props[a],e(o)||(o=[o]),l=o.length,s=0;s<l;++s)(d=(i=o[s]).indexOf("[VER]"))>=0&&(i=i.substring(0,d)+"([\\w._\\+]+)"+i.substring(d+5)),o[s]=new RegExp(i,"i");u.props[a]=o}r(u.oss),r(u.phones),r(u.tablets),r(u.uas),r(u.utils),u.oss0={WindowsPhoneOS:u.oss.WindowsPhoneOS,WindowsMobileOS:u.oss.WindowsMobileOS}}(),t.findMatch=function(e,t){for(var a in e)if(n.call(e,a)&&e[a].test(t))return a;return null},t.findMatches=function(e,t){var a=[];for(var o in e)n.call(e,o)&&e[o].test(t)&&a.push(o);return a},t.getVersionStr=function(e,a){var o,r,i,s,l=t.mobileDetectRules.props;if(n.call(l,e))for(i=(o=l[e]).length,r=0;r<i;++r)if(null!==(s=o[r].exec(a)))return s[1];return null},t.getVersion=function(e,n){var a=t.getVersionStr(e,n);return a?t.prepareVersionNo(a):NaN},t.prepareVersionNo=function(e){var t;return 1===(t=e.split(/[a-z._ \/\-]/i)).length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},t.isMobileFallback=function(e){return t.detectMobileBrowsers.fullPattern.test(e)||t.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},t.isTabletFallback=function(e){return t.detectMobileBrowsers.tabletPattern.test(e)},t.prepareDetectionCache=function(e,n,a){if(void 0===e.mobile){var o,r,s;if(r=t.findMatch(t.mobileDetectRules.tablets,n))return e.mobile=e.tablet=r,void(e.phone=null);if(o=t.findMatch(t.mobileDetectRules.phones,n))return e.mobile=e.phone=o,void(e.tablet=null);t.isMobileFallback(n)?void 0===(s=i.isPhoneSized(a))?(e.mobile=t.FALLBACK_MOBILE,e.tablet=e.phone=null):s?(e.mobile=e.phone=t.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=t.FALLBACK_TABLET,e.phone=null):t.isTabletFallback(n)?(e.mobile=e.tablet=t.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null}},t.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile"),"C")},t.detectOS=function(e){return t.findMatch(t.mobileDetectRules.oss0,e)||t.findMatch(t.mobileDetectRules.oss,e)},t.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},i.prototype={constructor:i,mobile:function(){return t.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return t.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return t.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return void 0===this._cache.userAgent&&(this._cache.userAgent=t.findMatch(t.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return void 0===this._cache.userAgents&&(this._cache.userAgents=t.findMatches(t.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return void 0===this._cache.os&&(this._cache.os=t.detectOS(this.ua)),this._cache.os},version:function(e){return t.getVersion(e,this.ua)},versionStr:function(e){return t.getVersionStr(e,this.ua)},is:function(e){return o(this.userAgents(),e)||a(e,this.os())||a(e,this.phone())||a(e,this.tablet())||o(t.findMatches(t.mobileDetectRules.utils,this.ua),e)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return i.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return void 0===this._cache.grade&&(this._cache.grade=t.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?i.isPhoneSized=function(e){return e<0?void 0:t.getDeviceSmallerSide()<=e}:i.isPhoneSized=function(){},i._impl=t,i.version="1.4.4 2019-09-21",i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(654),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({flipRotate:null,crop:null,erase:null,adjust:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={minThreshold:100,maxThreshold:255,defaultThreshold:255,minBrightness:-50,maxBrightness:50,defaultBrightness:0,minContrast:-100,maxContrast:100,defaultContrast:0,thickness:[2,4,6,8,10]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={contrast:40,brightness:35,threshold:120}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,freeScroll:!0,scrollX:!0,zoom:!0,bounce:!1,centerOnZoomOut:!0,zoomMax:n(1147).MAX_ZOOM,zoomMin:0};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1146)),o=l(n(862)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),i=n(977),s=n(839);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){return function(n){var l=t(n),d=e.getState().im.modeSignature.type;switch(n.type){case a.default.EDITED_IMAGE_SET:d!==s.MODE_TYPES.SM_CAPTURE&&d!==s.MODE_TYPES.SM_UPLOADER||e.dispatch(r.smOpenEditorPreview());break;case a.default.INITIAL_STATE_RESTORE:d===s.MODE_TYPES.SM_EDITOR_PREVIEW&&e.dispatch(r.smOpenEditor());break;case a.default.EDITED_IMAGE_RESTORE:d===s.MODE_TYPES.SM_EDITOR&&e.dispatch(r.smOpenEditorPreview());break;case i.actionTypes.CLOSE_SIGNATURE:switch(d){case s.MODE_TYPES.SM_EDITOR_PREVIEW:case s.MODE_TYPES.SM_EDITOR:case s.MODE_TYPES.SM_TEXT_EDIT:case s.MODE_TYPES.SM_CURVE_EDIT:case s.MODE_TYPES.SM_IMAGE_EDIT:e.dispatch(o.default.resetEditor())}}return l}}}},function(e,t,n){"use strict";var a=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){var n;return t&&!0===t.clone&&a(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e}function i(e,t,n){var o=e.slice();return t.forEach(function(t,i){void 0===o[i]?o[i]=r(t,n):a(t)?o[i]=s(e[i],t,n):-1===e.indexOf(t)&&o.push(r(t,n))}),o}function s(e,t,n){var o=Array.isArray(t);return o===Array.isArray(e)?o?((n||{arrayMerge:i}).arrayMerge||i)(e,t,n):function(e,t,n){var o={};return a(e)&&Object.keys(e).forEach(function(t){o[t]=r(e[t],n)}),Object.keys(t).forEach(function(i){a(t[i])&&e[i]?o[i]=s(e[i],t[i],n):o[i]=r(t[i],n)}),o}(e,t,n):r(t,n)}s.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return s(e,n,t)})};var l=s;e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={areParamsDefault:function(e){return e.flipHorizontally||e.flipVertically||255!==e.threshold||0!==e.contrast||0!==e.brightness},getCurrentImageParams:function(e){return{flipHorizontally:e.isFlippedHorizontally,flipVertically:e.isFlippedVertically,contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}},getParamsForImageFlipping:function(e){return{contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(490)),o=l(n(901)),r=l(n(81)),i=l(n(83)),s=n(900);function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,r.default)(this,e),this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}return(0,i.default)(e,[{key:"init",value:function(e,t){this.clear(),this.saveImageState(e,{},t),this.saveOriginalImage(t)}},{key:"getImageState",value:function(e){var t=this.states[e],n=t.srcIndex,r=(0,o.default)(t,["srcIndex"]);return(0,a.default)({src:this.images[n]},r)}},{key:"getImage",value:function(e){var t=this.states[e];return this.images[t.srcIndex]||this.originalImage}},{key:"getEditedImageState",value:function(){return this.editedImageState}},{key:"saveOriginalImage",value:function(e){this.originalImage=e}},{key:"saveEditedImage",value:function(e,t,n){this.editedImageState={src:e,params:t,dimensions:n}}},{key:"saveImageState",value:function(e,t,n){this.checkFutureSteps(e),n&&this.images.push(n);var o=(0,a.default)({isAutoCleaned:!1,flipHorizontally:!1,flipVertically:!1,contrast:0,brightness:0,threshold:255,srcIndex:this.images.length-1},t);return this.states.push(o),this.availableStatesCount>s.MAX_HISTORY_LENGTH&&this.removeState(),this.states.length}},{key:"checkFutureSteps",value:function(e){var t=e+1,n=this.states.length;if(t<n){var a=this.states.splice(t,n-e),o=a[0].srcIndex,r=this.images.length;r>1&&this.images.splice(o,r-o),this.availableStatesCount-=a.length}else this.availableStatesCount++}},{key:"removeState",value:function(){var e=this.states[this.deletedSteps],t=this.states[this.deletedSteps+1];if(e.srcIndex!==t.srcIndex)for(var n=0;n<e.srcIndex+1;n++)this.images[n]="";delete this.states[this.deletedSteps],this.deletedSteps++}},{key:"restoreInitialState",value:function(){return this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.saveImageState(1,{},this.originalImage),this.originalImage}},{key:"clear",value:function(){this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=R(n(490)),r=R(n(87)),i=R(n(81)),s=R(n(83)),l=R(n(88)),d=R(n(89)),u=R(n(23)),c=n(0),p=R(c),h=n(55),f=R(n(1153)),m=R(n(1154)),E=n(876),S=R(n(862)),_=R(n(1169)),v=R(n(1176)),g=n(1177),T=n(1178),b=n(1408),y=n(1414),C=n(1415),O=n(979),M=n(839),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),D=n(843),I=n(875),w=R(n(845));function R(e){return e&&e.__esModule?e:{default:e}}var P=M.modalIds.IMAGE_MANAGER,N=m.default.DropzoneComponentWrapper,L=m.default.DropzoneButton,k=m.default.DropzoneContent,B=m.default.DropzoneTitle,x=f.default.Webcam,F={handleError:u.default.func.isRequired,setError:u.default.func,clearError:u.default.func,checkWebcamAvailability:u.default.func.isRequired,uploading:u.default.func,uploadImage:u.default.func,initial:u.default.func,handleClose:u.default.func,handleUpload:u.default.func,handleUpdate:u.default.func,handleDelete:u.default.func,handleSelect:u.default.func,locale:u.default.object,dropzoneConfig:u.default.object,jsOnly:u.default.bool,uploadedPercent:u.default.number,mode:u.default.string,error:u.default.string,editedImage:u.default.string,images:u.default.array,initialImage:u.default.object,imageDimensions:u.default.object,addedImage:u.default.object,edit:u.default.func,setInitialImage:u.default.func,headerId:u.default.string},H=(0,h.connect)(function(e){return{mode:e.im.mode,locale:(0,D.getImageManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,uploadedPercent:e.im.uploadedPercent,error:e.im.imageManagerError,editedImage:e.signatureEditor.image,images:e.ws.images,addedImage:e.ws.addedImage,initialImage:e.signatureEditor.initialImage,imageDimensions:e.signatureEditor.imageDimensions}},{checkWebcamAvailability:A.checkWebcamAvailability,uploading:A.uploading,uploadImage:A.uploadImage,initial:A.initial,setError:A.setError,clearError:A.clearErrors,edit:A.edit,setInitialImage:S.default.setInitialImage})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onLoadFilesSelectMobile=function(e,t,a){var o=n.props,r=o.dropzoneConfig,i=o.locale,s=o.setError,l={customErrors:i.errors.dropZone,imageDimensions:r.imageDimensions,checkImage:!0,maxFilesNumber:r.maxFilesNumber,maxFileSize:t,allowedFileTypes:a};n.props.uploading(),(0,E.validateFiles)(e,l,n.handleFilesSelect,s)},n.handleFilesSelect=function(e){Array.isArray(e)&&e.forEach(function(e){n.handleImage(e.data,e.height,e.width)})},n.handleImage=function(e,t,a){var r=n.props,i=r.mode,s=r.initialImage,l=r.imageDimensions,d=a&&t?{height:t,width:a}:l;n.props.uploadImage(e,d,function(e,t){if(t)if(i.type===M.MODE_TYPES.EDIT){var a=(0,o.default)({},t,{id:s.id});n.props.handleUpdate(a)}else n.props.handleUpload(t)})},n.handleImageLoading=function(e){n.setState({imageLoading:e})},n.handleSaveAndUse=function(e){var t=n.props.editedImage;n.setState({use:e}),n.handleImage(t)},n.handleClose=function(){var e=n.props.handleClose;e&&e()},n.handleError=function(e){var t=n.props,a=t.handleError,o=t.locale,r=t.clearError;a({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),r()},n.setReference=function(e){n.webcamInstance=e},n.storeContentRef=function(e){n.contentRef=e},n.state={use:!1,imageLoading:!1},n.webcamInstance=null,n.contentRef=null,n.prevType=null,n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.checkWebcamAvailability()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,a=t.addedImage;a&&a!==e.addedImage&&this.state.use&&(this.props.handleSelect(a),this.props.initial()),n&&n!==e.error&&this.handleError(n)}},{key:"componentWillUnmount",value:function(){this.props.initial()}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props,n=t.locale,a=t.headerId,o="",r="";switch(this.prevType!==e&&(e!==M.MODE_TYPES.UPLOADING&&this.contentRef&&this.contentRef.focus(),this.prevType=e),e){case M.MODE_TYPES.INITIAL:o="sign-m-svg-icon-img",r=n.gallery.header;break;case M.MODE_TYPES.EDIT:o="sign-m-svg-icon-pencil",r=n.edit.header;break;case M.MODE_TYPES.CAPTURE:o="sign-m-svg-icon-camera-sm",r=n.capture.header;break;case M.MODE_TYPES.UPLOAD:case M.MODE_TYPES.MOBILE_UPLOAD:o="sign-m-svg-icon-upload-sm",r=n.upload.header;break;case M.MODE_TYPES.UPLOADING:o="sign-m-svg-icon-upload-sm",r=n.uploading.header}return p.default.createElement(g.ImageManagerHeader,{icon:o,title:r,handleClose:this.handleClose,headerId:a})}},{key:"renderComponentByTypeContent",value:function(e,t){var n=this,a=this.props,o=a.handleDelete,r=a.handleSelect,i=a.images,s=a.locale,l=a.uploadedPercent,d=a.jsOnly,u=a.dropzoneConfig,c=a.initial,h=a.setError,f=a.imageDimensions;if(this.state.imageLoading)return p.default.createElement("div",{className:"loading-overlay"},p.default.createElement(O.Loader,{title:s.gallery.loadingImage}));switch(e){case M.MODE_TYPES.INITIAL:return i?[p.default.createElement(b.ImageManagerContentInitial,{handleDelete:o,handleSelect:r,handleEdit:this.props.edit,handleImageLoading:this.handleImageLoading,setInitialImage:this.props.setInitialImage,uploaderIcon:t.btnIcons.uploader,captureIcon:t.btnIcons.capture,locale:s.gallery,images:i,key:"ImageManagerContentInitialINITIAL"})]:p.default.createElement("div",{className:"loading-overlay",key:"LoaderSM_GALLERY"},p.default.createElement(O.Loader,{title:s.gallery.loadingImages}));case M.MODE_TYPES.EDIT:return[p.default.createElement("div",{className:"sign-m-body",key:"EDIT_content"},p.default.createElement(_.default,null)),p.default.createElement(v.default,{key:"EDIT_footer",handleSaveAndUse:this.handleSaveAndUse})];case M.MODE_TYPES.UPLOAD:return[p.default.createElement("div",{key:"divUPLOAD",className:"sign-m-body"},p.default.createElement(N,{maxFileSize:u.maxFileSize,maxFilesNumber:u.maxFilesNumber,imageDimensions:u.imageDimensions,allowedFileTypes:u.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleLoading:this.props.uploading,handleErrors:h,errors:s.errors.dropZone,checkImage:!0,multiple:!0},p.default.createElement(B,{title:s.upload.dropZone.title}),p.default.createElement(k,{content:s.upload.dropZone.text+" "+u.maxFileSize+"."}),p.default.createElement(L,{title:s.upload.dropZone.button,className:"g-btn g-btn-primary g-btn-auto-width"}))),p.default.createElement(y.ImageManagerFooter,{key:"ImageManagerFooterUPLOAD",backButtonText:s.backButton,onButtonClick:c})];case M.MODE_TYPES.MOBILE_UPLOAD:var m=this.props.mode,E=u.maxFileSize,S=u.allowedFileTypes;return this.onLoadFilesSelectMobile(m.targetFiles,E,S),[p.default.createElement(T.ImageManagerContentUploading,{title:s.uploading.text,uploadedPercent:l,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),p.default.createElement(y.ImageManagerFooter,{key:"ImageManagerFooterMOBILE_UPLOAD",backButtonText:s.backButton,onButtonClick:c})];case M.MODE_TYPES.UPLOADING:return[p.default.createElement(T.ImageManagerContentUploading,{key:"ImageManagerContentUploadingUPLOADING",title:s.uploading.text,uploadedPercent:l}),p.default.createElement(y.ImageManagerFooter,{key:"ImageManagerFooterUPLOADING",backButtonText:s.backButton,onButtonClick:c})];case M.MODE_TYPES.CAPTURE:var g=(0,I.getWebcamConstraints)();return[p.default.createElement("div",{key:"divCAPTURE",className:"sign-m-body"},p.default.createElement("div",null,s.capture.text),p.default.createElement("div",{className:"crop-body"},p.default.createElement("div",{className:"crop-body-table"},p.default.createElement("div",{className:"crop-body-cell"},p.default.createElement(x,{ref:this.setReference,handleImage:this.handleImage,imageDimensions:f,handleError:h,jsOnly:d,constraints:g,isImageMirrored:!0}))))),p.default.createElement(C.ImageManagerFooterCapture,{key:"ImageManagerFooterCaptureCAPTURE",takeSnapShot:function(){return n.webcamInstance.takeSnapshot()}})];default:return null}}},{key:"render",value:function(){var e=this.props.mode,t=M.MODES[e.type],n=t.content.mods||"";return p.default.createElement("div",{className:"sign-m "+n,ref:this.storeContentRef,"data-test":w.default.image.wizard},this.renderHeaderByTypeContent(t.content.type),this.renderComponentByTypeContent(t.content.type,t.footer))}}],[{key:"getModalId",value:function(){return P}}]),t}(c.Component))||a;t.default=H,H.propTypes=F},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=n(0),d=h(l),u=h(n(23)),c=h(n(1322)),p=n(876);function h(e){return e&&e.__esModule?e:{default:e}}var f="jpeg",m={handleImage:u.default.func.isRequired,imageDimensions:u.default.object,handleError:u.default.func,config:u.default.object,staticUrl:u.default.string,isImageMirrored:u.default.bool,jsOnly:u.default.bool,crop:u.default.bool,constraints:u.default.shape({width:u.default.oneOfType([u.default.number,u.default.shape({})]),height:u.default.oneOfType([u.default.number,u.default.shape({})])})},E=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.handleError=function(t){(0,e.props.handleError)(t.message),e.setState({isReady:!1})},e.handleLive=function(){var t=e.props.crop;e.setState({isReady:!0,showRect:t})},e.handleImage=function(t){var n=e.props,a=n.handleImage,o=n.isImageMirrored,r=n.imageDimensions,i={dataUri:t,width:r.width,height:r.height,orientation:null,isImageMirrored:o};(0,p.resizeToFit)(i).then(function(e){var t=e.resizedImage,n=e.height,o=e.width;a(t,n,o,f)})},e.storeContainerRef=function(t){e.container=t},e.storeFrameRef=function(t){e.frame=t},e.webcam=null,e.state={isReady:!1,showRect:!1},"undefined"!=typeof window&&(e.webcam=c.default),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.webcam&&this.initWebcam()}},{key:"componentWillUnmount",value:function(){this.webcam&&(this.webcam.set({flip_horiz:!1}),this.webcam.reset(!0),this.webcam.off("error",this.handleError),this.webcam.off("live",this.handleLive))}},{key:"componentDidUpdate",value:function(e){var t=this.props.deviceId;e.deviceId!==t&&(this.webcam.reset(),this.initWebcam())}},{key:"initWebcam",value:function(){var e=this.props,t=e.config,n=e.isImageMirrored,a=e.jsOnly,o=e.staticUrl,r=e.deviceId,i=e.constraints,s=t.webcamjsSWFLocation,l=t.webcamSnapQuality,d=t.webcamElementId,u=this.container.getBoundingClientRect(),c={jpeg_quality:l,flip_horiz:n,enable_flash:!a,width:u.width,height:u.height,deviceId:r,constraints:i};this.webcam.set(c),this.webcam.setSWFLocation(o+s),this.webcam.attach("#"+d),this.webcam.on("error",this.handleError),this.webcam.on("live",this.handleLive)}},{key:"takeSnapshot",value:function(){var e=this.props.crop;this.state.isReady&&(e?(this.webcam.set({crop_width:this.frame.clientWidth,crop_height:this.frame.clientHeight}),this.webcam.snap(this.handleImage),this.webcam.set({crop_width:null,crop_height:null})):this.webcam.snap(this.handleImage))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.crop,a={zIndex:this.state.showRect?1:-1};return d.default.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:2}},d.default.createElement("div",{ref:this.storeContainerRef,id:t.webcamElementId,className:"crop-body-flash"}),n?d.default.createElement("div",{className:"crop-field",style:a},d.default.createElement("div",{className:"crop-field__rectangle",ref:this.storeFrameRef})):null)}}]),t}(l.Component);t.default=E,E.propTypes=m,E.defaultProps={imageDimensions:{width:640,height:480},handleError:function(){return{}},staticUrl:"https://static.pdffiller.com",isImageMirrored:!1,jsOnly:!1,crop:!1,config:{webcamjsSWFLocation:"/swf/webcam.swf",webcamElementId:"webcam",webcamSnapQuality:100},constraints:null}},function(e,t,a){"use strict";var o,r=s(a(180)),i=s(a(883));function s(e){return e&&e.__esModule?e:{default:e}}!function(s){var l;function d(){var e=Error.apply(this,arguments);e.name=this.name="FlashError",this.stack=e.stack,this.message=e.message}function u(){var e=Error.apply(this,arguments);e.name=this.name="WebcamError",this.stack=e.stack,this.message=e.message}var c=function(){};c.prototype=Error.prototype,d.prototype=new c,u.prototype=new c;var p={version:"1.0.25",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!s.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:d,WebcamError:u},hooks:{},init:function(){var e=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(e){return new i.default(function(t,n){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,e,t,n)})}}:null,s.URL=s.URL||s.webkitURL||s.mozURL||s.msURL,this.userMedia=this.userMedia&&!!this.mediaDevices&&!!s.URL,this.iOS&&(this.userMedia=null),navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null),this.userMedia&&s.addEventListener("beforeunload",function(t){e.reset()})},exifOrientation:function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return console.log("Not a valid JPEG file"),0;for(var a=2;a<e.byteLength;){if(255!=t.getUint8(a))return console.log("Not a valid marker at offset "+a+", found: "+t.getUint8(a)),0;if(225==t.getUint8(a+1)){a+=4;var o="";for(n=0;n<4;n++)o+=String.fromCharCode(t.getUint8(a+n));if("Exif"!=o)return console.log("Not valid EXIF data found"),0;a+=6;var r=null;if(18761==t.getUint16(a))r=!1;else{if(19789!=t.getUint16(a))return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;r=!0}if(42!=t.getUint16(a+2,!r))return console.log("Not valid TIFF data! (no 0x002A)"),0;var i=t.getUint32(a+4,!r);if(i<8)return console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(a+4,!r)),0;for(var s=a+i,l=t.getUint16(s,!r),d=0;d<l;d++){var u=s+12*d+2;if(274==t.getUint16(u,!r)){var c=t.getUint16(u+2,!r),p=t.getUint32(u+4,!r);if(3!=c&&1!=p)return console.log("Invalid EXIF orientation value type ("+c+") or count ("+p+")"),0;var h=t.getUint16(u+8,!r);return h<1||h>8?(console.log("Invalid EXIF orientation value ("+h+")"),0):h}}}else a+=2+t.getUint16(a+2)}return 0},fixOrientation:function(e,t,n){var a=new Image;a.addEventListener("load",function(e){var o=document.createElement("canvas"),r=o.getContext("2d");switch(t<5?(o.width=a.width,o.height=a.height):(o.width=a.height,o.height=a.width),t){case 2:r.transform(-1,0,0,1,a.width,0);break;case 3:r.transform(-1,0,0,-1,a.width,a.height);break;case 4:r.transform(1,0,0,-1,0,a.height);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,a.height,0);break;case 7:r.transform(0,-1,-1,0,a.height,a.width);break;case 8:r.transform(0,-1,1,0,0,a.width)}r.drawImage(a,0,0),n.src=o.toDataURL()},!1),a.src=e},attach:function(e){if("string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e)return this.dispatch("error",new u("Could not locate DOM element to attach to."));this.container=e,e.innerHTML="";var t=document.createElement("div");if(e.appendChild(t),this.peg=t,this.params.width||(this.params.width=e.offsetWidth),this.params.height||(this.params.height=e.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new u("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.userMedia=void 0===l?this.userMedia:l,this.params.force_flash&&(l=this.userMedia,this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;if(this.userMedia){var o=document.createElement("video");o.setAttribute("autoplay","autoplay"),o.style.width=this.params.dest_width+"px",o.style.height=this.params.dest_height+"px",1==n&&1==a||(e.style.overflow="hidden",o.style.webkitTransformOrigin="0px 0px",o.style.mozTransformOrigin="0px 0px",o.style.msTransformOrigin="0px 0px",o.style.oTransformOrigin="0px 0px",o.style.transformOrigin="0px 0px",o.style.webkitTransform="scaleX("+n+") scaleY("+a+")",o.style.mozTransform="scaleX("+n+") scaleY("+a+")",o.style.msTransform="scaleX("+n+") scaleY("+a+")",o.style.oTransform="scaleX("+n+") scaleY("+a+")",o.style.transform="scaleX("+n+") scaleY("+a+")");var r="";this.params.deviceId&&(r={deviceId:this.params.deviceId?{exact:this.params.deviceId}:void 0}),e.appendChild(o),this.video=o;var i=this;this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||r||{width:{ideal:this.params.dest_width},height:{ideal:this.params.dest_height}}}).then(function(e){o.onloadedmetadata=function(t){i.stream=e,i.loaded=!0,i.live=!0,i.dispatch("load"),i.dispatch("live"),i.flip()},"srcObject"in o?o.srcObject=e:o.src=s.URL.createObjectURL(e)}).catch(function(t){i.params.enable_flash&&i.detectFlash()?setTimeout(function(){i.params.force_flash=1,i.attach(e)},1):i.dispatch("error",t)})}else if(this.iOS){(m=document.createElement("div")).id=this.container.id+"-ios_div",m.className="webcamjs-ios-placeholder",m.style.width=this.params.width+"px",m.style.height=this.params.height+"px",m.style.textAlign="center",m.style.display="table-cell",m.style.verticalAlign="middle",m.style.backgroundRepeat="no-repeat",m.style.backgroundSize="contain",m.style.backgroundPosition="center";var d=document.createElement("span");d.className="webcamjs-ios-text",d.innerHTML=this.params.iosPlaceholderText,m.appendChild(d);var c=document.createElement("img");c.id=this.container.id+"-ios_img",c.style.width=this.params.dest_width+"px",c.style.height=this.params.dest_height+"px",c.style.display="none",m.appendChild(c);var h=document.createElement("input");h.id=this.container.id+"-ios_input",h.setAttribute("type","file"),h.setAttribute("accept","image/*"),h.setAttribute("capture","camera");i=this;var f=this.params;h.addEventListener("change",function(e){if(e.target.files.length>0&&0==e.target.files[0].type.indexOf("image/")){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.addEventListener("load",function(e){var t=document.createElement("canvas");t.width=f.dest_width,t.height=f.dest_height;var a=t.getContext("2d");ratio=Math.min(n.width/f.dest_width,n.height/f.dest_height);var o=f.dest_width*ratio,r=f.dest_height*ratio,i=(n.width-o)/2,s=(n.height-r)/2;a.drawImage(n,i,s,o,r,0,0,f.dest_width,f.dest_height);var l=t.toDataURL();c.src=l,m.style.backgroundImage="url('"+l+"')"},!1);var a=new FileReader;a.addEventListener("load",function(e){var a=i.exifOrientation(e.target.result);a>1?i.fixOrientation(t,a,n):n.src=t},!1);var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(e){200!=this.status&&0!==this.status||a.readAsArrayBuffer(this.response)},o.send()}},!1),h.style.display="none",e.appendChild(h),m.addEventListener("click",function(e){f.user_callback?i.snap(f.user_callback,f.user_canvas):(h.style.display="block",h.focus(),h.click(),h.style.display="none")},!1),e.appendChild(m),this.loaded=!0,this.live=!0}else if(this.params.enable_flash&&this.detectFlash()){var m;s.Webcam=p,(m=document.createElement("div")).innerHTML=this.getSWFHTML(),e.appendChild(m)}else this.dispatch("error",new u(this.params.noInterfaceFoundText));if(this.params.crop_width&&this.params.crop_height){var E=Math.floor(this.params.crop_width*n),S=Math.floor(this.params.crop_height*a);e.style.width=E+"px",e.style.height=S+"px",e.style.overflow="hidden",e.scrollLeft=Math.floor(this.params.width/2-E/2),e.scrollTop=Math.floor(this.params.height/2-S/2)}else e.style.width=this.params.width+"px",e.style.height=this.params.height+"px"},reset:function(e){var t=this;if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var n=this.stream.getVideoTracks();n&&n[0]&&n[0].stop&&n[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream,delete this.video}if(!0!==this.userMedia&&this.loaded&&!this.iOS){var a=this.getMovie();a&&a._releaseCamera&&a._releaseCamera()}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1,e&&setTimeout(function(){return t.reset()},300)},set:function(){if(1==arguments.length)for(var e in arguments[0])this.params[e]=arguments[0][e];else this.params[arguments[0]]=arguments[1]},on:function(e,t){e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t)},off:function(e,t){if(e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e])if(t){var n=this.hooks[e].indexOf(t);n>-1&&this.hooks[e].splice(n,1)}else this.hooks[e]=[]},dispatch:function(){var e=arguments[0].replace(/^on/i,"").toLowerCase(),t=Array.prototype.slice.call(arguments,1);if(this.hooks[e]&&this.hooks[e].length){for(var n=0,a=this.hooks[e].length;n<a;n++){var o=this.hooks[e][n];"function"==typeof o?o.apply(this,t):"object"==(void 0===o?"undefined":(0,r.default)(o))&&2==o.length?o[0][o[1]].apply(o[0],t):s[o]&&s[o].apply(s,t)}return!0}if("error"==e){var i="";i=t[0]instanceof d||t[0]instanceof u?t[0].message:"Could not access webcam: "+t[0].name+": "+t[0].message+" "+t[0].toString(),alert("Webcam.js Error: "+i)}return!1},setSWFLocation:function(e){this.set("swfURL",e)},detectFlash:function(){var e=s,t=navigator,n=!1;if(void 0!==t.plugins&&"object"===(0,r.default)(t.plugins["Shockwave Flash"]))t.plugins["Shockwave Flash"].description&&void 0!==t.mimeTypes&&t.mimeTypes["application/x-shockwave-flash"]&&t.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(n=!0);else if(void 0!==e.ActiveXObject)try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)a.GetVariable("$version")&&(n=!0)}catch(e){}return n},getSWFHTML:function(){var e="",t=this.params.swfURL;if(location.protocol.match(/file/))return this.dispatch("error",new d("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error",new d("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"</h3>";if(!t){for(var n="",a=document.getElementsByTagName("script"),o=0,r=a.length;o<r;o++){var i=a[o].getAttribute("src");i&&i.match(/\/webcam(\.min)?\.js/)&&(n=i.replace(/\/webcam(\.min)?\.js.*$/,""),o=r)}t=n?n+"/webcam.swf":"webcam.swf"}s.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var l="";for(var u in this.params)l&&(l+="&"),l+=u+"="+escape(this.params[u]);return e+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+t+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+l+'"/><embed id="webcam_movie_embed" src="'+t+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+l+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error",new d("Flash Movie is not loaded yet"));var e=document.getElementById("webcam_movie_obj");return e&&e._snap||(e=document.getElementById("webcam_movie_embed")),e||this.dispatch("error",new d("Cannot locate Flash movie in DOM")),e},freeze:function(){var e=this,t=this.params;this.preview_active&&this.unfreeze();var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;this.unflip();var o=t.crop_width||t.dest_width,r=t.crop_height||t.dest_height,i=document.createElement("canvas");i.width=o,i.height=r;var s=i.getContext("2d");this.preview_canvas=i,this.preview_context=s,1==n&&1==a||(i.style.webkitTransformOrigin="0px 0px",i.style.mozTransformOrigin="0px 0px",i.style.msTransformOrigin="0px 0px",i.style.oTransformOrigin="0px 0px",i.style.transformOrigin="0px 0px",i.style.webkitTransform="scaleX("+n+") scaleY("+a+")",i.style.mozTransform="scaleX("+n+") scaleY("+a+")",i.style.msTransform="scaleX("+n+") scaleY("+a+")",i.style.oTransform="scaleX("+n+") scaleY("+a+")",i.style.transform="scaleX("+n+") scaleY("+a+")"),this.snap(function(){i.style.position="relative",i.style.left=e.container.scrollLeft+"px",i.style.top=e.container.scrollTop+"px",e.container.insertBefore(i,e.peg),e.container.style.overflow="hidden",e.preview_active=!0},i)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(-1)",e.mozTransform="scaleX(-1)",e.msTransform="scaleX(-1)",e.oTransform="scaleX(-1)",e.transform="scaleX(-1)",e.filter="FlipH",e.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(1)",e.mozTransform="scaleX(1)",e.msTransform="scaleX(1)",e.oTransform="scaleX(1)",e.transform="scaleX(1)",e.filter="",e.msFilter=""}},savePreview:function(e,t){var n=this.params,a=this.preview_canvas,o=this.preview_context;t&&t.getContext("2d").drawImage(a,0,0);e(t?null:a.toDataURL("image/"+n.image_format,n.jpeg_quality/100),a,o),this.params.unfreeze_snap&&this.unfreeze()},snap:function(e,t){e||(e=this.params.user_callback),t||(t=this.params.user_canvas);var n=this.params,a=n.dest_width,o=n.dest_height;if(this.video&&(a=this.video.offsetHeight/this.video.videoHeight*this.video.videoWidth,o=this.video.offsetHeight),!this.loaded)return this.dispatch("error",new u("Webcam is not loaded yet"));if(!e)return this.dispatch("error",new u("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(e,t),null;var r=document.createElement("canvas");r.width=a,r.height=o;var i=r.getContext("2d");this.params.flip_horiz&&(i.translate(a,0),i.scale(-1,1));var s=function(){if(this.src&&this.width&&this.height&&i.drawImage(this,0,0,a,o),n.crop_width&&n.crop_height){var s=document.createElement("canvas");s.width=n.crop_width,s.height=n.crop_height;var l=s.getContext("2d");l.drawImage(r,Math.floor(a/2-n.crop_width/2),Math.floor(o/2-n.crop_height/2),n.crop_width,n.crop_height,0,0,n.crop_width,n.crop_height),i=l,r=s}t&&t.getContext("2d").drawImage(r,0,0);e(t?null:r.toDataURL("image/"+n.image_format,n.jpeg_quality/100),r,i)};if(this.userMedia)i.drawImage(this.video,0,0,a,o),s.call(this);else if(this.iOS){var l=document.getElementById(this.container.id+"-ios_div"),d=document.getElementById(this.container.id+"-ios_img"),c=document.getElementById(this.container.id+"-ios_input");iFunc=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){s.call(d),d.removeEventListener("load",iFunc),l.style.backgroundImage="none",d.removeAttribute("src"),c.value=null}),c.value?iFunc(null):(d.addEventListener("load",iFunc),c.style.display="block",c.focus(),c.click(),c.style.display="none")}else{var p=this.getMovie()._snap();(d=new Image).onload=s.bind(d),d.src="data:image/"+this.params.image_format+";base64,"+p}return null},configure:function(e){e||(e="camera"),this.getMovie()._configure(e)},flashNotify:function(e,t){switch(e){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live");break;case"error":this.dispatch("error",new d(t))}},b64ToUint6:function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},base64DecToArr:function(e,t){for(var n,a,o=e.replace(/[^A-Za-z0-9\+\/]/g,""),r=o.length,i=t?Math.ceil((3*r+1>>2)/t)*t:3*r+1>>2,s=new Uint8Array(i),l=0,d=0,u=0;u<r;u++)if(a=3&u,l|=this.b64ToUint6(o.charCodeAt(u))<<18-6*a,3===a||r-u==1){for(n=0;n<3&&d<i;n++,d++)s[d]=l>>>(16>>>n&24)&255;l=0}return s},upload:function(e,t,n){var a=this.params.upload_name||"webcam",o="";if(!e.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";o=RegExp.$1;var r=e.replace(/^data\:image\/\w+\;base64\,/,""),i=new XMLHttpRequest;i.open("POST",t,!0),i.upload&&i.upload.addEventListener&&i.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;p.dispatch("uploadProgress",t,e)}},!1);var s=this;i.onload=function(){n&&n.apply(s,[i.status,i.responseText,i.statusText]),p.dispatch("uploadComplete",i.status,i.responseText,i.statusText)};var l=new Blob([this.base64DecToArr(r)],{type:"image/"+o}),d=new FormData;d.append(a,l,a+"."+o.replace(/e/,"")),i.send(d)}};p.init(),void 0===(o=function(){return p}.call(t,a,t,e))||(e.exports=o)}(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkWebcamAvailability=void 0;var a,o=n(1324),r=(a=o)&&a.__esModule?a:{default:a};var i=function(e){navigator.mediaDevices.enumerateDevices().then(function(t){var n=t.some(function(e){return"videoinput"===e.kind});e(n)}).catch(function(){return e(!1)})};t.checkWebcamAvailability=function(e,t){if(e)return(-1===navigator.appVersion.indexOf("Safari")||-1!==navigator.appVersion.indexOf("Chrome"))&&"undefined"!=typeof window&&r.default.userMedia&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&document.createElement("video").canPlayType?i(t):t(!1);if(r.default.userMedia&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)return i(t);var n=!1;try{n=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){n=void 0!==navigator.mimeTypes["application/x-shockwave-flash"]}t(n)}},function(e,t,a){var o;!function(r){var i;function s(){var e=Error.apply(this,arguments);e.name=this.name="FlashError",this.stack=e.stack,this.message=e.message}function l(){var e=Error.apply(this,arguments);e.name=this.name="WebcamError",this.stack=e.stack,this.message=e.message}var d=function(){};d.prototype=Error.prototype,s.prototype=new d,l.prototype=new d;var u={version:"1.0.25",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!r.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:s,WebcamError:l},hooks:{},init:function(){var e=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(e){return new Promise(function(t,n){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,e,t,n)})}}:null,r.URL=r.URL||r.webkitURL||r.mozURL||r.msURL,this.userMedia=this.userMedia&&!!this.mediaDevices&&!!r.URL,this.iOS&&(this.userMedia=null),navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null),this.userMedia&&r.addEventListener("beforeunload",function(t){e.reset()})},exifOrientation:function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return console.log("Not a valid JPEG file"),0;for(var a=2;a<e.byteLength;){if(255!=t.getUint8(a))return console.log("Not a valid marker at offset "+a+", found: "+t.getUint8(a)),0;if(225==t.getUint8(a+1)){a+=4;var o="";for(n=0;n<4;n++)o+=String.fromCharCode(t.getUint8(a+n));if("Exif"!=o)return console.log("Not valid EXIF data found"),0;a+=6;var r=null;if(18761==t.getUint16(a))r=!1;else{if(19789!=t.getUint16(a))return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;r=!0}if(42!=t.getUint16(a+2,!r))return console.log("Not valid TIFF data! (no 0x002A)"),0;var i=t.getUint32(a+4,!r);if(i<8)return console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(a+4,!r)),0;for(var s=a+i,l=t.getUint16(s,!r),d=0;d<l;d++){var u=s+12*d+2;if(274==t.getUint16(u,!r)){var c=t.getUint16(u+2,!r),p=t.getUint32(u+4,!r);if(3!=c&&1!=p)return console.log("Invalid EXIF orientation value type ("+c+") or count ("+p+")"),0;var h=t.getUint16(u+8,!r);return h<1||h>8?(console.log("Invalid EXIF orientation value ("+h+")"),0):h}}}else a+=2+t.getUint16(a+2)}return 0},fixOrientation:function(e,t,n){var a=new Image;a.addEventListener("load",function(e){var o=document.createElement("canvas"),r=o.getContext("2d");switch(t<5?(o.width=a.width,o.height=a.height):(o.width=a.height,o.height=a.width),t){case 2:r.transform(-1,0,0,1,a.width,0);break;case 3:r.transform(-1,0,0,-1,a.width,a.height);break;case 4:r.transform(1,0,0,-1,0,a.height);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,a.height,0);break;case 7:r.transform(0,-1,-1,0,a.height,a.width);break;case 8:r.transform(0,-1,1,0,0,a.width)}r.drawImage(a,0,0),n.src=o.toDataURL()},!1),a.src=e},attach:function(e){if("string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e)return this.dispatch("error",new l("Could not locate DOM element to attach to."));this.container=e,e.innerHTML="";var t=document.createElement("div");if(e.appendChild(t),this.peg=t,this.params.width||(this.params.width=e.offsetWidth),this.params.height||(this.params.height=e.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new l("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.userMedia=void 0===i?this.userMedia:i,this.params.force_flash&&(i=this.userMedia,this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;if(this.userMedia){var o=document.createElement("video");o.setAttribute("autoplay","autoplay"),o.style.width=this.params.dest_width+"px",o.style.height=this.params.dest_height+"px",1==n&&1==a||(e.style.overflow="hidden",o.style.webkitTransformOrigin="0px 0px",o.style.mozTransformOrigin="0px 0px",o.style.msTransformOrigin="0px 0px",o.style.oTransformOrigin="0px 0px",o.style.transformOrigin="0px 0px",o.style.webkitTransform="scaleX("+n+") scaleY("+a+")",o.style.mozTransform="scaleX("+n+") scaleY("+a+")",o.style.msTransform="scaleX("+n+") scaleY("+a+")",o.style.oTransform="scaleX("+n+") scaleY("+a+")",o.style.transform="scaleX("+n+") scaleY("+a+")"),e.appendChild(o),this.video=o;var s=this;this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}}).then(function(e){o.onloadedmetadata=function(t){s.stream=e,s.loaded=!0,s.live=!0,s.dispatch("load"),s.dispatch("live"),s.flip()},"srcObject"in o?o.srcObject=e:o.src=r.URL.createObjectURL(e)}).catch(function(t){s.params.enable_flash&&s.detectFlash()?setTimeout(function(){s.params.force_flash=1,s.attach(e)},1):s.dispatch("error",t)})}else if(this.iOS){(f=document.createElement("div")).id=this.container.id+"-ios_div",f.className="webcamjs-ios-placeholder",f.style.width=this.params.width+"px",f.style.height=this.params.height+"px",f.style.textAlign="center",f.style.display="table-cell",f.style.verticalAlign="middle",f.style.backgroundRepeat="no-repeat",f.style.backgroundSize="contain",f.style.backgroundPosition="center";var d=document.createElement("span");d.className="webcamjs-ios-text",d.innerHTML=this.params.iosPlaceholderText,f.appendChild(d);var c=document.createElement("img");c.id=this.container.id+"-ios_img",c.style.width=this.params.dest_width+"px",c.style.height=this.params.dest_height+"px",c.style.display="none",f.appendChild(c);var p=document.createElement("input");p.id=this.container.id+"-ios_input",p.setAttribute("type","file"),p.setAttribute("accept","image/*"),p.setAttribute("capture","camera");s=this;var h=this.params;p.addEventListener("change",function(e){if(e.target.files.length>0&&0==e.target.files[0].type.indexOf("image/")){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.addEventListener("load",function(e){var t=document.createElement("canvas");t.width=h.dest_width,t.height=h.dest_height;var a=t.getContext("2d");ratio=Math.min(n.width/h.dest_width,n.height/h.dest_height);var o=h.dest_width*ratio,r=h.dest_height*ratio,i=(n.width-o)/2,s=(n.height-r)/2;a.drawImage(n,i,s,o,r,0,0,h.dest_width,h.dest_height);var l=t.toDataURL();c.src=l,f.style.backgroundImage="url('"+l+"')"},!1);var a=new FileReader;a.addEventListener("load",function(e){var a=s.exifOrientation(e.target.result);a>1?s.fixOrientation(t,a,n):n.src=t},!1);var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(e){200!=this.status&&0!==this.status||a.readAsArrayBuffer(this.response)},o.send()}},!1),p.style.display="none",e.appendChild(p),f.addEventListener("click",function(e){h.user_callback?s.snap(h.user_callback,h.user_canvas):(p.style.display="block",p.focus(),p.click(),p.style.display="none")},!1),e.appendChild(f),this.loaded=!0,this.live=!0}else if(this.params.enable_flash&&this.detectFlash()){var f;r.Webcam=u,(f=document.createElement("div")).innerHTML=this.getSWFHTML(),e.appendChild(f)}else this.dispatch("error",new l(this.params.noInterfaceFoundText));if(this.params.crop_width&&this.params.crop_height){var m=Math.floor(this.params.crop_width*n),E=Math.floor(this.params.crop_height*a);e.style.width=m+"px",e.style.height=E+"px",e.style.overflow="hidden",e.scrollLeft=Math.floor(this.params.width/2-m/2),e.scrollTop=Math.floor(this.params.height/2-E/2)}else e.style.width=this.params.width+"px",e.style.height=this.params.height+"px"},reset:function(){if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var e=this.stream.getVideoTracks();e&&e[0]&&e[0].stop&&e[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream,delete this.video}if(!0!==this.userMedia&&this.loaded&&!this.iOS){var t=this.getMovie();t&&t._releaseCamera&&t._releaseCamera()}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1},set:function(){if(1==arguments.length)for(var e in arguments[0])this.params[e]=arguments[0][e];else this.params[arguments[0]]=arguments[1]},on:function(e,t){e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t)},off:function(e,t){if(e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e])if(t){var n=this.hooks[e].indexOf(t);n>-1&&this.hooks[e].splice(n,1)}else this.hooks[e]=[]},dispatch:function(){var e,t=arguments[0].replace(/^on/i,"").toLowerCase(),n=Array.prototype.slice.call(arguments,1);if(this.hooks[t]&&this.hooks[t].length){for(var a=0,o=this.hooks[t].length;a<o;a++){var i=this.hooks[t][a];"function"==typeof i?i.apply(this,n):"object"==typeof i&&2==i.length?i[0][i[1]].apply(i[0],n):r[i]&&r[i].apply(r,n)}return!0}return"error"==t&&(e=n[0]instanceof s||n[0]instanceof l?n[0].message:"Could not access webcam: "+n[0].name+": "+n[0].message+" "+n[0].toString(),alert("Webcam.js Error: "+e)),!1},setSWFLocation:function(e){this.set("swfURL",e)},detectFlash:function(){var e=r,t=navigator,n=!1;if(void 0!==t.plugins&&"object"==typeof t.plugins["Shockwave Flash"])t.plugins["Shockwave Flash"].description&&void 0!==t.mimeTypes&&t.mimeTypes["application/x-shockwave-flash"]&&t.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(n=!0);else if(void 0!==e.ActiveXObject)try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)a.GetVariable("$version")&&(n=!0)}catch(e){}return n},getSWFHTML:function(){var e="",t=this.params.swfURL;if(location.protocol.match(/file/))return this.dispatch("error",new s("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error",new s("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"</h3>";if(!t){for(var n="",a=document.getElementsByTagName("script"),o=0,i=a.length;o<i;o++){var l=a[o].getAttribute("src");l&&l.match(/\/webcam(\.min)?\.js/)&&(n=l.replace(/\/webcam(\.min)?\.js.*$/,""),o=i)}t=n?n+"/webcam.swf":"webcam.swf"}r.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var d="";for(var u in this.params)d&&(d+="&"),d+=u+"="+escape(this.params[u]);return e+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+t+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+d+'"/><embed id="webcam_movie_embed" src="'+t+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+d+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error",new s("Flash Movie is not loaded yet"));var e=document.getElementById("webcam_movie_obj");return e&&e._snap||(e=document.getElementById("webcam_movie_embed")),e||this.dispatch("error",new s("Cannot locate Flash movie in DOM")),e},freeze:function(){var e=this,t=this.params;this.preview_active&&this.unfreeze();var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;this.unflip();var o=t.crop_width||t.dest_width,r=t.crop_height||t.dest_height,i=document.createElement("canvas");i.width=o,i.height=r;var s=i.getContext("2d");this.preview_canvas=i,this.preview_context=s,1==n&&1==a||(i.style.webkitTransformOrigin="0px 0px",i.style.mozTransformOrigin="0px 0px",i.style.msTransformOrigin="0px 0px",i.style.oTransformOrigin="0px 0px",i.style.transformOrigin="0px 0px",i.style.webkitTransform="scaleX("+n+") scaleY("+a+")",i.style.mozTransform="scaleX("+n+") scaleY("+a+")",i.style.msTransform="scaleX("+n+") scaleY("+a+")",i.style.oTransform="scaleX("+n+") scaleY("+a+")",i.style.transform="scaleX("+n+") scaleY("+a+")"),this.snap(function(){i.style.position="relative",i.style.left=e.container.scrollLeft+"px",i.style.top=e.container.scrollTop+"px",e.container.insertBefore(i,e.peg),e.container.style.overflow="hidden",e.preview_active=!0},i)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(-1)",e.mozTransform="scaleX(-1)",e.msTransform="scaleX(-1)",e.oTransform="scaleX(-1)",e.transform="scaleX(-1)",e.filter="FlipH",e.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(1)",e.mozTransform="scaleX(1)",e.msTransform="scaleX(1)",e.oTransform="scaleX(1)",e.transform="scaleX(1)",e.filter="",e.msFilter=""}},savePreview:function(e,t){var n=this.params,a=this.preview_canvas,o=this.preview_context;t&&t.getContext("2d").drawImage(a,0,0);e(t?null:a.toDataURL("image/"+n.image_format,n.jpeg_quality/100),a,o),this.params.unfreeze_snap&&this.unfreeze()},snap:function(e,t){e||(e=this.params.user_callback),t||(t=this.params.user_canvas);var n=this.params;if(!this.loaded)return this.dispatch("error",new l("Webcam is not loaded yet"));if(!e)return this.dispatch("error",new l("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(e,t),null;var a=document.createElement("canvas");a.width=this.params.dest_width,a.height=this.params.dest_height;var o=a.getContext("2d");this.params.flip_horiz&&(o.translate(n.dest_width,0),o.scale(-1,1));var r=function(){if(this.src&&this.width&&this.height&&o.drawImage(this,0,0,n.dest_width,n.dest_height),n.crop_width&&n.crop_height){var r=document.createElement("canvas");r.width=n.crop_width,r.height=n.crop_height;var i=r.getContext("2d");i.drawImage(a,Math.floor(n.dest_width/2-n.crop_width/2),Math.floor(n.dest_height/2-n.crop_height/2),n.crop_width,n.crop_height,0,0,n.crop_width,n.crop_height),o=i,a=r}t&&t.getContext("2d").drawImage(a,0,0);e(t?null:a.toDataURL("image/"+n.image_format,n.jpeg_quality/100),a,o)};if(this.userMedia)o.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height),r();else if(this.iOS){var i=document.getElementById(this.container.id+"-ios_div"),s=document.getElementById(this.container.id+"-ios_img"),d=document.getElementById(this.container.id+"-ios_input");iFunc=function(e){r.call(s),s.removeEventListener("load",iFunc),i.style.backgroundImage="none",s.removeAttribute("src"),d.value=null},d.value?iFunc(null):(s.addEventListener("load",iFunc),d.style.display="block",d.focus(),d.click(),d.style.display="none")}else{var u=this.getMovie()._snap();(s=new Image).onload=r,s.src="data:image/"+this.params.image_format+";base64,"+u}return null},configure:function(e){e||(e="camera"),this.getMovie()._configure(e)},flashNotify:function(e,t){switch(e){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live");break;case"error":this.dispatch("error",new s(t))}},b64ToUint6:function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},base64DecToArr:function(e,t){for(var n,a,o=e.replace(/[^A-Za-z0-9\+\/]/g,""),r=o.length,i=t?Math.ceil((3*r+1>>2)/t)*t:3*r+1>>2,s=new Uint8Array(i),l=0,d=0,u=0;u<r;u++)if(a=3&u,l|=this.b64ToUint6(o.charCodeAt(u))<<18-6*a,3===a||r-u==1){for(n=0;n<3&&d<i;n++,d++)s[d]=l>>>(16>>>n&24)&255;l=0}return s},upload:function(e,t,n){var a=this.params.upload_name||"webcam",o="";if(!e.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";o=RegExp.$1;var r=e.replace(/^data\:image\/\w+\;base64\,/,""),i=new XMLHttpRequest;i.open("POST",t,!0),i.upload&&i.upload.addEventListener&&i.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;u.dispatch("uploadProgress",t,e)}},!1);var s=this;i.onload=function(){n&&n.apply(s,[i.status,i.responseText,i.statusText]),u.dispatch("uploadComplete",i.status,i.responseText,i.statusText)};var l=new Blob([this.base64DecToArr(r)],{type:"image/"+o}),d=new FormData;d.append(a,l,a+"."+o.replace(/e/,"")),i.send(d)}};u.init(),void 0===(o=function(){return u}.call(t,a,t,e))||(e.exports=o)}(window)},function(e,t){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var a=n(32)("wks"),o=n(9),r=n(0).Symbol,i="function"==typeof r;(e.exports=function(e){return a[e]||(a[e]=i&&r[e]||(i?r:o)("Symbol."+e))}).store=a},function(e,t,n){var a=n(0),o=n(2),r=n(8),i=n(22),s=n(10),l=function(e,t,n){var d,u,c,p,h=e&l.F,f=e&l.G,m=e&l.S,E=e&l.P,S=e&l.B,_=f?a:m?a[t]||(a[t]={}):(a[t]||{}).prototype,v=f?o:o[t]||(o[t]={}),g=v.prototype||(v.prototype={});for(d in f&&(n=t),n)c=((u=!h&&_&&void 0!==_[d])?_:n)[d],p=S&&u?s(c,a):E&&"function"==typeof c?s(Function.call,c):c,_&&i(_,d,c,e&l.U),v[d]!=c&&r(v,d,p),E&&g[d]!=c&&(g[d]=c)};a.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var a=n(16),o=n(21);e.exports=n(3)?function(e,t,n){return a.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t,n){var a=n(24);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,o){return e.call(t,n,a,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(28),o=Math.min;e.exports=function(e){return e>0?o(a(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),a=e.name||"",o=e.type||"",r=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?a.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?r===t.replace(/\/.*$/,""):o===t})}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var a=n(7),o=n(25)(3);a(a.P+a.F*!n(33)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var a=n(17),o=n(18),r=n(20),i=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(a(e),t=r(t,!0),a(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var a=n(1);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)(function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(1),o=n(0).document,r=a(o)&&a(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,n){var a=n(1);e.exports=function(e,t){if(!a(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!a(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!a(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!a(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(0),o=n(8),r=n(23),i=n(9)("src"),s=Function.toString,l=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var d="function"==typeof n;d&&(r(n,"name")||o(n,"name",t)),e[t]!==n&&(d&&(r(n,i)||o(n,i,e[t]?""+e[t]:l.join(String(t)))),e===a?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var a=n(10),o=n(26),r=n(27),i=n(12),s=n(29);e.exports=function(e,t){var n=1==e,l=2==e,d=3==e,u=4==e,c=6==e,p=5==e||c,h=t||s;return function(t,s,f){for(var m,E,S=r(t),_=o(S),v=a(s,f,3),g=i(_.length),T=0,b=n?h(t,g):l?h(t,0):void 0;g>T;T++)if((p||T in _)&&(E=v(m=_[T],T,S),e))if(n)b[T]=E;else if(E)switch(e){case 3:return!0;case 5:return m;case 6:return T;case 2:b.push(m)}else if(u)return!1;return c?-1:d||u?u:b}}},function(e,t,n){var a=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(11);e.exports=function(e){return Object(a(e))}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(30);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,n){var a=n(1),o=n(31),r=n(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),a(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var a=n(5);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){var a=n(0),o=a["__core-js_shared__"]||(a["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var a=n(4);e.exports=function(e,t){return!!e&&a(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var a=n(7),o=n(12),r=n(36),i="".endsWith;a(a.P+a.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=r(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,a=o(t.length),s=void 0===n?a:Math.min(o(n),a),l=String(e);return i?i.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){var a=n(37),o=n(11);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var a=n(1),o=n(5),r=n(6)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==o(e))}},function(e,t,n){var a=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(653)),o=u(n(87)),r=u(n(81)),i=u(n(88)),s=u(n(89)),l=u(n(1327)),d=n(1155);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){(0,r.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.validateFiles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.props,r=o.errors,i=o.maxFileSize,s=o.allowedFileTypes,l=o.maxFilesNumber,d=o.checkImage,u=o.imageDimensions,c=o.handleErrors,p=o.handleFilesSelect;n.validation.asyncValidate([].concat((0,a.default)(e),(0,a.default)(t)),{customErrors:r,maxFileSize:i,allowedFileTypes:s,maxFilesNumber:l,checkImage:d,imageDimensions:u}).then(p).catch(c)},n.validation=new l.default,n}return(0,s.default)(t,e),t}(u(d).default);t.default=c,c.propTypes=d.propTypes,c.defaultProps=d.defaultProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=c(n(490)),i=c(n(883)),s=c(n(81)),l=c(n(83)),d=c(n(1150)),u=n(1151);function c(e){return e&&e.__esModule?e:{default:e}}var p=(o=a=function(){function e(){(0,s.default)(this,e)}return(0,l.default)(e,[{key:"validateRealFileType",value:function(t){var n=this.params.allowedFileTypes,a=this.errorsStrings,o=a.WRONG_TYPE,r=a.FILE_CANT_BE_OPENED;return new i.default(function(a,i){var s=new FileReader;s.onloadend=function(r){var s=r.target.result,l=new Uint8Array(s).subarray(0,4).reduce(e.formathexSignature,""),d=e.checkType(t.type,l);return d&&n.includes(d.toLowerCase())?a():i({error:o,fileName:t.name,brokenCondition:u.ERRORS.WRONG_TYPE})},s.onerror=function(){return i({error:r,fileName:t.name,brokenCondition:u.ERRORS.FILE_CANT_BE_OPENED})},s.readAsArrayBuffer(t)})}},{key:"validateMaxFileSize",value:function(e){var t=this.params.maxFileSize,n=this.errorsStrings.BIG_FILE;return new i.default(function(a,o){var r=(0,d.default)(t.toLowerCase());return t&&e.size>r?o({error:n,fileName:e.name,brokenCondition:t}):a()})}},{key:"validateFile",value:function(e){return i.default.all([this.validateRealFileType.call(this,e),this.validateMaxFileSize.call(this,e)]).then(function(){return e})}},{key:"getErrorsStrings",value:function(){var e=this.params.customErrors;return e?(0,r.default)({},u.ERRORS,e):u.ERRORS}},{key:"isFileListExist",value:function(){return!this.filesList||!this.filesList.length}},{key:"isFileListLessAllow",value:function(){var e=this.params.maxFilesNumber;return!!(e&&this.filesList.length>e)}},{key:"getValidParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowedFileTypes;return t&&Array.isArray(t)?(0,r.default)({},e,{allowedFileTypes:t.join()}):e}},{key:"asyncValidate",value:function(e,t){var n=this;return this.filesList=e,this.params=this.getValidParams(t),this.errorsStrings=this.getErrorsStrings(),new i.default(function(t,a){var o=n.isFileListExist(),r=n.isFileListLessAllow(),s=n.errorsStrings,l=s.NO_FILES,d=s.TOO_MANY_FILES;return o?a([{error:l,brokenCondition:""}]):r?a([{error:d,brokenCondition:""}]):void i.default.all(Array.prototype.map.call(e,n.validateFile,n)).then(t).catch(function(e){return a([e])})})}}],[{key:"formathexSignature",value:function(e,t,n){return e+(n>0?" ":"")+t.toString(16)}},{key:"checkType",value:function(t,n){return t.endsWith("zip")||t.endsWith("pages")?t:e.FILE_TYPE_ALIAS_FORMAT[t]?e.FILE_TYPE_ALIAS_FORMAT[t]:e.HEX_SIGNATURE[n]||t}}]),e}(),a.HEX_SIGNATURE={"25 50 44 46":"PDF","45 6d 70 74":"TXT","ff fe 45 0":"TXT","0 45 0 6d":"TXT","45 0 6d 0":"TXT","ff fe 0 0":"TXT","0 0 0 45":"TXT","45 0 0 0":"TXT","31 32 33":"TXT","ff fe 31 0":"TXT","ef bb bf 31":"TXT","45 78 61 6d":"TXT","4c 6f 72 65":"TXT","ff d8 ff e0":"JPG","89 50 4e 47":"PNG","3c 3f 78 6d":"SVG","3c 68 74 6d":"HTML","50 4b 3 4":"DOC","d0 cf 11 e0":"DOC","d0 a0 d0 b0":"DOC","7b 5c 72 74":"RTF"},a.FILE_TYPE_ALIAS_FORMAT={"application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slide":"sldx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","application/vnd.openxmlformats-officedocument.presentationml.template":"potx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.presentation":"odp"},o);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=n(0),d=h(l),u=h(n(23)),c=h(n(1329)),p=n(978);function h(e){return e&&e.__esModule?e:{default:e}}var f={tabIndexForHiddenInput:u.default.number,title:u.default.string.isRequired,onSelect:u.default.func.isRequired,inputId:u.default.string,className:u.default.string,multiple:u.default.bool,allowedFileTypes:u.default.oneOfType([u.default.string,u.default.array])},m=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.tabIndexForHiddenInput,n=e.inputId,a=e.allowedFileTypes,o=e.title,r=e.onSelect,i=e.multiple,s=e.className,l=e.onClick;return d.default.createElement(c.default,{tabIndexForHiddenInput:t,onClick:l,title:o,onSelect:r,inputId:n,inputType:"file",inputAccept:a,multiple:i,buttonClasses:s})}}],[{key:"getId",value:function(){return p.IDS.button}}]),t}(l.Component);t.default=m,m.propTypes=f,m.defaultProps={tabIndexForHiddenInput:null,onSelect:function(){return{}},title:"Select file",inputId:"dropzoneInput",multiple:!1,allowedFileTypes:"",buttonClasses:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(87)),o=p(n(81)),r=p(n(83)),i=p(n(88)),s=p(n(89)),l=n(0),d=p(l),u=p(n(23)),c=n(1330);function p(e){return e&&e.__esModule?e:{default:e}}var h={onSelect:u.default.func.isRequired,tabIndexForHiddenInput:u.default.number,title:u.default.string.isRequired,inputType:u.default.string.isRequired,multiple:u.default.bool,inputId:u.default.string,buttonClasses:u.default.string,inputAccept:u.default.oneOfType([u.default.string,u.default.array])},f=function(e){function t(){var e,n,r,s;(0,o.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(d))),r.handleSelect=function(e){(0,r.props.onSelect)(e.target.files)},r.handleKeyPress=function(e){32===e.charCode&&(e.preventDefault(),r.openInput())},r.openInput=function(){var e=r.props.onClick;e?e():r.input&&r.input.input.click()},r.storeInputRef=function(e){r.input=e},s=n,(0,i.default)(r,s)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.tabIndexForHiddenInput,n=e.title,a=e.inputId,o=e.inputType,r=e.inputAccept,i=e.multiple,s="js-fileapi-wrapper "+e.buttonClasses;return d.default.createElement("div",{className:"g-form-group-file"},d.default.createElement("div",{className:s,onClick:this.openInput,onKeyPress:this.handleKeyPress,tabIndex:0,role:"button"},n),d.default.createElement(c.Input,{tabIndex:t,value:"",hidden:"hidden",type:o,id:a,ref:this.storeInputRef,accept:r,onChange:this.handleSelect,multiple:i,clearOnChange:!0}))}}]),t}(l.Component);t.default=f,f.propTypes=h,f.defaultProps={tabIndexForHiddenInput:null,multiple:!1,inputId:"input-button",buttonClasses:"",inputAccept:""}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,o=E(n(490)),r=E(n(87)),i=E(n(81)),s=E(n(83)),l=E(n(88)),d=E(n(89)),u=E(n(0)),c=E(n(23)),p=E(n(946)),h=E(n(1156)),f=E(n(1050)),m=n(1379);function E(e){return e&&e.__esModule?e:{default:e}}var S=e.document||{},_=t.Input=(0,f.default)(a=(0,h.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return n.handleChange=function(e){var t=n.props,a=t.onChange,o=t.clearOnChange,r=t.handleIsValid,i=t.trim,s=e.target.value;i&&(s=s.trim());var l=n.validate(s);n.setState({value:s,isPristine:!1}),a(e),!n.state.isValid&&n.setState({isValid:!0}),r(l),o&&n.setState({value:"",isPristine:!0,isBlured:!1})},n.handleFocus=function(e){var t=n.props,a=t.onFocus;t.moveCursorAtEnd&&n.moveCaretAtEnd(e),a(e)},n.handleBlur=function(e){var t=n.props.onBlur;n.setState({isBlured:!0}),t&&t(e)},n.regInput=function(e){var t=n.props.inputRef;n.input=e,"function"==typeof t&&t(e)},n.state={value:e.value||"",isValid:!0,errorMessage:"",isPristine:!0,isBlured:!1},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"callHandleIsValidCallback",value:function(e){(0,this.props.handleIsValid)(this.validate(e||""))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.value,a=t.trim,o=e.value;if(a&&(o=o.trim()),n!==o&&this.callHandleIsValidCallback(o),e.validate){var r=this.validate(o||"");this.showValidation(r)}}},{key:"componentDidMount",value:function(){var e=this.props.value;this.callHandleIsValidCallback(e)}},{key:"showValidation",value:function(e){this.setState({isValid:e})}},{key:"isValid",value:function(e){null!=e&&this.setState({isPristine:e,isBlured:!e});var t=this.props,n=t.validate,a=t.value,o=t.externalError;if(!n)return!0;var r=this.validate(a||"")&&!o;return this.showValidation(r),r}},{key:"isPristine",value:function(){return this.state.isPristine}},{key:"needToRenderError",value:function(){var e=this.props,t=e.externalError,n=e.validate,a=this.state,o=a.isValid,r=a.isPristine,i=a.isBlured;return!!t||n&&i&&!(r||o)}},{key:"renderErrorMessage",value:function(){var e=this.props,t=e.className,n=e.externalError,a=!this.state.isValid||n?"g-form-group__message--error":"";return u.default.createElement("div",{className:(0,p.default)({name:"g-form-group__message",modifiers:["size"],disabled:["disabled"]},a,this.props,t)},n||this.state.errorMessage)}},{key:"renderLabel",value:function(){var e=this.props,t=e.id,n=e.label;return t&&n?u.default.createElement("label",{htmlFor:t},n):null}},{key:"renderAddressBookButton",value:function(){var e=this.props.handleAddressBookButtonClick;return u.default.createElement("span",{className:"g-form-add-contact",onClick:e})}},{key:"focus",value:function(){this.input&&S.activeElement!==this.input&&this.input.focus()}},{key:"render",value:function(){var e=(0,m.filterHtmlProps)(this.props),t=this.props,n=t.value,a=t.className,r=t.showCross,i=t.useStateValue,s=t.tabIndex,l=this.props,d=l.handleCrossClick,c=l.showAddressBookButton,h=l.containerClass,f=this.needToRenderError(),E={name:"g-form-control",modifiers:["size","type","placeholder-bold"],disabled:["disabled"],error:f},S=f?"g-form-control--error":"",_=void 0===n||i?this.state.value:n;return u.default.createElement("div",{className:"g-form-group "+h},this.renderLabel(),u.default.createElement("input",(0,o.default)({},e,{value:_,ref:this.regInput,className:(0,p.default)(E,S,this.props,a),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:s})),r&&_&&u.default.createElement("div",{className:"g-form-group__cross",onClick:d}),c&&this.renderAddressBookButton(),f&&this.renderErrorMessage())}}]),t}(u.default.Component))||a)||a;_.defaultProps={tabIndex:null,containerClass:"",label:null,validations:[],validate:!1,clearOnChange:!1,multiple:!1,showAddressBookButton:!1,showCross:!1,trim:!1,onChange:function(){},onFocus:function(){},handleIsValid:function(){},handleCrossClick:function(){},handleAddressBookButtonClick:function(){},moveCursorAtEnd:!1,useStateValue:!1},_.propTypes={tabIndex:c.default.number,placeholder:c.default.string,type:c.default.string,value:c.default.string,name:c.default.string,containerClass:c.default.string,id:c.default.string,label:c.default.string,className:c.default.string,inputRef:c.default.oneOfType([c.default.string,c.default.func]),validations:c.default.array,validate:c.default.bool,clearOnChange:c.default.bool,multiple:c.default.bool,showAddressBookButton:c.default.bool,showCross:c.default.bool,trim:c.default.bool,handleAddressBookButtonClick:c.default.func,onFocus:c.default.func,onBlur:c.default.func,onChange:c.default.func,handleIsValid:c.default.func,handleCrossClick:c.default.func,externalError:c.default.string,moveCursorAtEnd:c.default.bool,useStateValue:c.default.bool}}).call(this,n(318))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=ue(n(1047)),o=ue(n(1157)),r=ue(n(1332)),i=ue(n(1333)),s=ue(n(1334)),l=ue(n(1335)),d=ue(n(1336)),u=ue(n(1158)),c=ue(n(1337)),p=ue(n(1338)),h=ue(n(1160)),f=ue(n(1049)),m=ue(n(1339)),E=ue(n(1340)),S=ue(n(1341)),_=ue(n(1342)),v=ue(n(1343)),g=ue(n(1344)),T=ue(n(1345)),b=ue(n(1162)),y=ue(n(1163)),C=ue(n(1346)),O=ue(n(1347)),M=ue(n(1348)),A=ue(n(1349)),D=ue(n(1350)),I=ue(n(1351)),w=ue(n(1164)),R=ue(n(1352)),P=ue(n(1353)),N=ue(n(1354)),L=ue(n(1355)),k=ue(n(1356)),B=ue(n(1357)),x=ue(n(1159)),F=ue(n(1358)),H=ue(n(1359)),G=ue(n(1360)),U=ue(n(1361)),Y=ue(n(1362)),W=ue(n(1363)),K=ue(n(1364)),j=ue(n(1365)),V=ue(n(1366)),X=ue(n(1367)),z=ue(n(1368)),q=ue(n(1369)),$=ue(n(1165)),Z=ue(n(1370)),Q=ue(n(1371)),J=ue(n(1166)),ee=ue(n(1167)),te=ue(n(1372)),ne=ue(n(1373)),ae=ue(n(1374)),oe=ue(n(1375)),re=ue(n(1376)),ie=ue(n(1168)),se=ue(n(1377)),le=ue(n(1378)),de=ue(n(1048));function ue(e){return e&&e.__esModule?e:{default:e}}var ce={version:"6.3.0",toDate:a.default,toFloat:o.default,toInt:r.default,toBoolean:i.default,equals:s.default,contains:l.default,matches:d.default,isEmail:u.default,isURL:c.default,isMACAddress:p.default,isIP:h.default,isFQDN:f.default,isBoolean:m.default,isAlpha:E.default,isAlphanumeric:S.default,isNumeric:_.default,isLowercase:v.default,isUppercase:g.default,isAscii:T.default,isFullWidth:b.default,isHalfWidth:y.default,isVariableWidth:C.default,isMultibyte:O.default,isSurrogatePair:M.default,isInt:A.default,isFloat:D.default,isDecimal:I.default,isHexadecimal:w.default,isDivisibleBy:R.default,isHexColor:P.default,isMD5:N.default,isJSON:L.default,isEmpty:k.default,isLength:B.default,isByteLength:x.default,isUUID:F.default,isMongoId:H.default,isDate:G.default,isAfter:U.default,isBefore:Y.default,isIn:W.default,isCreditCard:K.default,isISIN:j.default,isISBN:V.default,isISSN:X.default,isMobilePhone:z.default,isCurrency:q.default,isISO8601:$.default,isBase64:Z.default,isDataURI:Q.default,ltrim:J.default,rtrim:ee.default,trim:te.default,escape:ne.default,unescape:ae.default,stripLow:oe.default,whitelist:re.default,blacklist:ie.default,isWhitelisted:se.default,normalizeEmail:le.default,toString:de.default};t.default=ce,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),parseInt(e,t||10)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t)return"1"===e||"true"===e;return"0"!==e&&"false"!==e&&""!==e};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e===t};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),e.indexOf((0,o.default)(t))>=0};var a=r(n(833)),o=r(n(1048));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,r.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,n));return t.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;t=(0,i.default)(t,l);var n=void 0,s=void 0,c=void 0,p=void 0,h=void 0,f=void 0,m=void 0,E=void 0;if(m=e.split("#"),e=m.shift(),m=e.split("?"),e=m.shift(),(m=e.split("://")).length>1){if(n=m.shift(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;t.allow_protocol_relative_urls&&"//"===e.substr(0,2)&&(m[0]=e.substr(2))}if(e=m.join("://"),m=e.split("/"),""===(e=m.shift())&&!t.require_host)return!0;if((m=e.split("@")).length>1&&(s=m.shift()).indexOf(":")>=0&&s.split(":").length>2)return!1;p=m.join("@"),f=E=null;var S=p.match(d);S?(c="",E=S[1],f=S[2]||null):(m=p.split(":"),c=m.shift(),m.length&&(f=m.join(":")));if(null!==f&&(h=parseInt(f,10),!/^[0-9]+$/.test(f)||h<=0||h>65535))return!1;if(!((0,r.default)(c)||(0,o.default)(c,t)||E&&(0,r.default)(E,6)||"localhost"===c))return!1;if(c=c||E,t.host_whitelist&&!u(c,t.host_whitelist))return!1;if(t.host_blacklist&&u(c,t.host_blacklist))return!1;return!0};var a=s(n(833)),o=s(n(1049)),r=s(n(1160)),i=s(n(947));function s(e){return e&&e.__esModule?e:{default:e}}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},d=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(e===a||(o=a,"[object RegExp]"===Object.prototype.toString.call(o)&&a.test(e)))return!0}var o;return!1}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),["true","false","1","0"].indexOf(e)>=0};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in i.alpha)return i.alpha[t].test(e);throw new Error("Invalid locale '"+t+"'")};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a},i=n(1161);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in i.alphanumeric)return i.alphanumeric[t].test(e);throw new Error("Invalid locale '"+t+"'")};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a},i=n(1161);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[-+]?[0-9]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toLowerCase()};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toUpperCase()};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[\x00-\x7F]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.fullWidth.test(e)&&s.halfWidth.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a},i=n(1162),s=n(1163);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/[^\x00-\x7F]/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?i:s,a=!t.hasOwnProperty("min")||e>=t.min,o=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,d=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&a&&o&&l&&d};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,s=/^[-+]?[0-9]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t=t||{},""===e||"."===e)return!1;return i.test(e)&&(!t.hasOwnProperty("min")||e>=t.min)&&(!t.hasOwnProperty("max")||e<=t.max)&&(!t.hasOwnProperty("lt")||e<t.lt)&&(!t.hasOwnProperty("gt")||e>t.gt)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),""!==e&&i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),(0,o.default)(e)%parseInt(t,10)==0};var a=r(n(833)),o=r(n(1157));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[a-f0-9]{32}$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){(0,i.default)(e);try{var t=JSON.parse(e);return!!t&&"object"===(void 0===t?"undefined":a(t))}catch(e){}return!1};var o,r=n(833),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),0===e.length};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,i.default)(e);var n=void 0,o=void 0;"object"===(void 0===t?"undefined":a(t))?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var r=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],s=e.length-r.length;return s>=n&&(void 0===o||s<=o)};var o,r=n(833),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,r.default)(e);var n=i[t];return n&&n.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),(0,o.default)(e)&&24===e.length};var a=r(n(833)),o=r(n(1164));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=new Date(Date.parse(e));if(isNaN(t))return!1;var n=function(e){var t=e.match(i.iso8601),n=void 0,a=void 0,o=void 0,r=void 0;if(t){if(!(n=t[21]))return t[12]?null:0;if("z"===n||"Z"===n)return 0;a=t[22],-1!==n.indexOf(":")?(o=parseInt(t[23],10),r=parseInt(t[24],10)):(o=0,r=parseInt(t[23],10))}else{if(e=e.toLowerCase(),!(n=e.match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/)))return-1!==e.indexOf("gmt")?0:null;a=n[1];var s=n[2];3===s.length&&(s="0"+s),s.length<=2?(o=0,r=parseInt(s,10)):(o=parseInt(s.slice(0,2),10),r=parseInt(s.slice(2,4),10))}return(60*o+r)*("-"===a?1:-1)}(e);if(null!==n){var a=t.getTimezoneOffset()-n;t=new Date(t.getTime()+6e4*a)}var o,s,l=String(t.getDate()),d=void 0;if(!(d=e.match(/(^|[^:\d])[23]\d([^T:\d]|$)/g)))return!0;if(o=d.map(function(e){return e.match(/\d+/g)[0]}).join("/"),s=String(t.getFullYear()).slice(-2),o===l||o===s)return!0;if(o===""+l/s||o===""+s/l)return!0;return!1};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a},i=n(1165);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,o.default)(t),r=(0,o.default)(e);return!!(r&&n&&r>n)};var a=r(n(833)),o=r(n(1047));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,o.default)(t),r=(0,o.default)(e);return!!(r&&n&&r<n)};var a=r(n(833)),o=r(n(1047));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,o.default)(e);var n=void 0;if("[object Array]"===Object.prototype.toString.call(t)){var i=[];for(n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=(0,r.default)(t[n]));return i.indexOf(e)>=0}if("object"===(void 0===t?"undefined":a(t)))return t.hasOwnProperty(e);if(t&&"function"==typeof t.indexOf)return t.indexOf(e)>=0;return!1};var o=i(n(833)),r=i(n(1048));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.replace(/[^0-9]+/g,"");if(!i.test(t))return!1;for(var n=0,a=void 0,o=void 0,s=void 0,l=t.length-1;l>=0;l--)a=t.substring(l,l+1),o=parseInt(a,10),n+=s&&(o*=2)>=10?o%10+1:o,s=!s;return!(n%10!=0||!t)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e),!i.test(e))return!1;for(var t=e.replace(/[A-Z]/g,function(e){return parseInt(e,36)}),n=0,a=void 0,o=void 0,s=!0,l=t.length-2;l>=0;l--)a=t.substring(l,l+1),o=parseInt(a,10),n+=s&&(o*=2)>=10?o+1:o,s=!s;return parseInt(e.substr(e.length-1),10)===(1e4-n)%10};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(t);n=String(n);if(!n)return e(t,10)||e(t,13);var a=t.replace(/[\s-]+/g,"");var o=0;var d=void 0;if("10"===n){if(!i.test(a))return!1;for(d=0;d<9;d++)o+=(d+1)*a.charAt(d);if("X"===a.charAt(9)?o+=100:o+=10*a.charAt(9),o%11==0)return!!a}else if("13"===n){if(!s.test(a))return!1;for(d=0;d<12;d++)o+=l[d%2]*a.charAt(d);if(a.charAt(12)-(10-o%10)%10==0)return!!a}return!1};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[0-9]{9}X|[0-9]{10})$/,s=/^(?:[0-9]{13})$/,l=[1,3];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e);var n=i;if(n=t.require_hyphen?n.replace("?",""):n,!(n=t.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(e))return!1;var a=e.replace("-",""),o=8,s=0,l=!0,d=!1,u=void 0;try{for(var c,p=a[Symbol.iterator]();!(l=(c=p.next()).done);l=!0){var h=c.value,f="X"===h.toUpperCase()?10:+h;s+=f*o,--o}}catch(e){d=!0,u=e}finally{try{!l&&p.return&&p.return()}finally{if(d)throw u}}return s%11==0};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in i)return i[t].test(e);return!1};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i={"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"da-DK":/^(\+?45)?(\d{8})$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5)?|50)\s?(\d\s?){4,8}\d$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[0248]|77)[1-9]\d{6}/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)\d{1,4}[ \-]?\d{1,4}[ \-]?\d{4}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};i["en-CA"]=i["en-US"],i["fr-BE"]=i["nl-BE"],i["zh-HK"]=i["en-HK"],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)(e),function(e){var t="(\\"+e.symbol.replace(/\./g,"\\.")+")"+(e.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\"+e.thousands_separator+"\\d{3})*",a="("+["0","[1-9]\\d*",n].join("|")+")?",o="(\\"+e.decimal_separator+"\\d{2})?",r=a+o;e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?r+="-?":e.negative_sign_before_digits&&(r="-?"+r));e.allow_negative_sign_placeholder?r="( (?!\\-))?"+r:e.allow_space_after_symbol?r=" ?"+r:e.allow_space_after_digits&&(r+="( (?!$))?");e.symbol_after_digits?r+=t:r=t+r;e.allow_negatives&&(e.parens_for_negatives?r="(\\("+r+"\\)|"+r+")":e.negative_sign_before_digits||e.negative_sign_after_digits||(r="-?"+r));return new RegExp("^(?!-? )(?=.*\\d)"+r+"$")}(t=(0,a.default)(t,i)).test(e)};var a=r(n(947)),o=r(n(833));function r(e){return e&&e.__esModule?e:{default:e}}var i={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.length;if(!t||t%4!=0||i.test(e))return!1;var n=e.indexOf("=");return-1===n||n===t-1||n===t-2&&"="===e[t-1]};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/[^A-Z0-9+\/=]/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};var i=/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9!\$&',\(\)\*\+,;=\-\._~:@\/\?%\s]*\s*$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)((0,o.default)(e,t),t)};var a=r(n(1167)),o=r(n(1166));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);var n=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,o.default)(e,n)};var a=r(n(833)),o=r(n(1168));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("[^"+t+"]+","g"),"")};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);for(var n=e.length-1;n>=0;n--)if(-1===t.indexOf(e[n]))return!1;return!0};var a,o=n(833),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,o.default)(t,i),!(0,a.default)(e))return!1;var n=e.split("@"),r=n.pop(),u=[n.join("@"),r];if(u[1]=u[1].toLowerCase(),"gmail.com"===u[1]||"googlemail.com"===u[1]){if(t.gmail_remove_subaddress&&(u[0]=u[0].split("+")[0]),t.gmail_remove_dots&&(u[0]=u[0].replace(/\./g,"")),!u[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(u[0]=u[0].toLowerCase()),u[1]=t.gmail_convert_googlemaildotcom?"gmail.com":u[1]}else if(~s.indexOf(u[1])){if(t.icloud_remove_subaddress&&(u[0]=u[0].split("+")[0]),!u[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(u[0]=u[0].toLowerCase())}else if(~l.indexOf(u[1])){if(t.outlookdotcom_remove_subaddress&&(u[0]=u[0].split("+")[0]),!u[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(u[0]=u[0].toLowerCase())}else if(~d.indexOf(u[1])){if(t.yahoo_remove_subaddress){var c=u[0].split("-");u[0]=c.length>1?c.slice(0,-1).join("-"):c[0]}if(!u[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(u[0]=u[0].toLowerCase())}else t.all_lowercase&&(u[0]=u[0].toLowerCase());return u.join("@")};var a=r(n(1158)),o=r(n(947));function r(e){return e&&e.__esModule?e:{default:e}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},s=["icloud.com","me.com"],l=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],d=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterHtmlProps=t.isEligibleHtmlProp=t.eligibleHtmlProperties=void 0;var a=i(n(974)),o=i(n(449)),r=i(n(321));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.eligibleHtmlProperties={accept:!0,acceptCharset:!0,accessKey:!0,action:!0,allowFullScreen:!0,allowTransparency:!0,alt:!0,async:!0,autoComplete:!0,autoFocus:!0,autoPlay:!0,capture:!0,cellPadding:!0,cellSpacing:!0,challenge:!0,charSet:!0,checked:!0,cite:!0,classID:!0,className:!0,colSpan:!0,cols:!0,content:!0,contentEditable:!0,contextMenu:!0,controls:!0,coords:!0,crossOrigin:!0,data:!0,dangerouslySetInnerHTML:!0,dateTime:!0,default:!0,defer:!0,dir:!0,disabled:!0,download:!0,draggable:!0,encType:!0,form:!0,formAction:!0,formEncType:!0,formMethod:!0,formNoValidate:!0,formTarget:!0,frameBorder:!0,headers:!0,height:!0,hidden:!0,high:!0,href:!0,hrefLang:!0,htmlFor:!0,httpEquiv:!0,icon:!0,id:!0,inputMode:!0,integrity:!0,is:!0,keyParams:!0,keyType:!0,kind:!0,label:!0,lang:!0,list:!0,loop:!0,low:!0,manifest:!0,marginHeight:!0,marginWidth:!0,max:!0,maxLength:!0,media:!0,mediaGroup:!0,method:!0,min:!0,minLength:!0,multiple:!0,muted:!0,name:!0,noValidate:!0,nonce:!0,open:!0,optimum:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,profile:!0,radioGroup:!0,readOnly:!0,rel:!0,required:!0,reversed:!0,role:!0,rowSpan:!0,rows:!0,sandbox:!0,scope:!0,scoped:!0,scrolling:!0,seamless:!0,selected:!0,shape:!0,size:!0,sizes:!0,span:!0,spellCheck:!0,src:!0,srcDoc:!0,srcLang:!0,srcSet:!0,start:!0,step:!0,style:!0,summary:!0,tabIndex:!0,target:!0,title:!0,type:!0,useMap:!0,value:!0,width:!0,wmode:!0,wrap:!0,autoCapitalize:!0,autoCorrect:!0,color:!0,itemProp:!0,itemScope:!0,itemType:!0,itemRef:!0,itemID:!0,security:!0,results:!0,autoSave:!0},l=t.isEligibleHtmlProp=function(e){return s[e]||/^on[A-Z][a-zA-Z]*$/.test(e)||/^(?:data|aria)-.*$/.test(e)},d=function(e){return function(t,n){return l(n)?function(e,t,n){return(0,r.default)(t,(0,o.default)({},n,e[n]))}(e,t,n):t}},u=t.filterHtmlProps=function(e){return(0,a.default)(e).reduce(d(e),{})};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=n(0),d=h(l),u=h(n(23)),c=n(1381),p=n(978);function h(e){return e&&e.__esModule?e:{default:e}}var f={content:u.default.string.isRequired},m=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.content,t={__html:(0,c.sanitize)(e)};return d.default.createElement("div",{className:"crop-body__small-title",dangerouslySetInnerHTML:t})}}],[{key:"getId",value:function(){return p.IDS.content}}]),t}(l.Component);t.default=m,m.propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){return e&&(0,a.sanitize)(e)},t.sanitizeWithPolicy=function(e,t){return e&&(0,a.sanitizeWithPolicy)(e,t)};var a=n(1034)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(87)),o=p(n(81)),r=p(n(83)),i=p(n(88)),s=p(n(89)),l=n(0),d=p(l),u=p(n(23)),c=n(978);function p(e){return e&&e.__esModule?e:{default:e}}var h={title:u.default.string.isRequired},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.title;return d.default.createElement("div",{className:"crop-body__title"},e)}}],[{key:"getId",value:function(){return c.IDS.title}}]),t}(l.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=v(n(87)),s=v(n(81)),l=v(n(83)),d=v(n(88)),u=v(n(89)),c=n(0),p=v(c),h=v(n(23)),f=n(55),m=n(900),E=v(n(1384)),S=v(n(1385)),_=v(n(862));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e,t){return e<t-1},T=function(e){var t=e.scale,n=e.imageDimensions,a=e.editorDimensions,o=n.height,r=n.width,i=a.height,s=a.width,l=o*t+m.DEFAULT_PADDING,d=r*t+m.DEFAULT_PADDING;return t>1||l>i||d>s},b=(0,f.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,locale:e.signatureEditor.locale.toolbar,canUndo:(n=e.signatureEditor.currentStep,a=e.signatureEditor.minStep,n>a),canRedo:g(e.signatureEditor.currentStep,e.signatureEditor.totalSteps),canZoomIn:(t=e.signatureEditor.scale,t<m.MAX_ZOOM),canZoomOut:T(e.signatureEditor)};var t,n,a},{selectTool:_.default.selectTool,undoHistory:_.default.undoHistory,redoHistory:_.default.redoHistory,zoomIn:_.default.zoomIn,zoomOut:_.default.zoomOut})((r=o=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"renderControls",value:function(){var e=this.props,t=e.canUndo,n=e.canRedo,a=e.undoHistory,o=e.redoHistory,r=e.zoomIn,i=e.zoomOut,s=e.canZoomIn,l=e.canZoomOut;return p.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},p.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},p.default.createElement(S.default,{iconClass:"i-undo",onClick:a,disabled:!t}),p.default.createElement(S.default,{iconClass:"i-redo",onClick:o,disabled:!n}),p.default.createElement(S.default,{iconClass:"i-zoomin",onClick:r,disabled:!s}),p.default.createElement(S.default,{iconClass:"i-zoomout",onClick:i,disabled:!l})))}},{key:"renderMainTools",value:function(){var e=this.props,t=e.selectTool,n=e.selectedTool,a=e.locale,o=[{title:a.flipRotate,id:m.TOOLS.flipRotate,iconClass:"i-rotate-right"},{title:a.crop,id:m.TOOLS.crop,iconClass:"i-crop"},{title:a.erase,id:m.TOOLS.erase,iconClass:"i-erase"},{title:a.adjust,id:m.TOOLS.adjust,iconClass:"i-adjust"}];return p.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right"},o.map(function(e){return p.default.createElement(E.default,{key:e.id,title:e.title,iconClass:e.iconClass,isActive:e.id===n,onClick:function(){return t(e.id)}})}))}},{key:"render",value:function(){return p.default.createElement("div",{className:"sign-m-upload-nav"},this.renderControls(),this.renderMainTools())}}]),t}(c.Component),o.propTypes={selectedTool:h.default.string.isRequired,locale:h.default.object.isRequired,canUndo:h.default.bool.isRequired,canRedo:h.default.bool.isRequired,canZoomIn:h.default.bool.isRequired,canZoomOut:h.default.bool.isRequired,selectTool:h.default.func.isRequired,undoHistory:h.default.func.isRequired,redoHistory:h.default.func.isRequired,zoomIn:h.default.func.isRequired,zoomOut:h.default.func.isRequired},a=r))||a;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(87)),o=p(n(81)),r=p(n(83)),i=p(n(88)),s=p(n(89)),l=n(0),d=p(l),u=p(n(23)),c=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}var h={title:u.default.string.isRequired,iconClass:u.default.string.isRequired,isActive:u.default.bool.isRequired,onClick:u.default.func.isRequired},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconClass,a=e.isActive,o=e.onClick,r=(0,c.default)("sign-m-upload-nav__tab",{active:a});return d.default.createElement("div",{className:r,onClick:o},d.default.createElement("i",{className:"i "+n}),t)}}]),t}(l.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),o=i(n(23)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.iconClass,n=e.onClick,o=e.disabled,i={},s=(0,r.default)("sign-m-upload-nav__btn",{disabled:o});return o&&(i.pointerEvents="none"),a.default.createElement("div",{className:s,onClick:n,style:i},a.default.createElement("i",{className:"i "+t}))};s.propTypes={iconClass:o.default.string.isRequired,onClick:o.default.func.isRequired,disabled:o.default.bool},s.defaultProps={disabled:!1},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=g(n(87)),s=g(n(81)),l=g(n(83)),d=g(n(88)),u=g(n(89)),c=n(0),p=g(c),h=g(n(23)),f=n(55),m=g(n(1387)),E=n(1388),S=g(n(1390)),_=n(900),v=g(n(862));function g(e){return e&&e.__esModule?e:{default:e}}var T=(0,f.connect)(function(e){return{threshold:e.signatureEditor.threshold,brightness:e.signatureEditor.brightness,contrast:e.signatureEditor.contrast,selectedTool:e.signatureEditor.selectedTool,eraserThickness:e.signatureEditor.eraserThickness,locale:e.signatureEditor.locale.toolSubBar}},{rotateImage:v.default.rotateImage,flipImage:v.default.flipImage,setThickness:v.default.setThickness,applyCrop:v.default.applyCrop,setBrightness:v.default.setBrightness,setContrast:v.default.setContrast,setThreshold:v.default.setThreshold,saveImageState:v.default.saveImageState,autoAdjustImage:v.default.autoAdjustImage})((r=o=function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.toggleThicknessSelector=function(){e.setState(function(e){return{openThicknessSelector:!e.openThicknessSelector}})},e.setThickness=function(t){var n=e.props.setThickness;e.setState({openThicknessSelector:!1},function(){return n(t)})},e.state={openThicknessSelector:!1},e}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.setState({openThicknessSelector:!1})}},{key:"renderAdjustTools",value:function(){var e=this.props,t=e.locale,n=e.setBrightness,a=e.setContrast,o=e.setThreshold,r=e.threshold,i=e.brightness,s=e.contrast,l=e.saveImageState,d=e.autoAdjustImage;return p.default.createElement("div",{className:"sign-m-upload-nav-sub sign-m-upload-nav-sub--adjust show"},p.default.createElement("div",{className:"sign-m-upload-nav-btn-wrap"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm",iconLeft:"i-auto",onClick:d},t.autoAdjust)),p.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-wrap"},p.default.createElement(m.default,{iconClass:"i-brightness",min:_.IMAGE_CLEANER_CONFIG.minBrightness,max:_.IMAGE_CLEANER_CONFIG.maxBrightness,value:i,onChange:n,onChangeComplete:l}),p.default.createElement(m.default,{iconClass:"i-contrast",min:_.IMAGE_CLEANER_CONFIG.minContrast,max:_.IMAGE_CLEANER_CONFIG.maxContrast,value:s,onChange:a,onChangeComplete:l}),p.default.createElement(m.default,{iconClass:"i-clear-bg",min:_.IMAGE_CLEANER_CONFIG.minThreshold,max:_.IMAGE_CLEANER_CONFIG.maxThreshold,value:r,onChange:o,onChangeComplete:l})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedTool,a=t.locale,o=t.rotateImage,r=t.flipImage,i=t.applyCrop,s=t.eraserThickness,l=this.state.openThicknessSelector;switch(n){case _.TOOLS.flipRotate:return p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",style:{transition:"initial"},iconLeft:"i-flip-horisontal",onClick:function(){return r({horizontally:!0})}},a.flipHorizontal),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-flip-vertical",onClick:function(){return r({vertically:!0})}},a.flipVertical),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-left",onClick:function(){return o(!1)}},a.rotateLeft),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-right",onClick:function(){return o(!0)}},a.rotateRight));case _.TOOLS.crop:return p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm sign-m-upload-nav__btn-primary",style:{transition:"initial"},onClick:i},a.applyCrop));case _.TOOLS.erase:var d="g-dropdown-wrap sign-m-dropdown-list-thickness";return l&&(d+=" open"),p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement("div",{className:d},p.default.createElement(E.Button,{className:"g-btn g-btn-sm g-btn-empty",iconLeft:"i-thinkness",onClick:this.toggleThicknessSelector},a.thickness),p.default.createElement("div",{className:"g-dropdown-popup"},p.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),p.default.createElement("div",{className:"g-dropdown-popup-list"},_.IMAGE_CLEANER_CONFIG.thickness.map(function(t){return p.default.createElement(S.default,{key:t,thickness:t,isSelected:t===s,onClick:e.setThickness})})))));case _.TOOLS.adjust:return this.renderAdjustTools();default:return null}}}]),t}(c.Component),o.propTypes={rotateImage:h.default.func.isRequired,flipImage:h.default.func.isRequired,setThickness:h.default.func.isRequired,applyCrop:h.default.func.isRequired,setContrast:h.default.func.isRequired,setThreshold:h.default.func.isRequired,setBrightness:h.default.func.isRequired,saveImageState:h.default.func.isRequired,autoAdjustImage:h.default.func.isRequired,selectedTool:h.default.string.isRequired,locale:h.default.object.isRequired,threshold:h.default.number.isRequired,brightness:h.default.number.isRequired,contrast:h.default.number.isRequired,eraserThickness:h.default.number.isRequired},a=r))||a;t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(87)),o=c(n(81)),r=c(n(83)),i=c(n(88)),s=c(n(89)),l=n(0),d=c(l),u=c(n(23));function c(e){return e&&e.__esModule?e:{default:e}}var p={onChange:u.default.func.isRequired,onChangeComplete:u.default.func,value:u.default.number,min:u.default.number,max:u.default.number,step:u.default.number,iconClass:u.default.string},h=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.handleStart=function(){document.addEventListener("mousemove",e.handleDrag),document.addEventListener("mouseup",e.handleEnd)},e.handleEnd=function(){e.onChangeComplete(),document.removeEventListener("mousemove",e.handleDrag),document.removeEventListener("mouseup",e.handleEnd)},e.handleClick=function(t){e.handleDrag(t),e.onChangeComplete()},e.handleDrag=function(t){var n,a=e.props.onChange,o=e.state,r=o.correction,i=o.step,s=t.touches?t.touches[0].clientX:t.clientX,l=e.slider.getBoundingClientRect(),d=s-l.left,u=0;d>l.width?d=l.width:d<0&&(d=0),d>0&&(u=d/l.width*100),a(n=Math.round(u*i-r)),e.setState({position:u,value:n})},e.onChangeComplete=function(){(0,e.props.onChangeComplete)(e.state.value)},e.storeSliderRef=function(t){e.slider=t},e.storeHandleRef=function(t){e.handle=t},e.state={limit:0,position:0,min:0,max:0,value:0,correction:0},e.slider=null,e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e,t=this.props,n=t.min,a=t.max,o=t.value,r=0,i=0;n<0?r+=Math.abs(n):n>0&&(r-=n),e=((a+=r)-(n+=r))/100,0!==(o+=r)&&(i=Math.round(o/a*100)),this.setState({min:n,max:a,value:o,correction:r,position:i,step:e})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.correction,o=n.max,r=this.props.value+a;if(r!==t.value){var i=Math.round(r/o*100);this.setState({value:r,position:i})}}},{key:"renderIcon",value:function(){var e=this.props.iconClass;return e?d.default.createElement("i",{className:"i "+e}):null}},{key:"render",value:function(){var e=this.state.position,t={width:e+"%"},n={left:e+"%"};return d.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-item"},this.renderIcon(),d.default.createElement("div",{style:{cursor:"pointer"},className:"range-slider",ref:this.storeSliderRef,onMouseDown:this.handleClick},d.default.createElement("div",{style:t,className:"range-slider__bar"}),d.default.createElement("div",{className:"range-slider__bar"}),d.default.createElement("div",{style:n,ref:this.storeHandleRef,className:"range-slider__handle",onMouseDown:this.handleStart})))}}]),t}(l.Component);t.default=h,h.propTypes=p,h.defaultProps={onChangeComplete:function(){},value:0,min:0,max:100,step:1,iconClass:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var a=E(n(490)),o=E(n(449)),r=E(n(901)),i=E(n(87)),s=E(n(81)),l=E(n(83)),d=E(n(88)),u=E(n(89)),c=E(n(0)),p=E(n(23)),h=E(n(6)),f=E(n(946)),m=n(1389);function E(e){return e&&e.__esModule?e:{default:e}}(t.Button=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"renderIcon",value:function(e){return c.default.createElement(m.Icon,{classNames:e})}},{key:"renderIconLeft",value:function(e){return!!e&&this.renderIcon(e)}},{key:"renderIconRight",value:function(e){return!!e&&this.renderIcon(e)}},{key:"render",value:function(){var e,t=this.props,n=t.iconRight,i=t.iconLeft,s=t.confirmButtonRef,l=(0,r.default)(t,["iconRight","iconLeft","confirmButtonRef"]);f.default.prefixes.gBtn="g-btn--";var d=(0,h.default)({"g-btn--icon-right":n}),u=(e={},(0,o.default)(e,this.props.pull,this.props.pull),(0,o.default)(e,"name","g-btn"),(0,o.default)(e,"modifiers",["width","type","size"]),(0,o.default)(e,"disabled",["disabled"]),(0,o.default)(e,"classNamesIconRight",d),e);return c.default.createElement("button",(0,a.default)({},l,{type:"button",className:(0,f.default)(u,this.props,this.props.className),ref:s}),this.renderIconLeft(i),this.props.children,this.renderIconRight(n))}}]),t}(c.default.Component)).propTypes={size:p.default.string,type:p.default.string,width:p.default.string,disabled:p.default.bool,iconRight:p.default.string,iconLeft:p.default.string,pull:p.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(490)),o=d(n(449)),r=d(n(901));t.Icon=u;var i=d(n(0)),s=d(n(23)),l=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){var t,n=e.baseClass,s=e.classNames,d=e.customClass,u=(0,r.default)(e,["baseClass","classNames","customClass"]),c=n+"-",p=(0,l.default)(n,(t={},(0,o.default)(t,c+s,s&&s.substr(0,2)!==c),(0,o.default)(t,s,s&&s.substr(0,2)===c),(0,o.default)(t,d,d),t));return i.default.createElement("i",(0,a.default)({},u,{className:p}))}u.defaultProps={baseClass:"i"},u.propTypes={classNames:s.default.string.isRequired,customClass:s.default.string,baseClass:s.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),o=r(n(23));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.thickness,n=e.onClick,o={};return e.isSelected&&(o.backgroundColor="#e5e5e5"),a.default.createElement("div",{className:"sign-m-dropdown-thickness",style:o,onClick:function(){return n(t)}},a.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--"+t+"px"}))};i.propTypes={thickness:o.default.number.isRequired,onClick:o.default.func.isRequired,isSelected:o.default.bool.isRequired},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=y(n(490)),s=y(n(87)),l=y(n(81)),d=y(n(83)),u=y(n(88)),c=y(n(89)),p=n(0),h=y(p),f=y(n(23)),m=n(55),E=n(876),S=y(n(1392)),_=y(n(1394)),v=y(n(1170)),g=y(n(1395)),T=n(900),b=y(n(862));function y(e){return e&&e.__esModule?e:{default:e}}var C={position:"relative",width:"100%",height:"100%",overflow:"hidden"},O=(0,m.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,src:e.signatureEditor.image,eraserThickness:e.signatureEditor.eraserThickness,scale:e.signatureEditor.scale,imageDimensions:e.signatureEditor.imageDimensions}},{setImage:b.default.setImage,setCroppedImage:b.default.setCroppedImage,saveErasedImage:b.default.saveErasedImage,setImageDimensions:b.default.setImageDimensions,setEditorDimensions:b.default.setEditorDimensions,applyCrop:b.default.applyCrop})((r=o=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return n.setWrapperReference=function(e){n.editorWrapper=e},n.setScrollReference=function(e){n.scroll=e},n.onScrollEnd=function(e){n.setState(function(t){return{scrollOptions:(0,i.default)({},t.scrollOptions,{startX:e.x,startY:e.y})}})},n.state={image:null,scrollOptions:(0,i.default)({},T.ISCROLL_CONFIG,{startX:0,startY:0}),imageWidth:n.addPadding(e.imageDimensions.width),imageHeight:n.addPadding(e.imageDimensions.height)},n.scroll=null,n.editorWrapper=null,n.mounted=!1,n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.setEditorDimensions(),this.drawImage(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.src,a=t.scale,o=t.selectedTool;n&&n!==e.src?this.drawImage():a!==e.scale?this.scaleImage():o!==e.selectedTool&&this.handleToolChange(e.selectedTool)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"setEditorDimensions",value:function(){if(this.editorWrapper){var e=this.props.setEditorDimensions,t=this.editorWrapper;e({width:t.offsetWidth,height:t.offsetHeight})}}},{key:"drawImage",value:function(e){var t=this,n=this.props.src;(0,E.base64ToImage)(n).then(function(n){t.mounted&&t.handleImageUpdate(n,e)})}},{key:"scaleImage",value:function(){if(this.scroll){var e=this.props.scale,t=this.state,n=t.imageWidth,a=t.imageHeight,o=this.getStartPosition(n*e,a*e),r=o.offsetLeft,s=o.offsetTop;this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{startX:r,startY:s})}}),this.scroll.withIScroll(!0,function(t){return t.zoom(e)})}}},{key:"handleImageUpdate",value:function(e,t){var n=this,a=this.props,o=a.selectedTool,r=a.setImageDimensions,s=a.scale,l=e.width,d=e.height,u=this.addPadding(l),c=this.addPadding(d),p=this.state.scrollOptions,h=p.startX,f=p.startY;if(t){var m=this.getStartPosition(u*s,c*s),E=m.offsetLeft,S=m.offsetTop;h=E,f=S}this.setState(function(t){return{image:e,scrollOptions:(0,i.default)({},t.scrollOptions,{startX:h,startY:f}),imageWidth:u,imageHeight:c}},function(){r({width:l,height:d}),t||o!==T.TOOLS.crop||n.scaleImage()})}},{key:"getStartPosition",value:function(e,t){var n=this.editorWrapper;return{offsetLeft:(n.offsetWidth-e)/2,offsetTop:(n.offsetHeight-t)/2}}},{key:"handleToolChange",value:function(e){var t=this.props.selectedTool;t===T.TOOLS.crop&&e!==T.TOOLS.erase||t===T.TOOLS.erase&&e!==T.TOOLS.crop?this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{disableMouse:!0,disablePointer:!0,disableTouch:!0})}}):(t===T.TOOLS.flipRotate&&e!==T.TOOLS.adjust||t===T.TOOLS.adjust&&e!==T.TOOLS.flipRotate)&&this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{disableMouse:!1,disablePointer:!1,disableTouch:!1})}})}},{key:"addPadding",value:function(e){return e+2*T.DEFAULT_PADDING}},{key:"renderTool",value:function(){var e=this.props,t=e.selectedTool,n=e.src,a=e.eraserThickness,o=e.saveErasedImage,r=e.setCroppedImage,i=e.scale,s=this.state.image;switch(t){case T.TOOLS.crop:return h.default.createElement(S.default,{image:n,handleImage:r,scale:i,applyCrop:this.props.applyCrop,setImageDimensions:this.props.setImageDimensions});case T.TOOLS.erase:return h.default.createElement(_.default,{image:n,handleImage:o,thickness:a,scale:i});default:return h.default.createElement(v.default,{image:s})}}},{key:"renderScroll",value:function(){var e=this.state,t=e.scrollOptions,n={width:e.imageWidth+"px",height:e.imageHeight+"px",marginTop:T.DEFAULT_PADDING+"px"};return h.default.createElement(g.default,{options:t,onScrollEnd:this.onScrollEnd,scrollRef:this.setScrollReference,style:C},h.default.createElement("div",{style:n},this.renderTool()))}},{key:"render",value:function(){var e=this.state.image;return h.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top",ref:this.setWrapperReference},e?this.renderScroll():null)}}]),t}(p.Component),o.propTypes={selectedTool:f.default.string.isRequired,setImage:f.default.func.isRequired,setCroppedImage:f.default.func.isRequired,saveErasedImage:f.default.func.isRequired,setImageDimensions:f.default.func.isRequired,setEditorDimensions:f.default.func.isRequired,eraserThickness:f.default.number.isRequired,scale:f.default.number.isRequired,src:f.default.string.isRequired,imageDimensions:f.default.object.isRequired,applyCrop:f.default.func.isRequired},a=r))||a;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=n(0),d=h(l),u=h(n(23)),c=h(n(1393)),p=n(876);function h(e){return e&&e.__esModule?e:{default:e}}var f="png",m={image:u.default.string.isRequired,handleImage:u.default.func,handleCropperRectangle:u.default.func,applyCrop:u.default.func.isRequired,setImageDimensions:u.default.func,rectWidth:u.default.number,rectHeight:u.default.number,aspect:u.default.number,rectPositionX:u.default.number,rectPositionY:u.default.number,scale:u.default.number,cropperClassName:u.default.string,maxCroppedImageHeight:u.default.number,maxCroppedImageWidth:u.default.number},E=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.setImage=function(e,t){n.image=t,n.crop(e)},n.crop=function(e){var t=n.props,a=t.handleImage,o=t.handleCropperRectangle,r=t.maxCroppedImageHeight,i=t.maxCroppedImageWidth,s=n.image.naturalWidth,l=n.image.naturalHeight,d=e.x/100*s,u=e.y/100*l,c=document.createElement("canvas"),p=c.getContext("2d"),h=e.width/100*s,m=e.height/100*l,E=new Image;h<1&&(h=1),m<1&&(m=1),c.width=h,c.height=m,h===s&&m===l?p.drawImage(n.image,0,0):(p.drawImage(n.image,d,u,h,m,0,0,h,m),o(e)),E.onload=function(){r&&i?n.checkImageSize(c.toDataURL("image/"+f),m,h):(a(c.toDataURL("image/"+f),m,h,f),n.props.setImageDimensions({width:h,height:m}))},E.src=c.toDataURL("image/"+f),n.setState({rectWidth:e.width,rectHeight:e.height,rectPositionX:e.x,rectPositionY:e.y})},n.state={rectWidth:e.rectWidth,rectHeight:e.rectHeight,rectPositionX:e.rectPositionX,rectPositionY:e.rectPositionY},n.image=null,n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"checkImageSize",value:function(e,t,n){var a=this.props,o=a.handleImage,r=a.maxCroppedImageHeight,i=a.maxCroppedImageWidth;if(t>r||n>i){var s={dataUri:e,width:i,height:r,isImageMirrored:!1,orientation:1};(0,p.resizeToFit)(s).then(function(e){return o(e.resizedImage,e.height,e.width,f)})}else o(e,t,n,f)}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.aspect,a=e.scale,o=e.cropperClassName,r=this.state,i=r.rectWidth,s=r.rectHeight,l={x:r.rectPositionX,y:r.rectPositionY,width:i,height:s,aspect:n};return d.default.createElement("div",{style:{textAlign:"center"}},d.default.createElement(c.default,{src:t,crop:l,scale:a,onComplete:this.crop,onImageLoaded:this.setImage,cropperClassName:o,applyCrop:this.props.applyCrop}))}}]),t}(l.Component);t.default=E,E.propTypes=m,E.defaultProps={handleImage:function(){},handleCropperRectangle:function(){},setImageDimensions:function(){},rectWidth:100,rectHeight:100,rectPositionX:0,rectPositionY:0,scale:1,maxCroppedImageHeight:0,maxCroppedImageWidth:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,r=m(n(87)),i=m(n(81)),s=m(n(83)),l=m(n(88)),d=m(n(89)),u=m(n(490)),c=n(0),p=m(c),h=m(n(23)),f=m(n(946));function m(e){return e&&e.__esModule?e:{default:e}}var E={doubleClick:"dblclick",keyPress:"keypress"},S={enter:13},_={x:0,y:0,width:100,height:100};function v(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}function g(e){var t=void 0,n=void 0;return e.touches?(t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),{x:t,y:n}}function T(e,t,n){return Math.min(Math.max(e,t),n)}function b(e){return!e.width||!e.height}function y(e){var t=void 0;return"n"===e?t="s":"ne"===e?t="sw":"e"===e?t="w":"se"===e?t="nw":"s"===e?t="n":"sw"===e?t="ne":"w"===e?t="e":"nw"===e&&(t="se"),t}function C(e,t){var n=t.naturalWidth/t.naturalHeight,a=(0,u.default)({},e);return a.width?a.height=a.width/a.aspect*n:a.height&&(a.width=a.height*a.aspect/n),a.y+a.height>100&&(a.height=100-a.y,a.width=a.height*a.aspect/n),a.x+a.width>100&&(a.width=100-a.x,a.height=a.width/a.aspect*n),a}var O=(o=a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.applyCrop=function(e){var t=e.type,a=e.keyCode;(t===E.doubleClick||t===E.keyPress&&a===S.enter)&&n.props.applyCrop()},n.restoreDefaultCropSize=function(){n.setState(function(e){return(0,u.default)({},e,{crop:(0,u.default)({},e.crop,_)})})},n.storeCropSelectRef=function(e){n.cropSelectRef=e},n.storeComponentRef=function(e){n.componentRef=e},n.storeImageRef=function(e){n.imageRef=e},n.storeCropWraperRef=function(e){n.cropWrapperRef=e},n.storeImageCopyRef=function(e){n.imageCopyRef=e},n.onDocMouseTouchMove=n.onDocMouseTouchMove.bind(n),n.onDocMouseTouchEnd=n.onDocMouseTouchEnd.bind(n),n.onImageLoad=n.onImageLoad.bind(n),n.onComponentMouseTouchDown=n.onComponentMouseTouchDown.bind(n),n.onComponentKeyDown=n.onComponentKeyDown.bind(n),n.onCropMouseTouchDown=n.onCropMouseTouchDown.bind(n),n.state={crop:n.nextCropState(e.crop)},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){if(document.addEventListener("mousemove",this.onDocMouseTouchMove),document.addEventListener("touchmove",this.onDocMouseTouchMove),document.addEventListener("mouseup",this.onDocMouseTouchEnd),document.addEventListener("touchend",this.onDocMouseTouchEnd),document.addEventListener("touchcancel",this.onDocMouseTouchEnd),this.cropWrapperRef&&(this.cropWrapperRef.addEventListener("dblclick",this.applyCrop),document.addEventListener("keypress",this.applyCrop)),this.imageRef.complete||this.imageRef.readyState)if(0===this.imageRef.naturalWidth){var e=this.imageRef.src;this.imageRef.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.imageRef.src=e}else this.onImageLoad(this.imageRef)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.crop){var n=this.nextCropState(e.crop),a=n.aspect!==this.state.crop.aspect;n.aspect&&(n=C(n,this.imageRef)),this.cropInvalid=b(n),this.setState({crop:n},function(){a&&t.props.onAspectRatioChange(n,t.getPixelCrop(n))})}e.src!==this.props.src&&this.restoreDefaultCropSize()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onDocMouseTouchMove),document.removeEventListener("touchmove",this.onDocMouseTouchMove),document.removeEventListener("mouseup",this.onDocMouseTouchEnd),document.removeEventListener("touchend",this.onDocMouseTouchEnd),document.removeEventListener("touchcancel",this.onDocMouseTouchEnd),this.cropWrapperRef&&(this.cropWrapperRef.removeEventListener("dblclick",this.applyCrop),document.removeEventListener("keypress",this.applyCrop))}},{key:"onDocMouseTouchMove",value:function(e){if(this.props.onDragStart(),!this.props.disabled&&this.mouseDownOnCrop){var t=this.state.crop,n=this.evData,a=g(e);n.isResize&&t.aspect&&n.cropOffset&&(a.y=this.straightenYPath(a.x));var o=a.x-n.clientStartX;n.xDiffPc=o/n.imageWidth*100/this.props.scale;var r=a.y-n.clientStartY;n.yDiffPc=r/n.imageHeight*100/this.props.scale,n.isResize?this.resizeCrop():this.dragCrop(),this.cropInvalid=!1,this.props.onChange(t,this.getPixelCrop(t)),this.setState({crop:t})}}},{key:"onCropMouseTouchDown",value:function(e){if(!this.props.disabled){var t=this.state.crop,n=g(e);this.componentRef.focus();var a=e.target.dataset.ord,o="nw"===a||"w"===a||"sw"===a,r="nw"===a||"n"===a||"ne"===a,i=void 0;t.aspect&&(i=v(this.cropSelectRef)),this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:o?t.x+t.width:t.x,cropStartY:r?t.y+t.height:t.y,xInversed:o,yInversed:r,xCrossOver:o,yCrossOver:r,startXCrossOver:o,startYCrossOver:r,isResize:e.target!==this.cropSelectRef,ord:a,cropOffset:i},this.mouseDownOnCrop=!0}}},{key:"onComponentMouseTouchDown",value:function(e){if((e.target===this.imageCopyRef||e.target===this.cropWrapperRef)&&!this.props.disabled){e.preventDefault();var t=!0===this.props.keepSelection?{}:this.state.crop,n=g(e);this.componentRef.focus();var a=v(this.imageRef),o=(n.x-a.left)/this.imageRef.width*100,r=(n.y-a.top)/this.imageRef.height*100;t.x=o/this.props.scale,t.y=r/this.props.scale,t.width=0,t.height=0,this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:t.x,cropStartY:t.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},this.mouseDownOnCrop=!0,this.setState({newCropIsBeingDrawn:!0})}}},{key:"onComponentKeyDown",value:function(e){var n=this;if(!this.props.disabled){var a=e.which,o=this.state.crop,r=!1;o.width&&o.height&&(a===t.arrowKey.left?(o.x-=t.nudgeStep,r=!0):a===t.arrowKey.right?(o.x+=t.nudgeStep,r=!0):a===t.arrowKey.up?(o.y-=t.nudgeStep,r=!0):a===t.arrowKey.down&&(o.y+=t.nudgeStep,r=!0),r&&(e.preventDefault(),o.x=T(o.x,0,100-o.width),o.y=T(o.y,0,100-o.height),this.setState({crop:o},function(){n.props.onChange(o,n.getPixelCrop(o)),n.props.onComplete(o,n.getPixelCrop(o))})))}}},{key:"onDocMouseTouchEnd",value:function(){if(this.props.onDragEnd(),!this.props.disabled&&this.mouseDownOnCrop){var e=this.state.crop;this.cropInvalid=b(e),this.mouseDownOnCrop=!1,this.props.onComplete(e,this.getPixelCrop(e)),this.setState({newCropIsBeingDrawn:!1})}}},{key:"onImageLoad",value:function(e){var t=this.state.crop;t.aspect&&(t=C(t,e),this.cropInvalid=b(t),this.setState({crop:t})),this.props.onImageLoaded&&this.props.onImageLoaded(t,e,this.getPixelCrop(t))}},{key:"getPixelCrop",value:function(e){return{x:Math.round(this.imageRef.width*(e.x/100)),y:Math.round(this.imageRef.height*(e.y/100)),width:Math.round(this.imageRef.width*(e.width/100)),height:Math.round(this.imageRef.height*(e.height/100))}}},{key:"getCropStyle",value:function(){return{top:this.state.crop.y+"%",left:this.state.crop.x+"%",width:this.state.crop.width+"%",height:this.state.crop.height+"%"}}},{key:"getNewSize",value:function(){var e=this.state.crop,t=this.evData,n=t.imageWidth/t.imageHeight,a=t.cropStartWidth+t.xDiffPc;t.xCrossOver&&(a=Math.abs(a));var o=this.props.maxWidth;this.state.newCropIsBeingDrawn||(o=T(o=["nw","w","sw"].indexOf(t.inversedXOrd||t.ord)>-1?t.cropStartX:100-t.cropStartX,100,this.props.maxWidth)),a=T(a,this.props.minWidth,o);var r=void 0;r=e.aspect?a/e.aspect*n:t.cropStartHeight+t.yDiffPc,t.yCrossOver&&(r=Math.min(Math.abs(r),t.cropStartY));var i=this.props.maxHeight;return this.state.newCropIsBeingDrawn||(i=T(i=["nw","n","ne"].indexOf(t.inversedYOrd||t.ord)>-1?t.cropStartY:100-t.cropStartY,100,this.props.maxHeight)),r=T(r,this.props.minHeight,i),e.aspect&&(a=T(r*e.aspect/n,0,100)),{width:a,height:r}}},{key:"dragCrop",value:function(){var e=this.state.crop,t=this.evData;e.x=T(t.cropStartX+t.xDiffPc,0,100-e.width),e.y=T(t.cropStartY+t.yDiffPc,0,100-e.height)}},{key:"resizeCrop",value:function(){var e=this.state.crop,n=this.evData,a=n.ord;n.xInversed&&(n.xDiffPc-=2*n.cropStartWidth),n.yInversed&&(n.yDiffPc-=2*n.cropStartHeight);var o=this.getNewSize(),r=n.cropStartX,i=n.cropStartY;n.xCrossOver&&(r=e.x+(e.width-o.width)),n.yCrossOver&&(i=!1===n.lastYCrossover?e.y-o.height:e.y+(e.height-o.height)),e.aspect||t.xyOrds.indexOf(a)>-1?(e.x=T(r,0,100-o.width),e.y=T(i,0,100-o.height),e.width=o.width,e.height=o.height):t.xOrds.indexOf(a)>-1?(e.x=T(r,0,100-o.width),e.width=o.width):t.yOrds.indexOf(a)>-1&&(e.y=T(i,0,100-o.height),e.height=o.height),n.lastYCrossover=n.yCrossOver,this.crossOverCheck()}},{key:"straightenYPath",value:function(e){var t=this.evData,n=t.ord,a=t.cropOffset,o=t.cropStartWidth/100*t.imageWidth,r=t.cropStartHeight/100*t.imageHeight,i=void 0,s=void 0;return"nw"===n||"se"===n?(i=r/o,s=a.top-a.left*i):(i=-r/o,s=a.top+(r-a.left*i)),i*e+s}},{key:"createCropSelection",value:function(){var e=this.getCropStyle();return p.default.createElement("div",{ref:this.storeCropSelectRef,style:e,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown},p.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"}))}},{key:"nextCropState",value:function(e){var n=(0,u.default)({},t.defaultCrop,e);return this.cropInvalid=b(n),n}},{key:"crossOverCheck",value:function(){var e=this.evData;(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc<=0)&&(e.xCrossOver=!e.xCrossOver),(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc<=0)&&(e.yCrossOver=!e.yCrossOver);var t=e.xCrossOver!==e.startXCrossOver,n=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!t&&y(e.ord),e.inversedYOrd=!!n&&y(e.ord)}},{key:"render",value:function(){var e=this,t=void 0;this.cropInvalid||(t=this.createCropSelection());var n=["ReactCrop"];return this.state.newCropIsBeingDrawn&&n.push("ReactCrop--new-crop"),this.state.crop.aspect&&n.push("ReactCrop--fixed-aspect"),this.props.disabled&&n.push("ReactCrop--disabled"),p.default.createElement("div",{ref:this.storeComponentRef,className:(0,f.default)(n,this.props.cropperClassName),onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,tabIndex:"1",onKeyDown:this.onComponentKeyDown},p.default.createElement("img",{ref:this.storeImageRef,crossOrigin:this.props.crossorigin,className:"ReactCrop__image",src:this.props.src,onLoad:function(t){return e.onImageLoad(t.target)},alt:this.props.imageAlt}),p.default.createElement("div",{className:"ReactCrop__crop-wrapper",ref:this.storeCropWraperRef},p.default.createElement("img",{ref:this.storeImageCopyRef,crossOrigin:this.props.crossorigin,className:"ReactCrop__image-copy",src:this.props.src,alt:this.props.imageAlt}),t),this.props.children)}}]),t}(c.Component),a.propTypes={src:h.default.string.isRequired,crop:h.default.shape({x:h.default.number,y:h.default.number,width:h.default.number,height:h.default.number}),imageAlt:h.default.string,minWidth:h.default.number,minHeight:h.default.number,maxWidth:h.default.number,maxHeight:h.default.number,keepSelection:h.default.bool,onChange:h.default.func,onComplete:h.default.func,onImageLoaded:h.default.func,onAspectRatioChange:h.default.func,applyCrop:h.default.func.isRequired,onDragStart:h.default.func,onDragEnd:h.default.func,disabled:h.default.bool,crossorigin:h.default.string,children:h.default.oneOfType([h.default.arrayOf(h.default.node),h.default.node]),className:h.default.string},a.defaultProps={crop:void 0,crossorigin:void 0,disabled:!1,imageAlt:"",maxWidth:_.width,maxHeight:_.height,minWidth:0,minHeight:0,keepSelection:!1,onChange:function(){},onComplete:function(){},onImageLoaded:function(){},onAspectRatioChange:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0},a.xOrds=["e","w"],a.yOrds=["n","s"],a.xyOrds=["nw","ne","se","sw"],a.arrowKey={left:37,up:38,right:39,down:40},a.nudgeStep=.2,a.defaultCrop={x:0,y:0,width:0,height:0,aspect:!1},o);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(87)),i=h(n(81)),s=h(n(83)),l=h(n(88)),d=h(n(89)),u=n(0),c=h(u),p=h(n(23));function h(e){return e&&e.__esModule?e:{default:e}}var f="png",m=(o=a=function(e){function t(){(0,i.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.onMouseDown=function(t){var n=t.nativeEvent,a=n.offsetX,o=n.offsetY;e.ctx.globalCompositeOperation="destination-out",e.setState({lastX:a,lastY:o,isErasing:!0},function(){return e.erase(a,o)})},e.onMouseUp=function(){var t=e.props.handleImage;e.state.isErasing&&(e.ctx.globalCompositeOperation="source-over",t(e.canvas.toDataURL("image/"+f),e.canvas.width,e.canvas.height,f),e.setState({isErasing:!1}))},e.onMouseMove=function(t){var n=e.props.scale,a=e.canvas.getBoundingClientRect(),o=a.left,r=a.top,i=a.right,s=a.bottom,l=(t.clientX-o)/n,d=(t.clientY-r)/n;e.erase(l,d),t.clientX>o-100&&t.clientX<i+100&&t.clientY>r-100&&t.clientY<s+100&&e.setState({lastX:l,lastY:d})},e.onMouseLeave=function(t){var n=t.nativeEvent,a=n.offsetX,o=n.offsetY;e.erase(a,o)},e.initCanvas=function(){var t=e.image,n=t.width,a=t.height;e.setState({width:n,height:a},function(){e.ctx.clearRect(0,0,n,a),e.ctx.drawImage(e.image,0,0,n,a)})},e.storeCanvasRef=function(t){e.canvas=t},e.state={width:1,height:1,isErasing:!1,lastX:-50,lastY:-50},e.canvas=null,e.ctx=null,e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d"),this.setImage(),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.thickness,a=t.image;e.thickness!==n?this.setThickness(n):e.image!==a&&this.setImage()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"setImage",value:function(){var e=this,t=this.props,n=t.image,a=t.thickness,o=new Image;o.onload=function(){e.image=o,e.initCanvas(),e.setThickness(a)},o.crossOrigin="Anonymous",o.src=n}},{key:"setThickness",value:function(e){this.ctx.lineWidth=e}},{key:"erase",value:function(e,t){if(this.state.isErasing){var n=this.props.thickness,a=this.state,o=a.lastX,r=a.lastY,i=n/2;this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(o,r),this.ctx.lineTo(e,t),this.ctx.stroke()}}},{key:"getEraserStyle",value:function(){var e=this.props.thickness,t=this.state,n=t.lastX,a=t.lastY,o=this.getCursorCorrection();return{width:e+"px",height:e+"px",left:n-4.5+o.correctionX+"px",top:a-4.75+o.correctionY+"px"}}},{key:"getCursorCorrection",value:function(){switch(this.props.thickness){case 8:return{correctionX:1,correctionY:.95};case 6:return{correctionX:2,correctionY:1.9};case 4:return{correctionX:3,correctionY:2.85};case 2:return{correctionX:4,correctionY:3.8};default:return{correctionX:0,correctionY:0}}}},{key:"render",value:function(){var e=this.state,t=e.width,n=e.height,a=this.getEraserStyle(),o={width:t,height:n};return c.default.createElement("div",{className:"has-cursor-eraser"},c.default.createElement("canvas",{className:"has-cursor-eraser__canvas",onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,width:t,height:n,style:o,ref:this.storeCanvasRef}),c.default.createElement("div",{className:"has-cursor-eraser__pointer",style:a}))}}]),t}(u.Component),a.propTypes={image:p.default.string.isRequired,handleImage:p.default.func.isRequired,thickness:p.default.number.isRequired,scale:p.default.number},a.defaultProps={scale:1},o);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(490)),o=d(n(901)),r=d(n(0)),i=d(n(23)),s=d(n(1396)),l=d(n(1407));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.options,n=e.children,i=e.scrollRef,d=(0,o.default)(e,["options","children","scrollRef"]);return r.default.createElement(s.default,(0,a.default)({iScroll:l.default,options:t,ref:i},d),n)};u.propTypes={options:i.default.object.isRequired,children:i.default.object.isRequired,scrollRef:i.default.func.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(490)),i=h(n(87)),s=h(n(81)),l=h(n(83)),d=h(n(88)),u=h(n(89)),c=h(n(0)),p=h(n(1171));function h(e){return e&&e.__esModule?e:{default:e}}for(var f=["defer","iScroll","onRefresh","options"],m={},E=["beforeScrollStart","scrollCancel","scrollStart","scroll","scrollEnd","flick","zoomStart","zoomEnd"],S=0,_=E.length;S<_;S++){var v=E[S],g="on"+v[0].toUpperCase()+v.slice(1);m[g]=v,f.push(g)}var T=(o=a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n._node=null,n._isMounted=!1,n._initializeTimeout=null,n._queuedCallbacks=[],n._iScrollBindedEvents={},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._initializeIScroll()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._teardownIScroll()}},{key:"componentDidUpdate",value:function(e){var t=this;(0,p.default)(e.options,this.props.options)?(this._updateIScrollEvents(e,this.props),this.refresh()):this.withIScroll(!0,function(e){var n=e.x,a=e.y,o=e.scale;t._teardownIScroll(),t._initializeIScroll(),t.withIScroll(!0,function(e){o&&e.zoom&&e.zoom(o,0,0,0),e.scrollTo(n,a)})})}},{key:"getIScroll",value:function(){return this._iScrollInstance}},{key:"getIScrollInstance",value:function(){return console.warn("Function 'getIScrollInstance' is deprecated. Instead use 'getIScroll'"),this._iScrollInstance}},{key:"withIScroll",value:function(e,t){t||"function"!=typeof e||(t=e),this.getIScroll()?t(this.getIScroll()):!0===e&&this._queuedCallbacks.push(t)}},{key:"refresh",value:function(){this.withIScroll(function(e){return e.refresh()})}},{key:"_performInitializeIScroll",value:function(){var e=this,t=this.props,n=t.iScroll,a=t.options,o=new n(this._node,a);this._iScrollInstance=o,this._triggerInitializeEvent(o),o.originalRefresh=o.refresh,o.refresh=function(){o.originalRefresh.apply(o),e._triggerRefreshEvent(o)},this._bindIScrollEvents(),this._callQueuedCallbacks()}},{key:"_initializeIScroll",value:function(){var e=this;if(!1!==this._isMounted){var t=this.props.defer;if(!1===t)this._performInitializeIScroll();else{var n=!0===t?0:t;this._initializeTimeout=setTimeout(function(){return e._performInitializeIScroll()},n)}}}},{key:"_callQueuedCallbacks",value:function(){var e=this._queuedCallbacks,t=e.length;this._queuedCallbacks=[];for(var n=0;n<t;n++)e[n](this.getIScroll())}},{key:"_teardownIScroll",value:function(){this._clearInitializeTimeout(),this._iScrollInstance&&(this._iScrollInstance.destroy(),this._triggerDestroyEvent(this._iScrollInstance),this._iScrollInstance=void 0),this._iScrollBindedEvents={},this._queuedCallbacks=[]}},{key:"_clearInitializeTimeout",value:function(){null!==this._initializeTimeout&&(clearTimeout(this._initializeTimeout),this._initializeTimeout=null)}},{key:"_bindIScrollEvents",value:function(){this._iScrollBindedEvents={},this._updateIScrollEvents({},this.props)}},{key:"_updateIScrollEvents",value:function(e,t){for(var n in m)this._updateIScrollEvent(m[n],e[n],t[n])}},{key:"_updateIScrollEvent",value:function(e,t,n){if(t!==n){var a=this._iScrollBindedEvents;this.withIScroll(!0,function(o){if("function"==typeof t&&(o.off(e,a[e]),a[e]=void 0),"function"==typeof n){var r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];n.apply(void 0,[o].concat(t))};o.on(e,r),a[e]=r}})}}},{key:"_triggerInitializeEvent",value:function(e){var t=this.props.onInitialize;"function"==typeof t&&t(e)}},{key:"_triggerRefreshEvent",value:function(e){var t=this.props.onRefresh;"function"==typeof t&&t(e)}},{key:"_triggerDestroyEvent",value:function(e){var t=this.props.onDestroy;"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this,t={};for(var n in this.props)~f.indexOf(n)||(t[n]=this.props[n]);return c.default.createElement("div",(0,r.default)({ref:function(t){return e._node=t}},t))}}]),t}(c.default.PureComponent),a.displayName="ReactIScroll",a.defaultProps={defer:!0,options:{},style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"}},o);t.default=T},function(e,t,n){"use strict";var a;if(!Object.keys){var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=n(1173),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),d=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{c(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();a=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===r.call(e),a=i(e),s=t&&"[object String]"===r.call(e),p=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var f=d&&n;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(a&&e.length>0)for(var E=0;E<e.length;++E)p.push(String(E));else for(var S in e)f&&"prototype"===S||!o.call(e,S)||p.push(String(S));if(l)for(var _=function(e){if("undefined"==typeof window||!h)return c(e);try{return c(e)}catch(e){return!1}}(e),v=0;v<u.length;++v)_&&"constructor"===u[v]||!o.call(e,u[v])||p.push(u[v]);return p}}e.exports=a},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,r=function(e){return!(a&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o.call(e)},i=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o.call(e)&&"[object Function]"===o.call(e.callee)},s=function(){return r(arguments)}();r.isLegacyArguments=i,e.exports=s?r:i},function(e,t,n){"use strict";var a=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!a(e)||!a(t))}},function(e,t,n){"use strict";var a=n(1401),o=RegExp.prototype.exec,r=Object.getOwnPropertyDescriptor,i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===i.call(e);var t=r(e,"lastIndex");return!(!t||!a(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){"use strict";var a=n(1402);e.exports=a.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var a=n(1403);e.exports=Function.prototype.bind||a},function(e,t,n){"use strict";var a="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==r.call(t))throw new TypeError(a+t);for(var n,i=o.call(arguments,1),s=function(){if(this instanceof n){var a=t.apply(this,i.concat(o.call(arguments)));return Object(a)===a?a:this}return t.apply(e,i.concat(o.call(arguments)))},l=Math.max(0,t.length-i.length),d=[],u=0;u<l;u++)d.push("$"+u);if(n=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n}},function(e,t,n){"use strict";var a=n(1051),o=n(1174),r=n(1175),i=n(1405),s=Function.call.bind(o);a(s,{getPolyfill:r,implementation:o,shim:i}),e.exports=s},function(e,t,n){"use strict";var a=n(1051).supportsDescriptors,o=n(1175),r=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,d=/a/;e.exports=function(){if(!a||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(d),n=r(t,"flags");return n&&n.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var a=Date.prototype.getDay,o=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(r?function(e){try{return a.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(180),r=(a=o)&&a.__esModule?a:{default:a};
/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */
var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},s=function(){var e={},t=document.createElement("div").style,n=function(){for(var e=["t","webkitT","MozT","msT","OT"],n=0,a=e.length;n<a;n++)if(e[n]+"ransform"in t)return e[n].substr(0,e[n].length-1);return!1}();function a(e){return!1!==n&&(""===n?e:n+e.charAt(0).toUpperCase()+e.substr(1))}e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(e,t){for(var n in t)e[n]=t[n]},e.addEvent=function(e,t,n,a){e.addEventListener(t,n,!!a)},e.removeEvent=function(e,t,n,a){e.removeEventListener(t,n,!!a)},e.prefixPointerEvent=function(e){return window.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},e.momentum=function(e,t,n,a,o,r){var i=e-t,s=Math.abs(i)/n,l=void 0,d=void 0;return d=s/(r=void 0===r?6e-4:r),(l=e+s*s/(2*r)*(i<0?-1:1))<a?(l=o?a-o/2.5*(s/8):a,d=(i=Math.abs(l-e))/s):l>0&&(l=o?o/2.5*(s/8):0,d=(i=Math.abs(e)+l)/s),{destination:Math.round(l),duration:d}};var o=a("transform");return e.extend(e,{hasTransform:!1!==o,hasPerspective:a("perspective")in t,hasTouch:"ontouchstart"in window,hasPointer:!(!window.PointerEvent&&!window.MSPointerEvent),hasTransition:a("transition")in t}),e.isBadAndroid=function(){var e=window.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"===(void 0===t?"undefined":(0,r.default)(t))&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),e.extend(e.style={},{transform:o,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin"),touchAction:a("touchAction")}),e.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},e.addClass=function(t,n){if(!e.hasClass(t,n)){var a=t.className.split(" ");a.push(n),t.className=a.join(" ")}},e.removeClass=function(t,n){if(e.hasClass(t,n)){var a=new RegExp("(^|\\s)"+n+"(\\s|$)","g");t.className=t.className.replace(a," ")}},e.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},e.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*Math.pow(2,-10*e)*Math.sin((e-.055)*(2*Math.PI)/.22)+1}}}),e.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},e.click=function(e){var t=e.target,n=void 0;/(SELECT|INPUT|TEXTAREA)/i.test(t.tagName)||((n=document.createEvent(window.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),n.view=e.view||window,n.detail=1,n.screenX=t.screenX||0,n.screenY=t.screenY||0,n.clientX=t.clientX||0,n.clientY=t.clientY||0,n.ctrlKey=!!e.ctrlKey,n.altKey=!!e.altKey,n.shiftKey=!!e.shiftKey,n.metaKey=!!e.metaKey,n.button=0,n.relatedTarget=null,n._constructed=!0,t.dispatchEvent(n))},e.getTouchAction=function(e,t){var n="none";return"vertical"===e?n="pan-y":"horizontal"===e&&(n="pan-x"),t&&"none"!=n&&(n+=" pinch-zoom"),n},e.getRect=function(e){if(e instanceof SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},e}();function l(e,t){for(var n in this.wrapper="string"==typeof e?document.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={zoomMin:1,zoomMax:4,startZoom:1,centerOnZoomOut:!1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!s.hasPointer,disableTouch:s.hasPointer||!s.hasTouch,disableMouse:s.hasPointer||s.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===window.onmousedown},t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.centerOnZoomOut?(this.x=this.options.startX||0,this.y=this.options.startY||0):(this.x=0,this.y=0),this.directionX=0,this.directionY=0,this._events={},this.scale=Math.min(Math.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function d(e,t,n){var a=document.createElement("div"),o=document.createElement("div");return!0===n&&(a.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==e?(!0===n&&(a.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),a.className="iScrollHorizontalScrollbar"):(!0===n&&(a.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),a.className="iScrollVerticalScrollbar"),a.style.cssText+=";overflow:hidden",t||(a.style.pointerEvents="none"),a.appendChild(o),a}function u(e,t){for(var n in this.wrapper="string"==typeof t.el?document.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},t)this.options[n]=t[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(s.addEvent(this.indicator,"touchstart",this),s.addEvent(window,"touchend",this)),this.options.disablePointer||(s.addEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.addEvent(window,s.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(s.addEvent(this.indicator,"mousedown",this),s.addEvent(window,"mouseup",this))),this.options.fade){this.wrapperStyle[s.style.transform]=this.scroller.translateZ;var a=s.style.transitionDuration;if(!a)return;this.wrapperStyle[a]=s.isBadAndroid?"0.0001ms":"0ms";var o=this;s.isBadAndroid&&i(function(){"0.0001ms"===o.wrapperStyle[a]&&(o.wrapperStyle[a]="0s")}),this.wrapperStyle.opacity="0"}}l.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=s.eventType[e.type]){if(0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return}if(this.enabled&&(!this.initiated||s.eventType[e.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t=e.touches?e.touches[0]:e,n=void 0;this.initiated=s.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,n=this.getComputedPosition(),this._translate(Math.round(n.x),Math.round(n.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,a=e.touches?e.touches[0]:e,o=a.pageX-this.pointX,r=a.pageY-this.pointY,i=s.getTime(),l=void 0,d=void 0;if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=o,this.distY+=r,t=Math.abs(this.distX),n=Math.abs(this.distY),!(i-this.endTime>300&&t<10&&n<10)){if(this.directionLocked||this.options.freeScroll||(t>n+this.options.directionLockThreshold?this.directionLocked="h":n>=t+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,r=this.hasVerticalScroll?r:0,l=this.x+o,d=this.y+r,this.options.centerOnZoomOut?((l>0||l<this.maxScrollX)&&(this.options.bounce?l=this.x+o/3:l>0&&this.hasHorizontalScroll&&(l=0)),(d>0||d<this.maxScrollY)&&(this.options.bounce?d=this.y+r/3:d>0&&this.hasVerticalScroll&&(d=0))):((l>0||l<this.maxScrollX)&&(l=this.options.bounce?this.x+o/3:l>0?0:this.maxScrollX),(d>0||d<this.maxScrollY)&&(d=this.options.bounce?this.y+r/3:d>0?0:this.maxScrollY)),this.directionX=o>0?-1:o<0?1:0,this.directionY=r>0?-1:r<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(l,d),i-this.startTime>300&&(this.startTime=i,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();e.changedTouches&&e.changedTouches[0];var t=void 0,n=void 0,a=s.getTime()-this.startTime,o=Math.round(this.x),r=Math.round(this.y),i=Math.abs(o-this.startX),l=Math.abs(r-this.startY),d=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,r),!this.moved)return this.options.tap&&s.tap(e,this.options.tap),this.options.click&&s.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&a<200&&i<100&&l<100)this._execEvent("flick");else{if(this.options.momentum&&a<300&&(t=this.hasHorizontalScroll?s.momentum(this.x,this.startX,a,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?s.momentum(this.y,this.startY,a,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},o=t.destination,r=n.destination,d=Math.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var c=this._nearestSnap(o,r);this.currentPage=c,d=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-c.x),1e3),Math.min(Math.abs(r-c.y),1e3)),300),o=c.x,r=c.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(o!=this.x||r!=this.y)return(o>0||o<this.maxScrollX||r>0||r<this.maxScrollY)&&(u=s.ease.quadratic),void this.scrollTo(o,r,d,u);this._execEvent("scrollEnd")}}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;if(e=e||0,this.options.centerOnZoomOut){var a=this.scroller.offsetWidth*this.scale,o=this.scroller.offsetHeight*this.scale;this.wrapperWidth>a||this.wrapperWidth<a&&this.x>0?t=(this.wrapperWidth-a)/2:this.x<this.maxScrollX&&(t=this.maxScrollX),this.wrapperHeight>o||this.wrapperHeight<o&&this.y>0?n=(this.wrapperHeight-o)/2:this.y<this.maxScrollY&&(n=this.maxScrollY)}else!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY);return(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){s.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var e=s.getRect(this.scroller);this.scrollerWidth=Math.round(e.width*this.scale),this.scrollerHeight=Math.round(e.height*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,s.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[s.style.touchAction]=s.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[s.style.touchAction]||(this.wrapper.style[s.style.touchAction]=s.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,a){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,a)},scrollTo:function(e,t,n,a){a=a||s.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var o=this.options.useTransition&&a.style;!n||o?(o&&(this._transitionTimingFunction(a.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,a.fn)},scrollToElement:function(e,t,n,a,o){if(e=e.nodeType?e:this.scroller.querySelector(e)){var r=s.offset(e);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top;var i=s.getRect(e),l=s.getRect(this.wrapper);!0===n&&(n=Math.round(i.width/2-l.width/2)),!0===a&&(a=Math.round(i.height/2-l.height/2)),r.left-=n||0,r.top-=a||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,t=null==t||"auto"===t?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):t,this.scrollTo(r.left,r.top,t,o)}},_transitionTime:function(e){if(this.options.useTransition){e=e||0;var t=s.style.transitionDuration;if(t){if(this.scrollerStyle[t]=e+"ms",!e&&s.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].transitionTime(e)}}},_transitionTimingFunction:function(e){if(this.scrollerStyle[s.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+e+"px,"+t+"px) scale("+this.scale+") "+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var t=e?s.removeEvent:s.addEvent,n=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,s.prefixPointerEvent("pointerdown"),this),t(n,s.prefixPointerEvent("pointermove"),this),t(n,s.prefixPointerEvent("pointercancel"),this),t(n,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e=window.getComputedStyle(this.scroller,null),t=void 0,n=void 0;return this.options.useTransform?(t=+((e=e[s.style.transform].split(")")[0].split(", "))[12]||e[4]),n=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),n=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){var e=this.options.interactiveScrollbars,t="string"!=typeof this.options.scrollbars,n=[],a=void 0,o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(a={el:d("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:t,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(a.el),n.push(a)),this.options.scrollX&&(a={el:d("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:t,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(a.el),n.push(a))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var r=n.length;r--;)this.indicators.push(new u(this,n[r]));function i(e){if(o.indicators)for(var t=o.indicators.length;t--;)e.call(o.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){i(function(){this.fade()})}),this.on("scrollCancel",function(){i(function(){this.fade()})}),this.on("scrollStart",function(){i(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){i(function(){this.fade(1,!0)})})),this.on("refresh",function(){i(function(){this.refresh()})}),this.on("destroy",function(){i(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[s.style.transformOrigin]="0 0"},_zoomStart:function(e){var t=Math.abs(e.touches[0].pageX-e.touches[1].pageX),n=Math.abs(e.touches[0].pageY-e.touches[1].pageY);this.touchesDistanceStart=Math.sqrt(t*t+n*n),this.startScale=this.scale,this.originX=Math.abs(e.touches[0].pageX+e.touches[1].pageX)/2+this.wrapperOffset.left-this.x,this.originY=Math.abs(e.touches[0].pageY+e.touches[1].pageY)/2+this.wrapperOffset.top-this.y,this._execEvent("zoomStart")},_zoom:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,a,o=Math.abs(e.touches[0].pageX-e.touches[1].pageX),r=Math.abs(e.touches[0].pageY-e.touches[1].pageY),i=Math.sqrt(o*o+r*r),l=1/this.touchesDistanceStart*i*this.startScale;this.scaled=!0,l<this.options.zoomMin?l=.5*this.options.zoomMin*Math.pow(2,l/this.options.zoomMin):l>this.options.zoomMax&&(l=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/l)),t=l/this.startScale,n=this.originX-this.originX*t+this.startX,a=this.originY-this.originY*t+this.startY,this.scale=l,this.scrollTo(n,a,0)}},_zoomEnd:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n=void 0,a=void 0;this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),t=this.scale/this.startScale,n=this.originX-this.originX*t+this.startX,a=this.originY-this.originY*t+this.startY,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.x==n&&this.y==a||this.scrollTo(n,a,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd")}},zoom:function(e,t,n,a){if(e<this.options.zoomMin?e=this.options.zoomMin:e>this.options.zoomMax&&(e=this.options.zoomMax),e!=this.scale){var o=e/this.scale;if(t=void 0===t?this.wrapperWidth/2:t,n=void 0===n?this.wrapperHeight/2:n,a=void 0===a?300:a,t=t+this.wrapperOffset.left-this.x,n=n+this.wrapperOffset.top-this.y,t=t-t*o+this.x,n=n-n*o+this.y,this.scale=e,this.refresh(),this.options.centerOnZoomOut){var r=this.scroller.offsetHeight*e,i=this.scroller.offsetWidth*e,s=(this.wrapperHeight-r)/2,l=(this.wrapperWidth-i)/2;t>0?t=this.hasHorizontalScroll?0:l:t<this.maxScrollX&&(t=this.hasHorizontalScroll?this.maxScrollX:l),n>0?n=this.hasVerticalScroll?0:s:this.wrapperHeight>r?n=s:n<this.maxScrollY&&(n=this.maxScrollY)}else t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),n>0?n=0:n<this.maxScrollY&&(n=this.maxScrollY);this.scrollTo(t,n,a)}},_wheelZoom:function(e){var t,n=void 0,a=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("zoomEnd")},400),"deltaX"in e)n=-e.deltaY/Math.abs(e.deltaY);else if("wheelDeltaX"in e)n=e.wheelDeltaY/Math.abs(e.wheelDeltaY);else if("wheelDelta"in e)n=e.wheelDelta/Math.abs(e.wheelDelta);else{if(!("detail"in e))return;n=-e.detail/Math.abs(e.wheelDelta)}t=this.scale+n/5,this.zoom(t,e.pageX,e.pageY,0)},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t=void 0,n=void 0,a=void 0,o=void 0,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,n=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,n=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return a=this.currentPage.pageX,o=this.currentPage.pageY,t>0?a--:t<0&&a++,n>0?o--:n<0&&o++,void this.goToPage(a,o);if(a=this.x+Math.round(this.hasHorizontalScroll?t:0),o=this.y+Math.round(this.hasVerticalScroll?n:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=n>0?-1:n<0?1:0,this.options.centerOnZoomOut){if(a>0&&this.hasHorizontalScroll)a=0;else if(a<this.maxScrollX){var i=this.scroller.offsetWidth*this.scale;a=this.wrapperWidth>i?(this.wrapperWidth-i)/2:this.maxScrollX}o>0&&this.hasVerticalScroll?o=0:o<this.maxScrollY&&(o=this.maxScrollY)}else a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY);this.scrollTo(a,o,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e=0,t=void 0,n=0,a=void 0,o=void 0,r=void 0,i=0,l=void 0,d=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight,c=void 0,p=void 0;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(o=Math.round(d/2),r=Math.round(u/2);i>-this.scrollerWidth;){for(this.pages[e]=[],t=0,l=0;l>-this.scrollerHeight;)this.pages[e][t]={x:Math.max(i,this.maxScrollX),y:Math.max(l,this.maxScrollY),width:d,height:u,cx:i-o,cy:l-r},l-=u,t++;i-=d,e++}else for(t=(c=this.options.snap).length,a=-1;e<t;e++)p=s.getRect(c[e]),(0===e||p.left<=s.getRect(c[e-1]).left)&&(n=0,a++),this.pages[n]||(this.pages[n]=[]),i=Math.max(-p.left,this.maxScrollX),l=Math.max(-p.top,this.maxScrollY),o=i-Math.round(p.width/2),r=l-Math.round(p.height/2),this.pages[n][a]={x:i,y:l,width:p.width,height:p.height,cx:o,cy:r},i>this.maxScrollX&&n++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,a=this.pages.length,o=0;if(Math.abs(e-this.absStartX)<this.snapThresholdX&&Math.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<a;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(a=this.pages[n].length;o<a;o++)if(t>=this.pages[0][o].cy){t=this.pages[0][o].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),o==this.currentPage.pageY&&((o+=this.directionY)<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),t=this.pages[0][o].y),{x:e,y:t,pageX:n,pageY:o}},goToPage:function(e,t,n,a){a=a||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var o=this.pages[e][t].x,r=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(r-this.y),1e3)),300):n,this.currentPage={x:o,y:r,pageX:e,pageY:t},this.scrollTo(o,r,n,a)},next:function(e,t){var n=this.currentPage.pageX,a=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,a++),this.goToPage(n,a,e,t)},prev:function(e,t){var n=this.currentPage.pageX,a=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,a--),this.goToPage(n,a,e,t)},_initKeys:function(e){var t={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},n=void 0;if("object"===(0,r.default)(this.options.keyBindings))for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in t)this.options.keyBindings[n]=this.options.keyBindings[n]||t[n];s.addEvent(window,"keydown",this),this.on("destroy",function(){s.removeEvent(window,"keydown",this)})},_key:function(e){if(this.enabled){var t=this.options.snap,n=t?this.currentPage.pageX:this.x,a=t?this.currentPage.pageY:this.y,o=s.getTime(),r=this.keyTime||0,i=void 0;switch(this.options.useTransition&&this.isInTransition&&(i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this.isInTransition=!1),this.keyAcceleration=o-r<200?Math.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=t?1:this.wrapperWidth:a+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=t?1:this.wrapperWidth:a-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=t?this.pages.length-1:this.maxScrollX,a=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,a=0;break;case this.options.keyBindings.left:n+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=t?1:5+this.keyAcceleration>>0;break;default:return}t?this.goToPage(n,a):(n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,a,0),this.keyTime=o)}},_animate:function(e,t,n,a){var o=this,r=this.x,l=this.y,d=s.getTime(),u=d+n;this.isAnimating=!0,function c(){var p,h,f,m=s.getTime();if(m>=u)return o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"));f=a(m=(m-d)/n),p=(e-r)*f+r,h=(t-l)*f+l,o._translate(p,h),o.isAnimating&&i(c)}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e),this.options.zoom&&e.touches&&e.touches.length>1&&this._zoomStart(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&e.touches&&e.touches[1])return void this._zoom(e);this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled)return void this._zoomEnd(e);this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return void this._wheelZoom(e);this._wheel(e);break;case"keydown":this._key(e)}}},u.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(s.removeEvent(this.indicator,"touchstart",this),s.removeEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.removeEvent(this.indicator,"mousedown",this),s.removeEvent(window,"touchmove",this),s.removeEvent(window,s.prefixPointerEvent("pointermove"),this),s.removeEvent(window,"mousemove",this),s.removeEvent(window,"touchend",this),s.removeEvent(window,s.prefixPointerEvent("pointerup"),this),s.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=s.getTime(),this.options.disableTouch||s.addEvent(window,"touchmove",this),this.options.disablePointer||s.addEvent(window,s.prefixPointerEvent("pointermove"),this),this.options.disableMouse||s.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,a,o,r=e.touches?e.touches[0]:e;s.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,a=this.x+t,o=this.y+n,this._pos(a,o),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),s.removeEvent(window,"touchmove",this),s.removeEvent(window,s.prefixPointerEvent("pointermove"),this),s.removeEvent(window,"mousemove",this),this.scroller.options.snap){var t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-t.x),1e3),Math.min(Math.abs(this.scroller.y-t.y),1e3)),300);this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=s.style.transitionDuration;if(t&&(this.indicatorStyle[t]=e+"ms",!e&&s.isBadAndroid)){this.indicatorStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[s.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(s.addClass(this.wrapper,"iScrollBothScrollbars"),s.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(s.removeClass(this.wrapper,"iScrollBothScrollbars"),s.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),s.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=Math.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=Math.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[s.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?Math.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?Math.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,a=e?0:300;e=e?"1":"0",this.wrapperStyle[s.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),a)}}},l.utils=s,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentInitial=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=h(n(23)),d=n(0),u=h(d),c=n(1409),p=n(1412);function h(e){return e&&e.__esModule?e:{default:e}}var f={locale:l.default.object.isRequired,images:l.default.array,handleDelete:l.default.func,handleSelect:l.default.func,handleEdit:l.default.func,handleImageLoading:l.default.func,setInitialImage:l.default.func,uploaderIcon:l.default.string,captureIcon:l.default.string};(t.ImageManagerContentInitial=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"renderBody",value:function(){var e=this.props,t=e.images,n=e.locale;return t.length?u.default.createElement(c.ImageManagerContent,{handleDelete:this.props.handleDelete,handleSelect:this.props.handleSelect,handleEdit:this.props.handleEdit,handleImageLoading:this.props.handleImageLoading,setInitialImage:this.props.setInitialImage}):u.default.createElement("div",{className:"sign-m-body sign-m-body--images-initial"},u.default.createElement("div",{className:"sign-m-init-text-block"},u.default.createElement("div",{className:"sign-m-init-text-block__title"},n.emptyGallery.title),u.default.createElement("div",{className:"sign-m-init-text-block__text"},n.emptyGallery.text)))}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.uploaderIcon,a=e.captureIcon,o={icon:n,title:t.footerDesktop.uploaderButton.title,desc:t.footerDesktop.uploaderButton.text},r={icon:a,title:t.footerDesktop.captureButton.title,desc:t.footerDesktop.captureButton.text};return u.default.createElement(d.Fragment,null,this.renderBody(),u.default.createElement(p.ImageManagerBigFooter,{btnFirst:o,btnSecond:r}))}}]),t}(d.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContent=void 0;var a=p(n(87)),o=p(n(81)),r=p(n(83)),i=p(n(88)),s=p(n(89)),l=p(n(23)),d=n(0),u=p(d),c=n(1410);function p(e){return e&&e.__esModule?e:{default:e}}var h={handleDelete:l.default.func.isRequired,handleSelect:l.default.func.isRequired,handleEdit:l.default.func.isRequired,handleImageLoading:l.default.func.isRequired,setInitialImage:l.default.func.isRequired};(t.ImageManagerContent=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.updateViewport=function(){if(e.ref){var t=e.ref.getBoundingClientRect().height;e.setState({viewport:{height:t,top:e.ref.scrollTop}})}},e.setRef=function(t){e.ref=t},e.state={viewport:{top:0,height:0}},e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.updateViewport(),"undefined"!=typeof window&&window.addEventListener("resize",this.updateViewport,!1)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.updateViewport)}},{key:"render",value:function(){var e=this.state.viewport;return u.default.createElement("div",{className:"sign-m-body sign-m-body--images",ref:this.setRef,onScroll:this.updateViewport},u.default.createElement(c.ImageManagerGalleryList,{handleDelete:this.props.handleDelete,handleSelect:this.props.handleSelect,handleEdit:this.props.handleEdit,handleImageLoading:this.props.handleImageLoading,setInitialImage:this.props.setInitialImage,viewport:e}))}}]),t}(d.Component)).propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryList=void 0;var a,o=S(n(87)),r=S(n(81)),i=S(n(83)),s=S(n(88)),l=S(n(89)),d=S(n(23)),u=n(0),c=S(u),p=n(55),h=S(n(6)),f=n(1411),m=n(875),E=S(n(845));function S(e){return e&&e.__esModule?e:{default:e}}var _={handleDelete:d.default.func,handleSelect:d.default.func,handleEdit:d.default.func,handleImageLoading:d.default.func,setInitialImage:d.default.func,list:d.default.array,viewport:d.default.object,deviceProps:d.default.object};(t.ImageManagerGalleryList=(0,p.connect)(function(e){return{list:e.ws.images,deviceProps:e.deviceProps}})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,a=t.viewport;return c.default.createElement("div",{className:(0,h.default)("signature-type-list",{"signature-type-list--no-edit":(0,m.isMobile)()})},n.map(function(t,n){return c.default.createElement(f.ImageManagerGalleryItem,{key:n,image:t,viewport:a,handleDelete:e.props.handleDelete,handleSelect:e.props.handleSelect,handleEdit:e.props.handleEdit,handleImageLoading:e.props.handleImageLoading,setInitialImage:e.props.setInitialImage,dataTest:""+E.default.galleryItem+n})}))}}]),t}(u.Component))||a).propTypes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryItem=void 0;var a=m(n(87)),o=m(n(81)),r=m(n(83)),i=m(n(88)),s=m(n(89)),l=m(n(23)),d=n(0),u=m(d),c=m(n(1171)),p=n(876),h=n(1052),f=n(839);function m(e){return e&&e.__esModule?e:{default:e}}var E=60,S={handleDelete:l.default.func,handleSelect:l.default.func,handleEdit:l.default.func,handleImageLoading:l.default.func,setInitialImage:l.default.func,image:l.default.object,viewport:l.default.object,dataTest:l.default.string};(t.ImageManagerGalleryItem=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.updateImagePosition=function(){if(!e.state.showImage){var t=e.props.viewport;e.ref.offsetTop<=t.top+t.height-E&&e.setState({showImage:!0})}},e.setRef=function(t){e.ref=t},e.handleSelect=function(t){t.stopPropagation();var n=e.props.image;e.props.handleSelect(n)},e.handleEdit=function(t){t.stopPropagation();var n=e.props.image;e.props.handleImageLoading(!0),(0,p.imageToBase64)(n.url,function(t){e.props.setInitialImage(t,n),e.props.handleImageLoading(!1),e.props.handleEdit()})},e.handleDelete=function(t){t.stopPropagation();var n=e.props.image;e.props.handleDelete(n)},e.handleKeyPress=function(t){t.charCode===f.CHAR_CODES.space&&(t.preventDefault(),e.handleSelect(t))},e.state={showImage:!1},e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.viewport&&this.updateImagePosition()}},{key:"componentDidUpdate",value:function(e){var t=this.props.viewport;e.viewport&&!(0,c.default)(t,e.viewport)&&this.updateImagePosition()}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.dataTest,a=this.state.showImage;return u.default.createElement("div",{className:"signature-type-list-item signature-type-list-item--image",ref:this.setRef,onClick:this.handleSelect,onKeyPress:this.handleKeyPress,tabIndex:0,role:"button","aria-label":"Image with ID "+t.id,"data-test":n},u.default.createElement("div",{className:"signature-type-item"},u.default.createElement(h.ImageItem,{src:t.url,showImage:a})),u.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--edit",onClick:this.handleEdit},u.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-pen-edit"})),u.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",onClick:this.handleDelete},u.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(d.Component)).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerBigFooter=void 0;var a,o=v(n(87)),r=v(n(81)),i=v(n(83)),s=v(n(88)),l=v(n(89)),d=v(n(490)),u=v(n(23)),c=n(0),p=v(c),h=n(55),f=n(1413),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),E=n(843),S=n(875),_=v(n(845));function v(e){return e&&e.__esModule?e:{default:e}}var g={uploader:u.default.func,mobileUploader:u.default.func,capture:u.default.func,locale:u.default.object,dropzoneConfig:u.default.object,deviceProps:u.default.object,btnFirst:u.default.object,btnSecond:u.default.object,webcamEnabled:u.default.bool};(t.ImageManagerBigFooter=(0,h.connect)(function(e){return(0,d.default)({},e.im.mode,{webcamEnabled:e.im.webcamEnabled,locale:(0,E.getImageManagerLocale)(e).gallery,dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{capture:m.capture,mobileUploader:m.mobileUploader,uploader:m.uploader})(a=function(e){function t(){(0,r.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.checkScreenSize=function(){if("undefined"!=typeof window){var t=window.innerWidth>0?window.innerWidth:screen.width;e.setState({isDesktop:t>748})}},e.state={isDesktop:!0},e}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.checkScreenSize(),"undefined"!=typeof window&&window.addEventListener("resize",this.checkScreenSize)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.checkScreenSize)}},{key:"renderUploadBtn",value:function(){var e=this.props,t=e.mobileUploader,n=e.locale,a=e.dropzoneConfig;return p.default.createElement("label",{htmlFor:"crop_upload_file1"},p.default.createElement("div",{className:"sign-m-footer__left"},p.default.createElement("div",{className:"g-btn g-btn-primary g-btn-auto-width g-btn-sm"},n.footerMobile.uploaderButton.title),p.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",multiple:!0,accept:a.allowedFileTypes,onChange:function(e){return t(e.target.files)}})))}},{key:"renderUploadBtnWithoutDropzone",value:function(){var e=this.props,t=e.uploader,n=e.mobileUploader,a=e.locale,o=e.dropzoneConfig,r=e.btnFirst;return(0,S.isMobile)()?p.default.createElement("label",{htmlFor:"crop_upload_file1",className:"sign-m-method-item"},p.default.createElement("div",null,p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:r.icon})),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__title"},a.footerMobile.uploaderButton.title),p.default.createElement("div",{className:"sign-m-method-item__desc"},a.footerMobile.uploaderButton.text))),p.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",multiple:!0,accept:o.allowedFileTypes,onChange:function(e){return n(e.target.files)}})):p.default.createElement(f.BigBtn,{type:r,onClick:t,dataTest:_.default.methodItem.upload})}},{key:"renderCaptureButton",value:function(){var e=this.props,t=e.capture,n=e.webcamEnabled,a=e.btnSecond;return(0,S.isMobile)()?null:p.default.createElement(f.BigBtn,{type:a,onClick:t,disabled:!n,dataTest:_.default.methodItem.capture})}},{key:"render",value:function(){return this.state.isDesktop?p.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-hide"},p.default.createElement("div",{className:"sign-m-method-item-list"},this.renderUploadBtnWithoutDropzone(),this.renderCaptureButton())):p.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-show"},this.renderUploadBtn())}}]),t}(c.Component))||a).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BigBtn=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=h(n(23)),d=n(0),u=h(d),c=h(n(6)),p=n(839);function h(e){return e&&e.__esModule?e:{default:e}}var f={type:l.default.object.isRequired,disabled:l.default.bool,onClick:l.default.func,dataTest:l.default.string};(t.BigBtn=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.handleKeyPress=function(t){t.charCode===p.CHAR_CODES.space&&(t.preventDefault(),e.onClick())},e.onClick=e.onClick.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"onClick",value:function(){var e=this.props,t=e.onClick;!e.disabled&&t&&t()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,a=e.dataTest,o=(0,c.default)("sign-m-method-item",{disabled:n}),r=""+t.title.replace(/\s/g,"");return u.default.createElement("div",{className:o,onClick:this.onClick,onKeyPress:this.handleKeyPress,tabIndex:0,role:"button","aria-label":r,"data-test":a},u.default.createElement("div",{className:"sign-m-method-item__icon"},u.default.createElement("div",{className:t.icon})),u.default.createElement("div",{className:"sign-m-method-item-inner"},u.default.createElement("div",{className:"sign-m-method-item__title",id:r},t.title),u.default.createElement("div",{className:"sign-m-method-item__desc"},t.desc)))}}]),t}(d.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooter=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=h(n(23)),d=n(0),u=h(d),c=n(867),p=h(n(845));function h(e){return e&&e.__esModule?e:{default:e}}var f={backButtonText:l.default.string,onButtonClick:l.default.func};(t.ImageManagerFooter=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return u.default.createElement("div",{className:"sign-m-footer"},u.default.createElement("div",{className:"sign-m-footer__left"},u.default.createElement(c.BtnSecondary,{addClass:"g-btn-sm",onClick:t,dataTest:p.default.buttons.back},n)),u.default.createElement("div",{className:"sign-m-footer__right"}))}}]),t}(d.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooterCapture=void 0;var a,o=_(n(87)),r=_(n(81)),i=_(n(83)),s=_(n(88)),l=_(n(89)),d=_(n(490)),u=_(n(23)),c=n(0),p=_(c),h=n(55),f=n(884),m=n(867),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),S=n(843);function _(e){return e&&e.__esModule?e:{default:e}}var v={locale:u.default.object,takeSnapShot:u.default.func,initial:u.default.func};(t.ImageManagerFooterCapture=(0,h.connect)(function(e){return(0,d.default)({},e.im.mode,{locale:(0,S.getImageManagerLocale)(e)})},{initial:E.initial})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.initial,n=e.locale,a=e.takeSnapShot;return p.default.createElement("div",{className:"sign-m-footer"},p.default.createElement("div",{className:"sign-m-footer__left"},p.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n.backButton)),p.default.createElement("div",{className:"sign-m-footer__right"},p.default.createElement(f.BtnPrimary,{addClass:"g-btn-sm",onClick:a},n.capture.button)))}}]),t}(c.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=$(n(449)),s=$(n(87)),l=$(n(81)),d=$(n(83)),u=$(n(88)),c=$(n(89)),p=$(n(490)),h=$(n(23)),f=n(0),m=$(f),E=n(55),S=n(224),_=$(n(6)),v=$(n(1153)),g=$(n(1154)),T=n(876),b=$(n(1140)),y=$(n(862)),C=$(n(1169)),O=n(1177),M=n(1178),A=n(1417),D=n(1420),I=n(1422),w=n(1423),R=n(1427),P=n(1429),N=n(1430),L=n(1431),k=$(n(1432)),B=$(n(1435)),x=n(1436),F=n(1450),H=n(1451),G=$(n(1452)),U=$(n(1453)),Y=$(n(1176)),W=n(979),K=n(839),j=n(1044),V=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),X=n(843),z=n(875),q=$(n(845));function $(e){return e&&e.__esModule?e:{default:e}}var Z=K.modalIds.SIGNATURE_MANAGER,Q=g.default.DropzoneComponentWrapper,J=g.default.DropzoneButton,ee=g.default.DropzoneContent,te=g.default.DropzoneTitle,ne=v.default.Webcam,ae=b.default.inputHandler,oe=b.default.SYSTEM,re=b.default.controllers.AddressBookController,ie=(0,E.connect)(function(e){return{modeSignature:e.im.modeSignature,locale:(0,X.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,signatures:e.ws.signatures,signature:e.im.signature,initialSignature:e.im.initialSignature,addedSignature:e.ws.addedSignature,uploadedPercent:e.im.uploadedPercent,originalImage:e.im.originalImage,error:e.im.signatureManagerError,editedImage:e.signatureEditor.image,imageDimensions:e.signatureEditor.imageDimensions,deviceProps:e.deviceProps,webcamEnabled:e.im.webcamEnabled,misc:e.ws.features.misc,useSvgSignature:e.ws.useSvgSignature}},function(e){var t=(0,S.bindActionCreators)({uploadSignatureImage:V.uploadSignatureImage,smGallery:V.smGallery,closeSignature:V.closeSignature,setError:V.smSetError,clearError:V.clearErrors,smInitial:V.smInitial,smOpenEditor:V.smOpenEditor,setOriginalImage:V.smSetOriginalImage,checkWebcamAvailability:V.checkWebcamAvailability,setInitialImage:y.default.setInitialImage,initialImageAdjust:y.default.initialImageAdjust,restoreInitialState:y.default.restoreInitialState},e);return(0,p.default)({},t,{dispatch:e})})((r=o=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));n.onLoadFilesSelect=function(e){var t=n.props,a=t.dropzoneConfig,o=t.locale,r=t.setError,i=a.maxFileSize,s=a.allowedFileTypes,l={customErrors:o.errors,imageDimensions:a.imageDimensions,checkImage:!0,maxFilesNumber:1,maxFileSize:i,allowedFileTypes:s};(0,T.validateFiles)(e,l,n.handleFilesSelect,r)},n.handleFilesSelect=function(e){if(e[0]){var t=n.props,a=t.initialImageAdjust,o=t.setOriginalImage,r=e[0];(0,z.isMobile)()?n.handleImage(r.data,{width:r.width,height:r.height}):(a(r.data),o(r.data))}},n.handleWebcamImage=function(e){var t=n.props,a=t.initialImageAdjust,o=t.setOriginalImage;a(e),o(e)},n.handleClose=function(){var e=n.props.handleClose;e&&e()},n.handleError=function(e){var t=n.props,a=t.handleError,o=t.locale,r=t.clearError;a({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),r()},n.handlePreviewOptionSelection=function(e){n.setState({selectedPreviewOption:e})},n.handleEditorPreviewConfirm=function(){var e=n.props,t=e.smOpenEditor,a=e.restoreInitialState;switch(n.state.selectedPreviewOption){case 1:return n.handleEditedImage(!0);case 2:return t();case 3:return a()}},n.handleEditedImage=function(e){var t=n.props,a=t.editedImage,o=t.imageDimensions,r=t.modeSignature,i=t.initialSignature;n.props.uploadSignatureImage(a,o,function(t,a){if(a){var o=(0,p.default)({},a,{id:i.id,subType:K.SUB_TYPES.image});r.type===K.MODE_TYPES.SM_IMAGE_EDIT?n.props.handleUpdate(o,e):n.props.handleAdd(o,e)}})},n.handleSaveAndUse=function(e){var t=n.props,a=t.modeSignature,o=t.signature,r=t.initialSignature,i=t.useSvgSignature;if(n.setState({use:e}),a.type===K.MODE_TYPES.SM_TEXT_EDIT||a.type===K.MODE_TYPES.SM_TYPE_SIGNATURE){var s=(0,p.default)({},r,o,{fontSize:j.DEFAULT_SIGNATURE_FONT_SIZE,subType:K.SUB_TYPES.text});a.type===K.MODE_TYPES.SM_TEXT_EDIT?n.props.handleUpdate(s,e):n.props.handleAdd(s,e)}if(a.type===K.MODE_TYPES.SM_CURVE_EDIT||a.type===K.MODE_TYPES.SM_DRAW){var l=(0,p.default)({},r,o,{subType:i?K.SUB_TYPES.svg:K.SUB_TYPES.curve});a.type===K.MODE_TYPES.SM_CURVE_EDIT?n.props.handleUpdate(l,e):n.props.handleAdd(l,e)}a.type!==K.MODE_TYPES.SM_IMAGE_EDIT&&a.type!==K.MODE_TYPES.SM_EDITOR||n.handleEditedImage(e)},n.handleImage=function(e,t){n.props.uploadSignatureImage(e,t,function(e,t){var a=(0,p.default)({},t,{subType:K.SUB_TYPES.image});t&&n.props.handleAdd(a)})},n.handleImageLoading=function(e){n.setState({imageLoading:e})},n.handleOpenAddressBook=function(){(0,n.props.handleOpenAddressBook)({controller:n.addressBookController,inputHandler:ae,controllerConstants:oe})},n.setReference=function(e){n.webcamInstance=e},n.shouldShowSmInitialWithRestrictSubTypes=function(){var e=n.props,t=e.signatures,a=e.restrictSubTypes;return t&&a&&!t.some(function(e){return a.some(function(t){return t===e.subType})})},n.storeContentRef=function(e){n.contentRef=e};var a=e.dispatch;return n.state={selectedPreviewOption:1,use:!1,imageLoading:!1},n.prevType=null,n.contentRef=null,n.webcamInstance=null,n.modalId=t.getModalId(),n.addressBookController=new re(a),n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.checkWebcamAvailability()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.addedSignature,a=t.handleSelect,o=t.error;n&&n!==e.addedSignature&&this.state.use?a(n):o&&o!==e.error&&this.handleError(o)}},{key:"componentWillUnmount",value:function(){this.props.closeSignature(),this.props.smGallery()}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props.locale,n="",a="",o="";switch(this.prevType!==e&&(e!==K.MODE_TYPES.SM_UPLOADING&&this.contentRef&&this.contentRef.focus(),this.prevType=e),e){case K.MODE_TYPES.SM_GALLERY:case K.MODE_TYPES.SM_INITIAL:n=t.methods.header,a="sign-m-svg-icon-gallery-signature-sm";break;case K.MODE_TYPES.SM_TEXT_EDIT:case K.MODE_TYPES.SM_CURVE_EDIT:case K.MODE_TYPES.SM_IMAGE_EDIT:n=t.edit.header,a="sign-m-svg-icon-pencil",o="sign-m-mobile-hide";break;case K.MODE_TYPES.SM_TYPE_SIGNATURE:n=t.type.header,a="sign-m-svg-icon-type-sm";break;case K.MODE_TYPES.SM_QR:n=t.qr.header,a="sign-m-svg-icon-qr-mobile-sm";break;case K.MODE_TYPES.SM_SMS:n=t.sms.header,a="sign-m-svg-icon-sms-mobile-sm";break;case K.MODE_TYPES.SM_EMAIL:n=t.email.header,a="sign-m-svg-icon-email-mobile-sm";break;case K.MODE_TYPES.SM_DRAW:n=t.draw.header,a="sign-m-svg-icon-draw-sm",o="sign-m-mobile-hide";break;case K.MODE_TYPES.SM_MOBILE_SIGN_LOADING:n=t.draw.header,a="sign-m-svg-icon-draw-sm";break;case K.MODE_TYPES.SM_CAPTURE:n=t.capture.header,a="sign-m-svg-icon-camera-sm";break;case K.MODE_TYPES.SM_UPLOADER:case K.MODE_TYPES.SM_MOBILE_UPLOADER:n=t.upload.header,a="sign-m-svg-icon-upload-sm";break;case K.MODE_TYPES.SM_UPLOADING:n=t.uploading.header,a="sign-m-svg-icon-upload-sm";break;case K.MODE_TYPES.SM_EDITOR_PREVIEW:case K.MODE_TYPES.SM_EDITOR:n=t.upload.header,a="sign-m-svg-icon-upload-sm"}return m.default.createElement(O.ImageManagerHeader,{icon:a,title:n,handleClose:this.handleClose,addClass:o,headerId:this.props.headerId})}},{key:"renderComponentByTypeContent",value:function(e){var t=this,n=this.props,a=n.handleDelete,o=n.handleSelect,r=n.handleAdd,i=n.locale,s=n.uploadedPercent,l=n.jsOnly,d=n.dropzoneConfig,u=n.smInitial,c=n.signatures,p=n.originalImage,h=n.editedImage,E=n.setError,S=n.webcamEnabled,_=n.misc,v=n.restrictSubTypes,g=n.isSingleUse,T=n.useSvgSignature,b=this.state.selectedPreviewOption;if(this.state.imageLoading)return m.default.createElement("div",{className:"loading-overlay"},m.default.createElement(W.Loader,{title:i.gallery.loadingImage}));switch(e){case K.MODE_TYPES.SM_INITIAL:var y=c&&c.length>0&&!this.shouldShowSmInitialWithRestrictSubTypes()&&!g;return m.default.createElement(f.Fragment,null,m.default.createElement(A.SignatureManagerMethodList,{handleAdd:r,handleSelect:o,restrictSubTypes:v,webcamEnabled:S,onLoadFilesSelect:this.onLoadFilesSelect,misc:_}),y&&m.default.createElement(G.default,{backButtonText:i.backButton,smGallery:this.props.smGallery}));case K.MODE_TYPES.SM_TYPE_SIGNATURE:case K.MODE_TYPES.SM_TEXT_EDIT:return[m.default.createElement(D.SignatureManagerTypeSignature,{key:"SignatureManagerTypeSignatureSM_TYPE_SIGNATURE"}),m.default.createElement(I.SignatureManagerFooterTypeSignature,{key:"SignatureManagerFooterTypeSignatureSM_TYPE_SIGNATURE",handleSaveAndUse:this.handleSaveAndUse})];case K.MODE_TYPES.SM_MOBILE_SIGN_LOADING:return[m.default.createElement(w.SignatureManagerGalleryList,{handleSelect:o,handleDelete:a,restrictSubTypes:v,key:"SignatureManagerGalleryListSM_MOBILE_SIGN_LOADING"}),m.default.createElement(R.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_MOBILE_SIGN_LOADING"})];case K.MODE_TYPES.SM_GALLERY:return c?[m.default.createElement(w.SignatureManagerGalleryList,{handleSelect:o,handleDelete:a,handleImageLoading:this.handleImageLoading,restrictSubTypes:v,key:"SignatureManagerGalleryListSM_GALLERY"}),m.default.createElement(R.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_GALLERY"})]:m.default.createElement("div",{className:"loading-overlay",key:"LoaderSM_GALLERY"},m.default.createElement(W.Loader,{title:i.gallery.loadingSignatures}));case K.MODE_TYPES.SM_QR:return[m.default.createElement(P.SignatureManagerQR,{key:"SignatureManagerQRSM_QR"}),m.default.createElement(B.default,{key:"SignatureManagerFooterQRSM_QR",onButtonClick:u,backButtonText:i.backButton})];case K.MODE_TYPES.SM_SMS:return[m.default.createElement(N.SignatureManagerSMS,{key:"SignatureManagerSMSSM_SMS",openAddressBook:this.handleOpenAddressBook}),m.default.createElement(B.default,{key:"SignatureManagerSMSSM_SMS_Footer",onButtonClick:u,backButtonText:i.backButton})];case K.MODE_TYPES.SM_EMAIL:return[m.default.createElement(L.SignatureManagerEmail,{openAddressBook:this.handleOpenAddressBook,key:"SignatureManagerEmailSM_EMAIL"}),m.default.createElement(B.default,{key:"SignatureManagerFooterEmailSM_EMAIL",onButtonClick:u,backButtonText:i.backButton})];case K.MODE_TYPES.SM_DRAW:case K.MODE_TYPES.SM_CURVE_EDIT:return[T?m.default.createElement(x.SignatureManagerDrawWithSvg,{key:"SignatureManagerDrawNewSM_DRAW",handleSaveAndUse:this.handleSaveAndUse}):m.default.createElement(x.SignatureManagerDraw,{key:"SignatureManagerDrawOldSM_DRAW",signatureMode:e,handleSaveAndUse:this.handleSaveAndUse}),m.default.createElement(F.SignatureManagerFooterDraw,{key:"SignatureManagerFooterDrawSM_DRAW",isSingleUse:g,handleSaveAndUse:this.handleSaveAndUse})];case K.MODE_TYPES.SM_MOBILE_UPLOADER:return[m.default.createElement(M.ImageManagerContentUploading,{title:i.uploading.text,uploadedPercent:s,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),m.default.createElement(B.default,{key:"SignatureManagerFooterUploaderSM_MOBILE_UPLOADER",onButtonClick:u,backButtonText:i.backButton})];case K.MODE_TYPES.SM_UPLOADER:return[m.default.createElement("div",{className:"sign-m-body",key:"divSM_UPLOADER"},m.default.createElement(Q,{maxFileSize:d.maxFileSize,allowedFileTypes:d.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleErrors:E,errors:i.errors.dropZone,checkImage:!0},m.default.createElement(te,{title:i.upload.dropZone.title}),m.default.createElement(ee,{content:i.upload.dropZone.text+" "+d.maxFileSize+"."}),m.default.createElement(J,{tabIndexForHiddenInput:l?-1:null,title:i.upload.dropZone.button,className:"g-btn g-btn-primary g-btn-auto-width"}))),m.default.createElement(B.default,{key:"SignatureManagerFooterUploaderSM_UPLOADER",onButtonClick:u,backButtonText:i.backButton})];case K.MODE_TYPES.SM_UPLOADING:return[m.default.createElement(M.ImageManagerContentUploading,{title:i.uploading.text,uploadedPercent:s,key:"ImageManagerContentUploadingSM_UPLOADING"}),m.default.createElement(B.default,{key:"SignatureManagerFooterUploaderSM_UPLOADING",onButtonClick:u,backButtonText:i.backButton})];case K.MODE_TYPES.SM_CAPTURE:var O=(0,z.getWebcamConstraints)();return[m.default.createElement("div",{className:"sign-m-body",key:"divSM_CAPTURE"},m.default.createElement("div",null,i.capture.text),m.default.createElement("div",{className:"crop-body"},m.default.createElement("div",{className:"crop-body-table"},m.default.createElement("div",{className:"crop-body-cell"},m.default.createElement(ne,{ref:this.setReference,handleImage:this.handleWebcamImage,handleError:E,jsOnly:l,constraints:O,isImageMirrored:!0,crop:!0}))))),m.default.createElement(H.SignatureManagerFooterCapture,{takeSnapShot:function(){return t.webcamInstance.takeSnapshot()},key:"SignatureManagerFooterCaptureSM_CAPTURE"})];case K.MODE_TYPES.SM_EDITOR_PREVIEW:return[m.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_PREVIEW_content"},m.default.createElement(k.default,{handlePreviewOptionSelection:this.handlePreviewOptionSelection,locale:i.editorPreview,editedImage:h,originalImage:p,selectedOption:b})),m.default.createElement(U.default,{key:"SM_EDITOR_PREVIEW_footer",onClick:this.handleEditorPreviewConfirm})];case K.MODE_TYPES.SM_EDITOR:case K.MODE_TYPES.SM_IMAGE_EDIT:return[m.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_content"},m.default.createElement(C.default,null)),m.default.createElement(Y.default,{key:"SM_EDITOR_footer",handleSaveAndUse:this.handleSaveAndUse})]}}},{key:"render",value:function(){var e=this.props,t=e.modeSignature,n=e.signatures,a=e.isSingleUse,o=K.MODES[t.type];o.type===K.MODE_TYPES.SM_GALLERY&&(n&&!n.length||a||this.shouldShowSmInitialWithRestrictSubTypes())&&(o=K.MODES[K.MODE_TYPES.SM_INITIAL]);var r=o.mods||"";return m.default.createElement("div",{className:(0,_.default)("sign-m",(0,i.default)({},r,r)),"data-test":q.default.signature.wizard,ref:this.storeContentRef},this.renderHeaderByTypeContent(o.type),this.renderComponentByTypeContent(o.type))}}],[{key:"getModalId",value:function(){return Z}}]),t}(f.Component),o.propTypes={initialImageAdjust:h.default.func.isRequired,setOriginalImage:h.default.func.isRequired,smOpenEditor:h.default.func.isRequired,setError:h.default.func.isRequired,handleError:h.default.func.isRequired,clearError:h.default.func.isRequired,checkWebcamAvailability:h.default.func.isRequired,uploadSignatureImage:h.default.func,handleAdd:h.default.func,handleUpdate:h.default.func,handleDelete:h.default.func,handleSelect:h.default.func,handleClose:h.default.func,upload:h.default.func,dispatch:h.default.func,smGallery:h.default.func,closeSignature:h.default.func,handleOpenAddressBook:h.default.func,smInitial:h.default.func,restoreInitialState:h.default.func,addedSignature:h.default.object,signatures:h.default.array,signature:h.default.object,initialSignature:h.default.object,modeSignature:h.default.object,originalImage:h.default.string,editedImage:h.default.string,imageDimensions:h.default.object,locale:h.default.object,dropzoneConfig:h.default.object,restrictSubTypes:h.default.arrayOf(h.default.string),isSingleUse:h.default.bool.isRequired,deviceProps:h.default.object,jsOnly:h.default.bool,uploadedPercent:h.default.number,error:h.default.string,webcamEnabled:h.default.bool,misc:h.default.array,headerId:h.default.string,useSvgSignature:h.default.bool.isRequired},a=r))||a;t.default=ie},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodList=void 0;var a,o,r=v(n(490)),i=v(n(87)),s=v(n(81)),l=v(n(83)),d=v(n(88)),u=v(n(89)),c=v(n(23)),p=n(0),h=v(p),f=v(n(6)),m=n(1418),E=n(1419),S=n(839),_=v(n(845));function v(e){return e&&e.__esModule?e:{default:e}}var g="signature_wizard.options",T="notarize";t.SignatureManagerMethodList=(o=a=function(e){function t(){var e,n,a,o;(0,s.default)(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(u))),a.getSignatureWizardOptions=function(){return a.props.misc.find(function(e){return e.id===g})},a.getMethodsList=function(){var e=S.METHODS_LIST.filter(function(e){return e.id!==T}),t=a.getSignatureWizardOptions();return t&&(e=S.METHODS_LIST.filter(function(e){return t[e.id]})),e},a.getUpdatedMethod=function(e,t){var n=e;if(t&&(n=(0,r.default)({},n,{disabled:!0})),e.id===T){var o=a.getSignatureWizardOptions();if(o){var i=o.notarizeLocation;n=(0,r.default)({},n,{notarizeLocation:i})}}return n},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"renderPreview",value:function(){var e=this.props.restrictSubTypes,t=!1;return e&&e.length&&-1===e.indexOf(S.SUB_TYPES.text)&&-1===e.indexOf(S.SUB_TYPES.initials)&&(t=!0),h.default.createElement(m.SignatureManagerMethodItemPreview,{handleAdd:this.props.handleAdd,handleSelect:this.props.handleSelect,disabled:t})}},{key:"renderList",value:function(){var e=this,t=this.props,n=t.webcamEnabled,a=t.restrictSubTypes,o=t.onLoadFilesSelect,r=this.getMethodsList();return a&&a.length?r.map(function(t,r){var i=-1===a.indexOf(t.subType)||!n&&t.typeDispatch===S.MODE_TYPES.SM_CAPTURE,s=e.getUpdatedMethod(t,i);return h.default.createElement(E.SignatureManagerMethodItem,{item:s,key:r,onLoadFilesSelect:o,dataTest:_.default.methodItem[t.id]})}):r.map(function(t,a){var r=!n&&t.typeDispatch===S.MODE_TYPES.SM_CAPTURE,i=e.getUpdatedMethod(t,r);return h.default.createElement(E.SignatureManagerMethodItem,{item:i,key:a,onLoadFilesSelect:o,dataTest:_.default.methodItem[t.id]})})}},{key:"render",value:function(){var e=this.getMethodsList().length>6,t=(0,f.default)("sign-m-body","sign-m-body--scrolled",{"sign-m-body--shadowed":e});return h.default.createElement("div",{className:t},h.default.createElement("div",{className:"sign-m-body-scrollbox"},this.renderPreview(),h.default.createElement("div",{className:"sign-m-method-item-list"},this.renderList())))}}]),t}(p.Component),a.propTypes={restrictSubTypes:c.default.array,handleAdd:c.default.func.isRequired,handleSelect:c.default.func.isRequired,onLoadFilesSelect:c.default.func.isRequired,webcamEnabled:c.default.bool.isRequired,misc:c.default.array.isRequired},a.defaultProps={restrictSubTypes:null},o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItemPreview=void 0;var a,o=g(n(490)),r=g(n(87)),i=g(n(81)),s=g(n(83)),l=g(n(88)),d=g(n(89)),u=g(n(23)),c=n(0),p=g(c),h=g(n(6)),f=n(55),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),E=n(839),S=n(1044),_=n(843),v=g(n(845));function g(e){return e&&e.__esModule?e:{default:e}}var T={locale:u.default.object,setCurrentController:u.default.func,cancelCurrentController:u.default.func,smSaveSignature:u.default.func,handleAdd:u.default.func,handleSelect:u.default.func,smTypeSignature:u.default.func,signature:u.default.object,fontFamily:u.default.string,disabled:u.default.bool,accessibilityMode:u.default.bool};(t.SignatureManagerMethodItemPreview=(0,f.connect)(function(e){return{signature:e.im.signature,locale:(0,_.getSignatureManagerLocale)(e),accessibilityMode:e.ws.accessibilityMode}},{smTypeSignature:m.smTypeSignature,smSaveSignature:m.smSaveSignature})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChange=function(e){var t=n.props.signature,a=e.target.value.replace(/[а-яА-ЯёЁ]/gi,"");n.props.smSaveSignature((0,o.default)({},t,{text:a}))},n.handleOnMethodItemClick=function(){n.props.disabled||n.props.smTypeSignature()},n.handleText=function(){var e={text:n.props.signature.text||"",fontFamily:E.FONTS.JELLYCA.original,fontSize:S.DEFAULT_SIGNATURE_FONT_SIZE,subType:E.SUB_TYPES.text};e.text.trim().length>0&&(n.props.handleAdd(e),n.props.handleSelect(e))},n.handleKeyPress=function(e){e.charCode===E.CHAR_CODES.enter&&n.handleText()},n.showValue=function(e){var t=n.props.locale;return e||t.methods.preview.placeholder},n.setReference=function(e){n.input=e},n.input=null,n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){!this.input||this.props.disabled||this.props.accessibilityMode||this.input.focus()}},{key:"render",value:function(){var e=this.props,t=e.signature,n=e.locale,a=e.disabled,o=t.text&&t.text.trim().length>0,r=(0,h.default)({disabled:a,"sign-m-method-item":!0,"sign-m-mobile-show":!0,"sign-m-method-item--strip":!0}),i=(0,h.default)({disabled:a,"sign-m-method-item":!0,"sign-m-method-item--lg":!0,"sign-m-mobile-hide":!0,"sign-m-method-item--strip":!0}),s=(0,h.default)({"g-btn g-btn-primary g-btn-auto-width g-btn-sm":!0,disabled:!t.text});return p.default.createElement("div",null,p.default.createElement("div",{"data-strip":"easy",className:i},p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:"sign-m-svg-icon-type"}),p.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.preview.title)),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:n.methods.preview.text},id:"sign-m-method-item__"+n.methods.preview.title}),p.default.createElement("div",{className:"sign-m-method-item__control"},p.default.createElement("input",{type:"text",className:"form-input form-input-sm",maxLength:100,onChange:this.onChange,placeholder:n.methods.preview.placeholder,value:t.text||"",onKeyPress:this.handleKeyPress,"aria-labelledby":"sign-m-method-item__"+n.methods.preview.title,ref:this.setReference,disabled:a,"data-test":v.default.methodItem.initialsInput}),p.default.createElement("button",{className:s,disabled:!o,onClick:this.handleText,"data-test":v.default.buttons.sign},n.methods.preview.button))),p.default.createElement("div",{className:"sign-m-method-item-preview font-JellykaCuttyCupcakes"},p.default.createElement("span",{className:"sign-preview"},this.showValue(t.text)))),p.default.createElement("div",{"data-strip":"easy",className:r,onClick:this.handleOnMethodItemClick},p.default.createElement("div",{className:"sign-m-mobile-show"},p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:"sign-m-svg-icon-type"})),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.preview.title),p.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:n.methods.preview.text}})))))}}]),t}(c.Component))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItem=void 0;var a,o=g(n(180)),r=g(n(87)),i=g(n(81)),s=g(n(83)),l=g(n(88)),d=g(n(89)),u=g(n(490)),c=g(n(23)),p=n(0),h=g(p),f=g(n(6)),m=n(55),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),S=n(839),_=n(843),v=n(875);function g(e){return e&&e.__esModule?e:{default:e}}var T={item:c.default.object,deviceProps:c.default.object,locale:c.default.object,dropzoneConfig:c.default.object,smGallery:c.default.func,smTypeSignature:c.default.func,smQR:c.default.func,smSMS:c.default.func,smEmail:c.default.func,smDraw:c.default.func,smMobileUploader:c.default.func,smUploader:c.default.func,smCapture:c.default.func,smNotarize:c.default.func,onLoadFilesSelect:c.default.func,dataTest:c.default.string};(t.SignatureManagerMethodItem=(0,m.connect)(function(e){return(0,u.default)({},e.im.modeSignature,{locale:(0,_.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{smGallery:E.smGallery,smQR:E.smQR,smSMS:E.smSMS,smEmail:E.smEmail,smDraw:E.smDraw,smUploader:E.smUploader,smMobileUploader:E.smMobileUploader,smTypeSignature:E.smTypeSignature,smCapture:E.smCapture,smNotarize:E.smNotarize})(a=function(e){function t(){var e,n,a,o;(0,i.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(d))),a.handleKeyPress=function(e){e.charCode===S.CHAR_CODES.space&&(e.preventDefault(),a.funcTypeDispatch())},o=n,(0,l.default)(a,o)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"strip",value:function(e){var t=this.props.item,n=(0,o.default)(t.strip),a=void 0;return a="className"===e?"string"===n||0:"string"===n?t.strip:"",a}},{key:"funcTypeDispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props,n=t.item,a=t.smGallery,o=t.smTypeSignature,r=t.smQR,i=t.smSMS,s=t.smEmail,l=t.smDraw,d=t.smMobileUploader,u=t.smUploader,c=t.smCapture,p=t.smNotarize,h=t.onLoadFilesSelect;if(!n.disabled)switch(n.typeDispatch){case S.MODE_TYPES.SM_GALLERY:return a();case S.MODE_TYPES.SM_TYPE_SIGNATURE:return o();case S.MODE_TYPES.SM_QR:return r();case S.MODE_TYPES.SM_SMS:return i();case S.MODE_TYPES.SM_EMAIL:return s();case S.MODE_TYPES.SM_DRAW:return l();case S.MODE_TYPES.SM_UPLOADER:return(0,v.isMobile)()?(h(e),d()):u();case S.MODE_TYPES.SM_CAPTURE:return c();case S.MODE_TYPES.SM_NOTARIZE:return p(n.notarizeLocation);default:return!1}}},{key:"render",value:function(){var e=this,t=this.props,n=t.locale,a=t.dropzoneConfig,o=t.item,r=t.dataTest,i={title:n.methods.list[o.id].title,text:n.methods.list[o.id].text},s=!1;(o.disabled||o.typeDispatch===S.MODE_TYPES.SM_CAPTURE&&(0,v.isMobile)())&&(s=!0);var l=(0,f.default)({"sign-m-method-item":!0,"sign-m-method-item--strip":this.strip("className"),disabled:s});if((0,v.isMobile)()){if(o.typeDispatch===S.MODE_TYPES.SM_UPLOADER)return h.default.createElement("div",{"data-strip":this.strip(),"data-test":r,className:l},h.default.createElement("label",{htmlFor:"crop_upload_file"},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.upload.titleMobile),h.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.upload.textMobile)),h.default.createElement("input",{value:"",id:"crop_upload_file",type:"file",hidden:"hidden",disabled:s,accept:a.allowedFileTypes,onChange:function(t){return e.funcTypeDispatch(t.target.files)}})));if(o.typeDispatch===S.MODE_TYPES.SM_DRAW)return h.default.createElement("div",{"data-strip":this.strip(),"data-test":r,className:l,onClick:function(){return e.funcTypeDispatch()}},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.draw.titleMobile),h.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.draw.textMobile)));if(s)return null}var d={onKeyPress:this.handleKeyPress,tabIndex:0,role:"button","aria-labelledby":"sign-m-method-item__"+o.id};return h.default.createElement("div",(0,u.default)({"data-strip":this.strip(),"data-test":r,className:l,onClick:function(){return e.funcTypeDispatch()}},!s&&d),h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title",id:"sign-m-method-item__"+o.id},i.title),h.default.createElement("div",{className:"sign-m-method-item__desc"},i.text)))}}]),t}(p.Component))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignature=void 0;var a,o=v(n(490)),r=v(n(87)),i=v(n(81)),s=v(n(83)),l=v(n(88)),d=v(n(89)),u=v(n(23)),c=n(0),p=v(c),h=n(55),f=v(n(1050)),m=n(1421),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),S=n(839),_=n(843);function v(e){return e&&e.__esModule?e:{default:e}}var g=[{font:S.FONTS.JELLYCA,active:!0},{font:S.FONTS.SIGNATURE,active:!1}],T={smSaveSignature:u.default.func,locale:u.default.object,signature:u.default.object};(t.SignatureManagerTypeSignature=(0,h.connect)(function(e){return{signature:e.im.signature,locale:(0,_.getSignatureManagerLocale)(e).type}},{smSaveSignature:E.smSaveSignature})(a=(0,f.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChange=function(e){var t=n.props.signature,a=e.target.value.replace(/[а-яА-ЯёЁ]/gi,"");n.props.smSaveSignature((0,o.default)({},t,{text:a}))},n.onFocus=function(e){n.moveCaretAtEnd(e)},n.setReference=function(e){n.input=e},n.setActiveFont=function(e,t){return e.map(function(e){return e.font.original===t?(0,o.default)({},e,{active:!0}):(0,o.default)({},e,{active:!1})})},n.handleSetActiveElement=function(e){n.setState(function(t){return{fonts:n.setActiveFont(t.fonts,e)}})},n.state={fonts:n.setActiveFont(g,e.signature.fontFamily)},n.input=null,n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.signature,a=t.locale;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("div",{className:"g-form-group"},p.default.createElement("input",{type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:a.placeholder,className:"form-input",value:n.text,ref:this.setReference})),p.default.createElement("div",{className:"sign-m-type-title"},a.text),p.default.createElement("div",{className:"sign-m-type-list clfx"},this.state.fonts.map(function(t,o){return p.default.createElement(m.SignatureManagerTypeSignatureItem,{signature:n,placeholder:a.placeholder,smSaveSignature:e.props.smSaveSignature,font:t,setActiveElement:e.handleSetActiveElement,key:o})})))}}]),t}(c.Component))||a)||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignatureItem=void 0;var a=h(n(490)),o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=h(n(23)),u=n(0),c=h(u),p=n(839);function h(e){return e&&e.__esModule?e:{default:e}}var f={smSaveSignature:d.default.func,setActiveElement:d.default.func,font:d.default.object,signature:d.default.object,placeholder:d.default.string},m=p.FONTS.JELLYCA.original;(t.SignatureManagerTypeSignatureItem=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleClick=function(e){e.stopPropagation();var t=a.props.font;a.setFont(),a.props.setActiveElement(t.font.original)},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.font.font.original===m&&this.setFont()}},{key:"setFont",value:function(){var e=this.props,t=e.signature,n=e.font;this.props.smSaveSignature((0,a.default)({},t,{fontFamily:n.font.original}))}},{key:"render",value:function(){var e=this.props,t=e.signature,n=e.placeholder,a=e.font,o="sign-m-type-item "+a.font.custom+" "+(a.active?"active":"");return c.default.createElement("div",{className:o,onClick:this.handleClick},c.default.createElement("div",{className:"sign-m-type-item-inner"},c.default.createElement("div",{className:"sign-m-type-item__title"},t.text||n)))}}]),t}(u.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterTypeSignature=void 0;var a,o=v(n(87)),r=v(n(81)),i=v(n(83)),s=v(n(88)),l=v(n(89)),d=v(n(23)),u=n(0),c=v(u),p=n(55),h=n(884),f=n(867),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),E=n(839),S=n(843),_=v(n(845));function v(e){return e&&e.__esModule?e:{default:e}}var g={smInitial:d.default.func,handleText:d.default.func,smGallery:d.default.func,locale:d.default.object,signature:d.default.object,modeSignature:d.default.object,fontFamily:d.default.string,handleSaveAndUse:d.default.func};(t.SignatureManagerFooterTypeSignature=(0,p.connect)(function(e){return{signature:e.im.signature,modeSignature:e.im.modeSignature,locale:(0,S.getSignatureManagerLocale)(e)}},{smInitial:m.smInitial,smGallery:m.smGallery})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1)},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0)},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.signature,n=e.modeSignature,a=e.locale,o=!(t.text&&t.text.trim().length>0);return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:n.type===E.MODE_TYPES.SM_TEXT_EDIT?this.props.smGallery:this.props.smInitial,dataTest:_.default.buttons.back},a.backButton),c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-show-mobile",onClick:this.handleSaveButtonClick,disabled:o,dataTest:_.default.buttons.save},a.type.saveButton)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-mobile-hide",onClick:this.handleSaveButtonClick,disabled:o,dataTest:_.default.buttons.save},a.type.saveButton),c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:this.handleSaveAndUseButtonClick,disabled:o,dataTest:_.default.buttons.saveAndUse},a.type.saveAndUseButton)))}}]),t}(u.Component))||a).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryList=void 0;var a,o=T(n(87)),r=T(n(81)),i=T(n(83)),s=T(n(88)),l=T(n(89)),d=T(n(23)),u=n(0),c=T(u),p=n(55),h=T(n(6)),f=n(1424),m=n(979),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),S=n(839),_=n(843),v=n(875),g=T(n(845));function T(e){return e&&e.__esModule?e:{default:e}}var b={flexGrow:1},y={list:d.default.array,restrictSubTypes:d.default.array,handleSelect:d.default.func,handleDelete:d.default.func,handleImageLoading:d.default.func,smGallery:d.default.func,mobileSignatureResend:d.default.func,locale:d.default.object,loadState:d.default.bool,showResend:d.default.bool,deviceProps:d.default.object};(t.SignatureManagerGalleryList=(0,p.connect)(function(e){return{list:e.ws.signatures,loadState:e.im.modeSignature.loadState,showResend:e.im.modeSignature.showResend,locale:(0,_.getSignatureManagerLocale)(e),deviceProps:e.deviceProps}},{smGallery:E.smGallery,mobileSignatureResend:E.mobileSignatureResend})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderList",value:function(){var e=this,t=this.props,n=t.list,a=t.restrictSubTypes;return n.length&&a&&a.length?n.map(function(t,n){var o=t.subType===S.SUB_TYPES.svg?S.SUB_TYPES.curve:t.subType;return-1!==a.indexOf(o)||t.subType===S.SUB_TYPES.text&&-1!==a.indexOf(S.SUB_TYPES.initials)?c.default.createElement(f.SignatureManagerGalleryItem,{signature:t,key:n,handleSelect:e.props.handleSelect,handleDelete:e.props.handleDelete,handleImageLoading:e.props.handleImageLoading,dataTest:""+g.default.galleryItem+n}):null}):n.length?n.map(function(t,n){return c.default.createElement(f.SignatureManagerGalleryItem,{signature:t,key:n,handleSelect:e.props.handleSelect,handleDelete:e.props.handleDelete,handleImageLoading:e.props.handleImageLoading,dataTest:""+g.default.galleryItem+n})}):null}},{key:"getLoaderButtons",value:function(){var e=this.props,t=e.smGallery,n=e.showResend,a=e.locale,o=e.mobileSignatureResend,r=[{btnDispatch:function(){return t()},btnText:a.backButton}];return n&&r.push({btnDispatch:function(){return o()},btnText:a.uploading.resendButton}),r}},{key:"renderBody",value:function(){return c.default.createElement("div",{className:"sign-m-body sign-m-body--signatures-list sign-m-body--padding-0"},c.default.createElement("div",{className:"clrx"},c.default.createElement("div",{className:(0,h.default)("signature-type-list",{"signature-type-list--no-edit":(0,v.isMobile)()})},this.renderList())))}},{key:"renderLoader",value:function(){var e=this.props.locale,t=this.getLoaderButtons();return c.default.createElement("div",{className:"loading-overlay"},c.default.createElement(m.Loader,{title:e.uploading.awaitingText,btns:t}))}},{key:"render",value:function(){return this.props.loadState?c.default.createElement("div",{style:b},this.renderLoader(),this.renderBody()):this.renderBody()}}]),t}(u.Component))||a).propTypes=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryItem=void 0;var a,o=b(n(449)),r=b(n(87)),i=b(n(81)),s=b(n(83)),l=b(n(88)),d=b(n(89)),u=b(n(23)),c=n(0),p=b(c),h=n(55),f=b(n(6)),m=n(1179),E=b(n(862)),S=n(876),_=n(1052),v=n(839),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),T=n(875);function b(e){return e&&e.__esModule?e:{default:e}}var y={initialCount:u.default.number,signature:u.default.object,handleSelect:u.default.func,handleDelete:u.default.func,handleImageLoading:u.default.func,setInitialImage:u.default.func,smSetInitialSignature:u.default.func,smDraw:u.default.func,smEdit:u.default.func,dataTest:u.default.string},C={text:"typing",curve:"drawing",svg:"drawing",image:"uploading or capturing the image"},O={left:10};(t.SignatureManagerGalleryItem=(0,h.connect)(null,{setInitialImage:E.default.setInitialImage,smSetInitialSignature:g.smSetInitialSignature,smDraw:g.smDraw,smEdit:g.smEdit})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.handleSelect=function(e){e.stopPropagation();var t=n.props.signature;n.props.handleSelect(t)},n.handleEdit=function(e){var t=n.props.signature;e.stopPropagation(),n.props.smSetInitialSignature(t),t.subType===v.SUB_TYPES.text&&n.props.smEdit(v.SUB_TYPES.text),t.subType===v.SUB_TYPES.curve&&n.props.smEdit(v.SUB_TYPES.curve),t.subType===v.SUB_TYPES.image&&(n.props.handleImageLoading(!0),(0,S.imageToBase64)(t.url,function(e){n.props.setInitialImage(e,t),n.props.handleImageLoading(!1),n.props.smEdit(v.SUB_TYPES.image)}))},n.handleDelete=function(e){e.stopPropagation();var t=n.props.signature;n.props.handleDelete(t)},n.handleKeyPress=function(e){e.charCode===v.CHAR_CODES.space&&(e.preventDefault(),n.handleSelect(e))},n.storeItemSignatureRef=function(e){n.itemSignatureRef=e},n.state={width:e.initialCount,height:e.initialCount},n.sizeCanvas=n.sizeCanvas.bind(n),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.sizeCanvas()}},{key:"sizeCanvas",value:function(){this.setState({width:this.itemSignatureRef.offsetWidth,height:this.itemSignatureRef.offsetHeight})}},{key:"renderCurves",value:function(e){var t=this.state,n=t.width,a=t.height;return n>0&&a>0?p.default.createElement(m.SignatureDrawComponent,{width:n,height:a,curves:e.curves,key:e.id}):null}},{key:"renderSVG",value:function(e){var t=this.state,n=t.width,a=t.height;if(n>0&&a>0){var o=T.base64Header.concat(e.svg);return p.default.createElement("img",{src:o,width:e.width,height:e.height,alt:"Curve"})}return null}},{key:"renderItemType",value:function(e){var t={fontSize:e.fontSize+"px"};switch(e.subType){case v.SUB_TYPES.text:return p.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);case v.SUB_TYPES.curve:return this.renderCurves(e);case v.SUB_TYPES.svg:return this.renderSVG(e);case v.SUB_TYPES.image:return p.default.createElement(_.ImageItem,{src:e.url,key:e.id});case v.SUB_TYPES.initials:return p.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);default:return null}}},{key:"getClassNameTitle",value:function(){var e="";switch(this.props.signature.fontFamily){case v.FONTS.JELLYCA.original:e=v.FONTS.JELLYCA.custom;break;case v.FONTS.PETRA.original:e=v.FONTS.PETRA.custom;break;case v.FONTS.SIGNATURE.original:e=v.FONTS.SIGNATURE.custom;break;default:e=""}return(0,f.default)((0,o.default)({"signature-type-list-item__title":!0},e,!0))}},{key:"render",value:function(){var e=this.props,t=e.signature,n=e.dataTest,a=void 0;a=t.type===v.SUB_TYPES.initials?"signature-type-list-item--initials":"signature-type-list-item--signatures";var r=(0,f.default)((0,o.default)({"signature-type-list-item":!0},a,!0)),i=t.subType===v.SUB_TYPES.svg?O:null;return p.default.createElement("div",{key:t.id,className:r,onClick:this.handleSelect,onKeyPress:this.handleKeyPress,tabIndex:0,role:"button","aria-label":"Signature created by "+C[t.subType],"data-test":n},p.default.createElement("div",{className:"signature-type-item",ref:this.storeItemSignatureRef},this.renderItemType(t)),t.subType!==v.SUB_TYPES.svg&&p.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--edit",onClick:this.handleEdit},p.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-pen-edit"})),p.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",style:i,onClick:this.handleDelete},p.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(c.Component))||a).propTypes=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawElement=t.HISTORY_LENGTH_LIMIT=t.DEFAULT_SMOOTHING=t.DEFAULT_LINE_WIDTH=t.DEFAULT_COLOR=void 0;var a=c(n(490)),o=c(n(974)),r=c(n(180)),i=c(n(81)),s=c(n(83)),l=c(n(653)),d=c(n(1426)),u=n(1180);function c(e){return e&&e.__esModule?e:{default:e}}var p=t.DEFAULT_COLOR="000000",h=t.DEFAULT_LINE_WIDTH=1,f=t.DEFAULT_SMOOTHING=!1,m=t.HISTORY_LENGTH_LIMIT=50,E=function(e){var t=e.length-2,n=[],a=0;n.push(e[0]),n.push(e[1]);for(var o=2;o<t;o+=2)(Math.abs(n[a]-e[o])>=9||Math.abs(n[a+1]-e[o+1])>=9)&&(n.push(e[o]),n.push(e[o+1]),a+=2);if(2===n.length){var r=2*Math.floor(e.length/4);n.push(e[r]),n.push(e[r+1])}return n.push(e[t]),n.push(e[t+1]),n},S=function(e){var t,n=(t=function(e){for(var t={x:[],y:[]},n=0;n<e.length;n+=1){var a=e[n];n%2==0?t.x.push(a):t.y.push(a)}return t}(e),{min:{x:Math.min.apply(Math,(0,l.default)(t.x)),y:Math.min.apply(Math,(0,l.default)(t.y))},max:{x:Math.max.apply(Math,(0,l.default)(t.x)),y:Math.max.apply(Math,(0,l.default)(t.y))}}),a=n.min,o=n.max;return{width:o.x>a.x?o.x-a.x:1,height:o.y>a.y?o.y-a.y:1}};t.SignatureDrawElement=function(){function e(){(0,i.default)(this,e),this.canvas=null,this.curves=[],this.currentCurve={},this.color=p,this.lineWidth=h,this.smoothing=f,this.undoRedoCallback=null,this.isMobile=!1,this.history=[],this.currentHistoryPoint=-1,this.scale=1,this.historyLengthLimit=m}return(0,s.default)(e,[{key:"init",value:function(e,t,n,a,i,s,l){var c=this;if(this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=t,this.curves=void 0!==n?(0,d.default)(n):[],this.undoRedoCallback=void 0!==a?a:null,"object"===(void 0===l?"undefined":(0,r.default)(l))&&(0,o.default)(l).forEach(function(e){c.canvas.style[e]=l[e]}),i?(this.isMobile=(0,u.isMobile)(),this.isSurface=(0,u.isSurface)(),this.mouseDownHandler=this.mouseDown.bind(this),this.isMobile?this.canvas.addEventListener("touchstart",this.mouseDownHandler):this.isSurface&&this.canvas.addEventListener("pointerdown",this.mouseDownHandler),this.canvas.addEventListener("mousedown",this.mouseDownHandler)):this.checkScale(),this.curves.length>0){var p=this.curves[this.curves.length-1];this.color=p.color,this.lineWidth=p.lineWidth,this.smoothing=p.smoothing,this.redraw()}else s&&(this.drawConfig=s,this.color=s.color,this.lineWidth=s.lineWidth);return this.canvas.getContext("2d").strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64()),this.canvas}},{key:"update",value:function(e,t,n){return this.canvas.width=e,this.canvas.height=t,n||this.checkScale(!0),this.canvas.getContext("2d").strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,this.redraw(),this.canvas}},{key:"setCurvesColor",value:function(e){this.curves=this.curves.map(function(t){return(0,a.default)({},t,{color:e})})}},{key:"setColor",value:function(e){if(this.color!==e){var t=this.color;this.updateColor(e),this.addHistoryPoint({type:"color",old:t,new:e}),this.redraw(),this.setCurvesColor(e)}}},{key:"updateColor",value:function(e){this.drawConfig=(0,a.default)({},this.drawConfig,{color:e}),this.color=e,this.setCurvesColor(e)}},{key:"getDrawConfig",value:function(){return this.drawConfig}},{key:"getColor",value:function(){return this.color}},{key:"setCurvesLineWidth",value:function(e){this.curves=this.curves.map(function(t){return(0,a.default)({},t,{lineWidth:e})})}},{key:"setLineWidth",value:function(e){if(this.lineWidth!==e){var t=this.lineWidth;this.updateLineWidth(e),this.addHistoryPoint({type:"lineWidth",old:t,new:e}),this.redraw(),this.setCurvesLineWidth(e)}}},{key:"updateLineWidth",value:function(e){this.drawConfig=(0,a.default)({},this.drawConfig,{lineWidth:e}),this.lineWidth=e,this.setCurvesLineWidth(e)}},{key:"getLineWidth",value:function(){return this.lineWidth}},{key:"setSmoothing",value:function(e){this.smoothing!==e&&(this.addHistoryPoint({type:"smoothing",old:this.lineWidth,new:e}),this.smoothing=e,this.redraw())}},{key:"getSmoothing",value:function(){return this.smoothing}},{key:"mergeCurves",value:function(){var e=void 0,t=[],n=this.curves;if(n)for(var a=0,o=n.length;a<o;a++)e=n[a],t=t.concat(e.controlPoints);return t}},{key:"getSignatureCurveWidthHeight",value:function(){var e={curves:this.curves},t=this.mergeCurves(),n=S(t);return e.width=n.width,e.height=n.height,e}},{key:"getCurves",value:function(){return this.getSignatureCurveWidthHeight()}},{key:"getCurvesAndBase64",value:function(){var e=this.getCurves();return(0,a.default)({},e,{base64:this.canvas.toDataURL()})}},{key:"clear",value:function(){this.addHistoryPoint({type:"curves",old:this.curves.concat(),new:[]}),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.curves=[]}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.currentHistoryPoint];switch(e.type){case"color":this.updateColor(e.old);break;case"lineWidth":this.updateLineWidth(e.old);break;case"smoothing":this.smoothing=e.old;break;case"curves":this.curves=e.old.concat()}this.redraw(),this.currentHistoryPoint-=1,null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}}},{key:"redo",value:function(){if(this.canRedo()){this.currentHistoryPoint+=1;var e=this.history[this.currentHistoryPoint];switch(e.type){case"color":this.updateColor(e.new);break;case"lineWidth":this.updateLineWidth(e.new);break;case"smoothing":this.smoothing=e.new;break;case"curves":this.curves=e.new}this.redraw(),null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}}},{key:"canUndo",value:function(){return this.checkRange(),this.currentHistoryPoint>=0}},{key:"canRedo",value:function(){return this.checkRange(),this.currentHistoryPoint<this.history.length-1}},{key:"destroy",value:function(){this.mouseMoveHandler&&(this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("pointermove",this.mouseMoveHandler)),this.mouseUpHandler&&(this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("pointerup",this.mouseUpHandler)),this.mouseDownHandler&&(this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("pointerdown",this.mouseDownHandler)),this.mouseLeaveHandler&&(this.canvas.removeEventListener("mouseleave",this.mouseLeaveHandler),this.canvas.removeEventListener("pointerleave",this.mouseLeaveHandler))}},{key:"mouseDown",value:function(){this.currentCurve={lineWidth:this.lineWidth,smoothing:this.smoothing,color:this.color,controlPoints:[]},this.mouseMoveHandler=this.mouseMove.bind(this),this.mouseUpHandler=this.mouseUp.bind(this),this.mouseLeaveHandler=this.mouseLeave.bind(this),this.isMobile?(this.canvas.addEventListener("touchmove",this.mouseMoveHandler),this.canvas.addEventListener("touchend",this.mouseUpHandler),this.canvas.addEventListener("touchleave",this.mouseLeaveHandler)):this.isSurface&&(this.canvas.addEventListener("pointermove",this.mouseMoveHandler),this.canvas.addEventListener("pointerup",this.mouseUpHandler),this.canvas.addEventListener("pointerleave",this.mouseLeaveHandler)),this.canvas.addEventListener("mousemove",this.mouseMoveHandler),this.canvas.addEventListener("mouseup",this.mouseUpHandler),this.canvas.addEventListener("mouseleave",this.mouseLeaveHandler)}},{key:"mouseMove",value:function(e){e.preventDefault();var t=this.getMousePos(e);if(this.currentCurve.controlPoints){this.currentCurve.controlPoints.push(Math.round(t.x)),this.currentCurve.controlPoints.push(Math.round(t.y));var n=this.canvas.getContext("2d");4===this.currentCurve.controlPoints.length&&(n.lineWidth=this.currentCurve.lineWidth,n.strokeStyle=this.currentCurve.color,n.beginPath(),n.moveTo(this.currentCurve.controlPoints[0],this.currentCurve.controlPoints[1])),this.currentCurve.controlPoints.length>=4&&(n.lineTo(this.currentCurve.controlPoints[this.currentCurve.controlPoints.length-2],this.currentCurve.controlPoints[this.currentCurve.controlPoints.length-1]),n.stroke()),"pointermove"===e.type&&0===e.pressure&&this.mouseLeave()}}},{key:"mouseLeave",value:function(){this.mouseUp(),this.mouseEnterHandler=this.mouseEnter.bind(this),this.mouseUpHandler=this.mouseUp.bind(this),this.isMobile?(this.canvas.addEventListener("touchenter",this.mouseEnterHandler),document.addEventListener("touchend",this.mouseUpHandler)):this.isSurface&&(this.canvas.addEventListener("pointerenter",this.mouseEnterHandler),document.addEventListener("pointerup",this.mouseUpHandler)),this.canvas.addEventListener("mouseenter",this.mouseEnterHandler),document.addEventListener("mouseup",this.mouseUpHandler)}},{key:"mouseEnter",value:function(e){this.mouseDown(e),this.isMobile?(document.removeEventListener("touchend",this.mouseUpHandler),this.canvas.removeEventListener("touchenter",this.mouseEnterHandler)):this.isSurface&&(document.removeEventListener("pointerup",this.mouseUpHandler),this.canvas.removeEventListener("pointerenter",this.mouseEnterHandler)),document.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mouseenter",this.mouseEnterHandler)}},{key:"mouseUp",value:function(){if(document.removeEventListener("touchend",this.mouseUpHandler),this.canvas.removeEventListener("touchenter",this.mouseEnterHandler),this.canvas.removeEventListener("touchmove",this.mouseMoveHandler),this.canvas.removeEventListener("touchend",this.mouseUpHandler),this.canvas.removeEventListener("touchleave",this.mouseLeaveHandler),document.removeEventListener("pointerup",this.mouseUpHandler),this.canvas.removeEventListener("pointerenter",this.mouseEnterHandler),this.canvas.removeEventListener("pointermove",this.mouseMoveHandler),this.canvas.removeEventListener("pointerup",this.mouseUpHandler),this.canvas.removeEventListener("pointerleave",this.mouseLeaveHandler),document.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mouseenter",this.mouseEnterHandler),this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mouseleave",this.mouseLeaveHandler),this.mouseMoveHandler=null,this.mouseUpHandler=null,this.mouseLeaveHandler=null,this.mouseEnterHandler=null,this.currentCurve.controlPoints&&this.currentCurve.controlPoints.length>=4){var e=this.curves.concat();this.curves.push(this.currentCurve),this.redraw(),this.addHistoryPoint({type:"curves",old:e,new:this.curves.concat()})}this.currentCurve={}}},{key:"checkScale",value:function(e){if(this.curves.length>0&&this.curves[0].controlPoints.length>0){for(var t=this.curves[0].controlPoints[0],n=this.curves[0].controlPoints[1],a=t,o=n,r=this.curves.length,i=0;i<r;i++){var s=this.curves[i].controlPoints,l=s.length;if(l%2==0)for(var d=0;d<l;d+=2)t=Math.max(t,s[d]),n=Math.max(n,s[d+1]),a=Math.min(a,s[d]),o=Math.min(o,s[d+1])}var u=this.canvas.width-6,c=this.canvas.height-6,p=t-a,h=n-o;(p>u||h>c)&&(this.scale=Math.min(u/p,c/h)),e&&(this.scale=Math.min(this.canvas.width/p,this.canvas.height/h));for(var f=(t+a)/2,m=(n+o)/2,E=0;E<r;E++){var S=this.curves[E].controlPoints,_=S.length;if(_%2==0)for(var v=0;v<_;v+=2)S[v]=(S[v]-f)*this.scale+this.canvas.width/2,S[v+1]=(S[v+1]-m)*this.scale+this.canvas.height/2}}}},{key:"getMousePos",value:function(e){var t=this.canvas.getBoundingClientRect(),n=e;return e.type.indexOf("touch")>=0&&(n=e.changedTouches[0]),{x:n.clientX-t.left,y:n.clientY-t.top}}},{key:"redraw",value:function(){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.lineWidth=this.lineWidth,e.strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,e.beginPath(),e.lineJoin="round",e.lineCap="round";for(var t=this.curves.length,n=0;n<t;n++){var a=this.curves[n].controlPoints,o=a.length;if(4===o&&a.push(a[2],a[3]),o%2==0)if(this.smoothing){var r=E(a);o=r.length,e.moveTo(r[0],r[1]);for(var i=2;;){if(!(i+3<o))break;e.quadraticCurveTo(r[i],r[i+1],r[i+2],r[i+3]),i+=4}for(;i<o-1;)e.lineTo(r[i],r[i+1]),i+=1}else{e.moveTo(a[0],a[1]);for(var s=2;s<o;s+=2)e.lineTo(a[s],a[s+1])}}e.stroke()}},{key:"addHistoryPoint",value:function(e){this.currentHistoryPoint<this.history.length-1&&(this.history.length=this.currentHistoryPoint+1),this.history.push(e),this.currentHistoryPoint=this.history.length-1,this.trimHistory(),null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}},{key:"checkRange",value:function(){this.currentHistoryPoint>=this.history.length&&(this.currentHistoryPoint=this.history.length-1),this.currentHistoryPoint<-1&&(this.currentHistoryPoint=-1)}},{key:"trimHistory",value:function(){for(;this.history.length>this.historyLengthLimit;)this.history.shift();this.checkRange()}}]),e}()},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,a,o;try{n=Map}catch(e){n=function(){}}try{a=Set}catch(e){a=function(){}}try{o=Promise}catch(e){o=function(){}}function r(i,l,d,u,c){"object"==typeof l&&(d=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var p=[],h=[],f=void 0!==t;return void 0===l&&(l=!0),void 0===d&&(d=1/0),function i(d,m){if(null===d)return null;if(0===m)return d;var E,S;if("object"!=typeof d)return d;if(e(d,n))E=new n;else if(e(d,a))E=new a;else if(e(d,o))E=new o(function(e,t){d.then(function(t){e(i(t,m-1))},function(e){t(i(e,m-1))})});else if(r.__isArray(d))E=[];else if(r.__isRegExp(d))E=new RegExp(d.source,s(d)),d.lastIndex&&(E.lastIndex=d.lastIndex);else if(r.__isDate(d))E=new Date(d.getTime());else{if(f&&t.isBuffer(d))return E=t.allocUnsafe?t.allocUnsafe(d.length):new t(d.length),d.copy(E),E;e(d,Error)?E=Object.create(d):void 0===u?(S=Object.getPrototypeOf(d),E=Object.create(S)):(E=Object.create(u),S=u)}if(l){var _=p.indexOf(d);if(-1!=_)return h[_];p.push(d),h.push(E)}for(var v in e(d,n)&&d.forEach(function(e,t){var n=i(t,m-1),a=i(e,m-1);E.set(n,a)}),e(d,a)&&d.forEach(function(e){var t=i(e,m-1);E.add(t)}),d){var g;S&&(g=Object.getOwnPropertyDescriptor(S,v)),g&&null==g.set||(E[v]=i(d[v],m-1))}if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(d);for(v=0;v<T.length;v++){var b=T[v];(!(C=Object.getOwnPropertyDescriptor(d,b))||C.enumerable||c)&&(E[b]=i(d[b],m-1),C.enumerable||Object.defineProperty(E,b,{enumerable:!1}))}}if(c){var y=Object.getOwnPropertyNames(d);for(v=0;v<y.length;v++){var C,O=y[v];(C=Object.getOwnPropertyDescriptor(d,O))&&C.enumerable||(E[O]=i(d[O],m-1),Object.defineProperty(E,O,{enumerable:!1}))}}return E}(i,d)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=i,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},r.__getRegExpFlags=s,r}();e.exports&&(e.exports=n)}).call(this,n(515).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterGallery=void 0;var a,o=_(n(87)),r=_(n(81)),i=_(n(83)),s=_(n(88)),l=_(n(89)),d=_(n(490)),u=_(n(23)),c=n(0),p=_(c),h=n(55),f=n(1428),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),E=n(843),S=_(n(845));function _(e){return e&&e.__esModule?e:{default:e}}var v={smInitial:u.default.func,locale:u.default.object};(t.SignatureManagerFooterGallery=(0,h.connect)(function(e){return(0,d.default)({},e.im.modeSignature,{locale:(0,E.getSignatureManagerLocale)(e)})},{smInitial:m.smInitial})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.locale;return p.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation"},p.default.createElement("div",{className:"sign-m-footer__left"}),p.default.createElement("div",{className:"sign-m-footer__right"},p.default.createElement(f.BtnIcon,{addClass:"g-btn-sm g-btn-primary",iconClass:"i-sign",onClick:this.props.smInitial,dataTest:S.default.buttons.addNewSignature},e.gallery.mainButton)))}}]),t}(c.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnIcon=void 0;var a=h(n(449)),o=h(n(87)),r=h(n(81)),i=h(n(83)),s=h(n(88)),l=h(n(89)),d=h(n(23)),u=n(0),c=h(u),p=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}var f={iconClass:d.default.string,addClass:d.default.string,children:d.default.string,onClick:d.default.func,dataTest:d.default.string};(t.BtnIcon=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.iconClass,o=e.addClass,r=void 0===o?"":o,i=e.children,s=e.dataTest,l=(0,p.default)((0,a.default)({i:!0},n,!0));return c.default.createElement("button",{type:"button",className:"g-btn g-btn-auto-width "+r,onClick:t,"data-test":s},c.default.createElement("i",{className:l}),i)}}]),t}(u.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerQR=void 0;var a,o=S(n(87)),r=S(n(81)),i=S(n(83)),s=S(n(88)),l=S(n(89)),d=S(n(23)),u=n(0),c=S(u),p=n(55),h=n(1052),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),m=n(839),E=n(843);function S(e){return e&&e.__esModule?e:{default:e}}var _={setMobileSignatureMethod:d.default.func,getQrUrl:d.default.func,locale:d.default.object,qrUrl:d.default.string};(t.SignatureManagerQR=(0,p.connect)(function(e){return{qrUrl:e.im.qrUrl,locale:(0,E.getSignatureManagerLocale)(e).qr}},{setMobileSignatureMethod:f.setMobileSignatureMethod,getQrUrl:f.getQrUrl})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setMobileSignatureMethod,n=e.getQrUrl;t(m.MODE_TYPES.SM_QR),n()}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return c.default.createElement("li",{key:e.id},c.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.qrUrl;return c.default.createElement("div",{className:"sign-m-body"},c.default.createElement("p",{className:"sign-m-body-text"},t.text),c.default.createElement("div",{className:"sign-m-container"},c.default.createElement("div",{className:"sign-m-container-inner"},c.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img",style:{position:"relative"}},c.default.createElement(h.ImageItem,{src:n})),c.default.createElement("div",{className:"sign-m-container__cell"},c.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),c.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(u.Component))||a).propTypes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerSMS=void 0;var a,o=g(n(87)),r=g(n(81)),i=g(n(83)),s=g(n(88)),l=g(n(89)),d=g(n(490)),u=g(n(23)),c=n(0),p=g(c),h=n(55),f=n(1181),m=n(843),E=n(839),S=n(884),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),v=g(n(845));function g(e){return e&&e.__esModule?e:{default:e}}var T={setMobileSignatureMethod:u.default.func,savePhoneNumber:u.default.func,sendPhoneNumber:u.default.func,smMobileSignLoading:u.default.func,openAddressBook:u.default.func,locale:u.default.object,phoneNumber:u.default.string};(t.SignatureManagerSMS=(0,h.connect)(function(e){return(0,d.default)({},e.im.modeSignature,{locale:(0,m.getSignatureManagerLocale)(e).sms,phoneNumber:e.im.phoneNumber})},{smMobileSignLoading:_.smMobileSignLoading,sendPhoneNumber:_.sendPhoneNumber,setMobileSignatureMethod:_.setMobileSignatureMethod,savePhoneNumber:_.savePhoneNumber})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={enableSendButton:!1},n.send=n.send.bind(n),n.savePhoneNumber=n.savePhoneNumber.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(E.MODE_TYPES.SM_SMS)}},{key:"savePhoneNumber",value:function(e){var t=this.props.savePhoneNumber;t(e.target.value.trim())}},{key:"send",value:function(){var e=this.props,t=e.sendPhoneNumber;(0,e.smMobileSignLoading)(),t()}},{key:"checkIfInputIsValid",value:function(e,t){var n=this;setTimeout(function(){n.setState({enableSendButton:t&&t.trim().length&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.phoneNumber,a=e.openAddressBook,o=this.state.enableSendButton;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("p",{className:"sign-m-body-text"},t.text),p.default.createElement("div",{className:"sign-m-container"},p.default.createElement("div",{className:"sign-m__input-block"},p.default.createElement(f.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.savePhoneNumber,validations:[{rule:"isPhone"}],handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:a,ref:this.setReference,validate:!0,autoFocus:!0,dataTest:v.default.inputs.smsInput}),p.default.createElement(S.BtnPrimary,{disabled:!o,onClick:this.send,dataTest:v.default.buttons.send},t.sendButton)),p.default.createElement("div",{className:"sign-m-container-inner"},p.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},p.default.createElement("img",{src:E.IMAGES.SM_SMS,alt:""})),p.default.createElement("div",{className:"sign-m-container__cell"},p.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),p.default.createElement("ol",{className:"sign-m__list-number"},this.renderList(t))))))}}]),t}(c.Component))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerEmail=void 0;var a,o=g(n(87)),r=g(n(81)),i=g(n(83)),s=g(n(88)),l=g(n(89)),d=g(n(490)),u=g(n(23)),c=n(0),p=g(c),h=n(55),f=n(1181),m=n(843),E=n(839),S=n(884),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),v=g(n(845));function g(e){return e&&e.__esModule?e:{default:e}}var T={saveEmail:u.default.func,setMobileSignatureMethod:u.default.func,smMobileSignLoading:u.default.func,sendEmail:u.default.func,openAddressBook:u.default.func,locale:u.default.object,email:u.default.string};(t.SignatureManagerEmail=(0,h.connect)(function(e){return(0,d.default)({},e.im.modeSignature,{locale:(0,m.getSignatureManagerLocale)(e).email,email:e.im.email})},{smMobileSignLoading:_.smMobileSignLoading,sendEmail:_.sendEmail,setMobileSignatureMethod:_.setMobileSignatureMethod,saveEmail:_.saveEmail})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={enableSendButton:!1},n.send=n.send.bind(n),n.saveEmail=n.saveEmail.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(E.MODE_TYPES.SM_EMAIL)}},{key:"saveEmail",value:function(e){var t=this.props.saveEmail;t(e.target.value.trim())}},{key:"send",value:function(){var e=this.props,t=e.smMobileSignLoading,n=e.sendEmail;t(),n()}},{key:"checkIfInputIsValid",value:function(e,t){var n=this;setTimeout(function(){n.setState({enableSendButton:t&&t.trim().length>0&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.email,a=e.openAddressBook,o=this.state.enableSendButton;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("p",{className:"sign-m-body-text"},t.text),p.default.createElement("div",{className:"sign-m-container"},p.default.createElement("div",{className:"sign-m__input-block"},p.default.createElement(f.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.saveEmail,validations:[{rule:"isEmail"}],handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:a,ref:this.setReference,validate:!0,autoFocus:!0,dataTest:v.default.inputs.emailInput}),p.default.createElement(S.BtnPrimary,{disabled:!o,onClick:this.send,dataTest:v.default.buttons.send},t.sendButton)),p.default.createElement("div",{className:"sign-m-container-inner"},p.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},p.default.createElement("img",{src:E.IMAGES.SM_EMAIL,alt:""})),p.default.createElement("div",{className:"sign-m-container__cell"},p.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),p.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(c.Component))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=E(n(87)),i=E(n(81)),s=E(n(83)),l=E(n(88)),d=E(n(89)),u=E(n(23)),c=n(0),p=E(c),h=E(n(1433)),f=E(n(1434)),m=E(n(845));function E(e){return e&&e.__esModule?e:{default:e}}var S=(o=a=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.handlePreviewOptionSelection)(1)}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.originalImage,a=e.editedImage,o=e.selectedOption,r=e.handlePreviewOptionSelection;return p.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},p.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},p.default.createElement("div",{className:"sign-m-upload-doc-area__title"},t.title),p.default.createElement("div",{className:"sign-m-upload-doc-container"},p.default.createElement("div",{className:"sign-m-upload-doc-container__body"},p.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},p.default.createElement("div",{"data-label-text":t.originalImageLabel,className:"sign-m-upload-example"},p.default.createElement("div",{className:"sign-m-upload-doc__img"},p.default.createElement(h.default,{src:n})))),p.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},p.default.createElement("div",{"data-label-text":t.editedImageLabel,className:"sign-m-upload-example"},p.default.createElement("div",{className:"sign-m-upload-doc__img"},p.default.createElement(h.default,{src:a})))))),p.default.createElement("div",{className:"sign-m-upload-doc-area__radio-block"},p.default.createElement(f.default,{dataTest:m.default.buttons.previewSaveAndUse,isSelected:1===o,text:t.list.saveAndUse,onClick:function(){return r(1)}}),p.default.createElement(f.default,{dataTest:m.default.buttons.previewNeedClean,isSelected:2===o,text:t.list.needClean,onClick:function(){return r(2)}}),p.default.createElement(f.default,{dataTest:m.default.buttons.previewCleanManually,isSelected:3===o,text:t.list.cleanManually,onClick:function(){return r(3)}}))))}}]),t}(c.Component),a.propTypes={locale:u.default.object.isRequired,handlePreviewOptionSelection:u.default.func.isRequired,selectedOption:u.default.number.isRequired,originalImage:u.default.string,editedImage:u.default.string},o);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=h(n(23)),d=n(0),u=h(d),c=n(876),p=h(n(1170));function h(e){return e&&e.__esModule?e:{default:e}}var f=200,m=266,E={src:l.default.string},S=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.state={image:null},e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.src;if(t){var n={dataUri:t,width:m,height:f};(0,c.resizeToFit)(n).then(function(e){return(0,c.base64ToImage)(e.resizedImage)}).then(function(t){return e.setState({image:t})})}}},{key:"render",value:function(){var e=this.state.image,t={width:m+"px",height:f+"px",display:"flex",margin:"auto",justifyContent:"center",alignItems:"center"};return u.default.createElement("div",{style:t},u.default.createElement(p.default,{image:e}))}}]),t}(d.Component);t.default=S,S.propTypes=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(23)),o=i(n(0)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.isSelected,n=e.text,a=e.dataTest,i=e.onClick,s=(0,r.default)("radioWrap radio-label-right radio-label--inline-block",{checked:t});return o.default.createElement("div",{className:s,onClick:i},o.default.createElement("div",{className:"radio","data-test":a}),o.default.createElement("span",{className:"radio-label"},n))};s.propTypes={isSelected:a.default.bool.isRequired,text:a.default.string.isRequired,dataTest:a.default.string.isRequired,onClick:a.default.func.isRequired},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(87)),o=h(n(81)),r=h(n(83)),i=h(n(88)),s=h(n(89)),l=h(n(23)),d=n(0),u=h(d),c=n(867),p=h(n(845));function h(e){return e&&e.__esModule?e:{default:e}}var f={onButtonClick:l.default.func,backButtonText:l.default.string},m=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return u.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},u.default.createElement("div",{className:"sign-m-footer__left"},u.default.createElement(c.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t,dataTest:p.default.buttons.back},n)))}}]),t}(d.Component);t.default=m,m.propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerDrawWithSvg=t.SignatureManagerDraw=void 0;var a=r(n(1437)),o=r(n(1440));function r(e){return e&&e.__esModule?e:{default:e}}t.SignatureManagerDraw=a.default,t.SignatureManagerDrawWithSvg=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=T(n(490)),r=T(n(180)),i=T(n(87)),s=T(n(81)),l=T(n(88)),d=T(n(83)),u=T(n(89)),c=T(n(23)),p=n(0),h=T(p),f=n(55),m=n(1179),E=T(n(1182)),S=T(n(1439)),_=n(843),v=T(n(1185)),g=n(837);function T(e){return e&&e.__esModule?e:{default:e}}var b={handleSaveAndUse:c.default.func,smSaveSignature:c.default.func,drawConfig:c.default.object,signature:c.default.object,locale:c.default.object},y=(0,f.connect)(function(e){return{drawConfig:e.im.drawConfig,locale:(0,_.getSignatureManagerLocale)(e),signature:e.im.signature}},{smSaveSignature:g.smSaveSignature})(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.resizeCanvas=function(e){var t="object"===(void 0===e?"undefined":(0,r.default)(e))?300:0,a=n.state,o=a.width,i=a.height,s=n.drawWrapper,l=s.offsetWidth,d=s.offsetHeight;!n.draw||o===l&&i===d||n.draw.sDraw.clear(),setTimeout(function(){o===l&&i===d||n.setState({width:l,height:d})},t)},n.hideToolbar=function(){n.setState({showToolbar:!1})},n.showToolbar=function(){n.setState({showToolbar:!0})},n.onDrawUpdate=function(){n.draw&&(n.updateCurves(),n.setState({canUndo:n.draw.sDraw.canUndo(),canRedo:n.draw.sDraw.canRedo()}))},n.undo=function(){n.draw&&n.draw.sDraw.undo()},n.redo=function(){n.draw&&n.draw.sDraw.redo()},n.clear=function(){n.draw&&(n.draw.sDraw.clear(),n.updateCurves())},n.setColor=function(e){n.draw&&n.draw.sDraw.setColor(e)},n.setLineWidth=function(e){n.draw&&n.draw.sDraw.setLineWidth(e)},n.updateCurves=function(){var e=n.draw.sDraw.getCurves(),t=n.draw.sDraw.getDrawConfig();n.props.smSaveSignature(e,t)},n.setDrawReference=function(e){n.draw=e},n.setDrawWrapperReference=function(e){n.drawWrapper=e},n.storeDrawNavMobileRef=function(e){n.drawNavMobileRef=e},n.getDrawNavMobileWidth=function(){return n.drawNavMobileRef?n.drawNavMobileRef.offsetWidth:void 0},n.state={width:0,height:0,canUndo:!1,canRedo:!1,showToolbar:!0},n.orientationEndListener=null,n.signature=null,n}return(0,u.default)(t,e),(0,d.default)(t,null,[{key:"touchmoveHandler",value:function(e){e.preventDefault()}}]),(0,d.default)(t,[{key:"initDrawConfigColor",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=n.curves,r=void 0===a?[]:a;r.length>0&&t.color!==r[0].color&&this.props.smSaveSignature(n,(0,o.default)({},t,{color:r[0].color}))}},{key:"componentDidMount",value:function(){this.initDrawConfigColor(),this.resizeCanvas(!0),document.addEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(this.orientationEndListener=new S.default(this.showToolbar),window.addEventListener("resize",this.resizeCanvas),window.addEventListener("orientationchange",this.hideToolbar))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(window.removeEventListener("resize",this.resizeCanvas),window.removeEventListener("orientationchange",this.hideToolbar)),this.orientationEndListener&&this.orientationEndListener.removeEventListener()}},{key:"renderCanvas",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=e.locale,o=this.state,r=o.width,i=o.height,s=o.showToolbar,l=this.getDrawNavMobileWidth();if(r&&i){var d=[h.default.createElement(m.SignatureDrawComponent,{key:"SignatureDrawComponent",width:r,height:i,ref:this.setDrawReference,updateDrawElement:this.onDrawUpdate,drawConfig:t,curves:n.curves,drawNavMobileWidth:l,canDraw:!0})];return s&&d.push(h.default.createElement(v.default,{key:"SignatureManagerDrawNavMobile",handleSetColor:this.setColor,handleSetLineWidth:this.setLineWidth,handleClear:this.clear,handleSaveAndUse:this.props.handleSaveAndUse,doneButtonText:a.draw.doneButton,backButtonText:a.backButton,drawConfig:t,isDisabled:!(n.curves&&n.curves.length),storeDrawNavMobileRef:this.storeDrawNavMobileRef})),d}return null}},{key:"render",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=e.locale,o=this.state,r=o.canUndo,i=o.canRedo,s=this.draw?this.draw.sDraw.getCurves():n,l=!(s.curves&&s.curves.length);return h.default.createElement(E.default,{canUndo:r,canRedo:i,isDisabled:l,drawConfig:t,locale:a.draw,handleUndo:this.undo,handleRedo:this.redo,handleClear:this.clear,handleSetColor:this.setColor,handleSetLineWidth:this.setLineWidth,setDrawWrapperReference:this.setDrawWrapperReference},this.renderCanvas())}}]),t}(p.Component))||a;t.default=y,y.propTypes=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadNavBtn=void 0;var a=m(n(490)),o=m(n(449)),r=m(n(901)),i=m(n(87)),s=m(n(81)),l=m(n(83)),d=m(n(88)),u=m(n(89)),c=m(n(23)),p=n(0),h=m(p),f=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var E={disable:c.default.bool,children:c.default.string,addClass:c.default.string,classNameIcon:c.default.string,onClick:c.default.func},S=t.UploadNavBtn=function(e){function t(){var e,n,a,o;(0,s.default)(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.onClick=function(){var e=a.props,t=e.disable,n=e.onClick;!t&&n&&n()},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.addClass,i=t.classNameIcon,s=t.disable,l=t.children,d=(0,r.default)(t,["addClass","classNameIcon","disable","children"]),u=(0,f.default)((0,o.default)({i:!0},i,!0)),c=(0,f.default)((e={"sign-m-upload-nav__btn":!0},(0,o.default)(e,n,n),(0,o.default)(e,"disabled",s),e)),p={color:s?"rgba(68, 68, 68, 0.6)":"initial"};return h.default.createElement("div",(0,a.default)({},d,{className:c,onClick:this.onClick}),h.default.createElement("i",{className:u}),h.default.createElement("span",{style:p},l))}}]),t}(p.Component);S.propTypes=E,S.defaultProps={addClass:"",classNameIcon:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(81)),o=r(n(83));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t){var n=this;(0,a.default)(this,e),this.changeOrientation=function(){var e=void 0,t=void 0,a=void 0;n.lastEnd&&n.lastEnd(!1),n.lastEnd=n.end,n.interval=setInterval(function(){window.innerWidth===e&&window.innerHeight===t?++a===n.config.noChangeCountToEnd&&n.end(!0):(e=window.innerWidth,t=window.innerHeight,a=0)}),n.timeout=setTimeout(function(){return n.end(!0)},n.config.noEndTimeout)},this.config={noChangeCountToEnd:100,noEndTimeout:1e3},this.callback=t,this.lastEnd=null,this.interval=null,this.timeout=null,"undefined"!=typeof window&&window.addEventListener("orientationchange",this.changeOrientation)}return(0,o.default)(e,[{key:"end",value:function(e){clearInterval(this.interval),clearTimeout(this.timeout),this.interval=null,this.timeout=null,e&&this.callback()}},{key:"removeEventListener",value:function(){"undefined"!=typeof window&&window.removeEventListener("orientationchange",this.changeOrientation)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(n(653)),o=E(n(490)),r=E(n(1441)),i=n(0),s=E(i),l=E(n(23)),d=n(55),u=n(843),c=n(875),p=n(837),h=E(n(1448)),f=E(n(1182)),m=E(n(1185));function E(e){return e&&e.__esModule?e:{default:e}}var S=20,_={handleSaveAndUse:l.default.func.isRequired};function v(e){var t=(0,d.useDispatch)(),n=(0,d.useSelector)(u.getSignatureManagerLocale),l=(0,d.useSelector)(function(e){return e.im.drawConfig}),E=(0,i.useState)({width:0,height:0}),_=(0,r.default)(E,2),v=_[0],g=_[1],T=(0,i.useState)([]),b=(0,r.default)(T,2),y=b[0],C=b[1],O=(0,i.useState)(-1),M=(0,r.default)(O,2),A=M[0],D=M[1],I=(0,i.useState)(l.color),w=(0,r.default)(I,2),R=w[0],P=w[1],N=(0,i.useState)(l.lineWidth),L=(0,r.default)(N,2),k=L[0],B=L[1],x=A>-1,F=A<y.length-1,H=(0,i.useRef)(null),G=(0,i.useRef)(null),U=(0,i.useCallback)(function(e){e.length>S?e.shift():D(A+1),C(e)},[A]),Y=(0,i.useCallback)(function(){setTimeout(function(){if(H.current){var e=H.current,t=e.offsetWidth,n=e.offsetHeight;g({width:t,height:n})}},0)},[g]);(0,i.useEffect)(function(){return Y(),window.addEventListener("orientationchange",Y),function(){window.removeEventListener("orientationchange",Y)}},[]);var W=(0,i.useCallback)(function(){return k/10},[k]),K=(0,i.useCallback)(function(){return k/2},[k]),j=(0,i.useCallback)(function(){return!(!G.current||!G.current.isEmpty())},[G.current]),V=(0,i.useCallback)(function(){if(j())t((0,p.smSaveSignature)({}));else{var e=(0,c.getTrimmedSVG)({sigCanvasRef:G,maxWidth:K()});t((0,p.smSaveSignature)(e)),t((0,p.smSetDrawConfig)((0,o.default)({},l,{color:R,lineWidth:k})))}},[G.current,l,R,k]),X=(0,i.useCallback)(function(e){setTimeout(function(){G.current.fromData([].concat((0,a.default)(e))),V()},0)},[G.current,V]),z=(0,i.useCallback)(function(){var e=[].concat((0,a.default)(y),[{curves:[],color:R,lineWidth:k}]);U(e),G.current.clear(),V()},[y,A]),q=(0,i.useCallback)(function(e){var t=(y[A]&&y[A].curves||[]).map(function(t){return{color:"#"+e,points:t.points}}),n=[].concat((0,a.default)(y),[{curves:t,color:e,lineWidth:k}]);U(n),P(e),X(t)},[y,A]),$=(0,i.useCallback)(function(e){var t=y[A]&&y[A].curves||[],n=[].concat((0,a.default)(y),[{curves:t,color:R,lineWidth:e}]);U(n),B(e),X(t)},[y,A]),Z=(0,i.useCallback)(function(){if(x){var e=A-1,t=y[e]||{};t.curves?(P(t.color),B(t.lineWidth),X(t.curves)):(P(l.color),B(l.lineWidth),G.current.clear(),V()),D(e)}},[x,y,A,l]),Q=(0,i.useCallback)(function(){if(F){var e=A+1,t=y[e];P(t.color),B(t.lineWidth),X(t.curves),D(e)}},[F,y,A]),J=(0,i.useCallback)(function(){var e=G.current.toData(),t=[].concat((0,a.default)(e)),n=[].concat((0,a.default)(y),[{curves:t,color:R,lineWidth:k}]);U(n),V()},[y,A]),ee=j();return s.default.createElement(f.default,{canUndo:x,canRedo:F,isDisabled:ee,drawConfig:(0,o.default)({},l,{color:R,lineWidth:k}),locale:n.draw,handleUndo:Z,handleRedo:Q,handleClear:z,handleSetColor:q,handleSetLineWidth:$,setDrawWrapperReference:H},s.default.createElement(h.default,{canvasProps:{width:v.width,height:v.height},penColor:"#"+R,minWidth:W(),maxWidth:K(),onEnd:J,ref:G}),s.default.createElement(m.default,{handleClear:z,handleSetColor:q,handleSetLineWidth:$,handleSaveAndUse:e.handleSaveAndUse,doneButtonText:n.draw.doneButton,backButtonText:n.backButton,drawConfig:l,isDisabled:ee}))}v.propTypes=_,t.default=v},function(e,t,n){"use strict";t.__esModule=!0;var a=r(n(1442)),o=r(n(1445));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var s,l=(0,o.default)(e);!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(1443),__esModule:!0}},function(e,t,n){n(330),n(284),e.exports=n(1444)},function(e,t,n){var a=n(656),o=n(97)("iterator"),r=n(164);e.exports=n(61).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||r.hasOwnProperty(a(t))}},function(e,t,n){e.exports={default:n(1446),__esModule:!0}},function(e,t,n){n(330),n(284),e.exports=n(1447)},function(e,t,n){var a=n(129),o=n(655);e.exports=n(61).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=S(n(490)),i=S(n(321)),s=S(n(901)),l=S(n(87)),d=S(n(81)),u=S(n(83)),c=S(n(88)),p=S(n(89)),h=S(n(23)),f=n(0),m=S(f),E=S(n(1449));function S(e){return e&&e.__esModule?e:{default:e}}var _=(o=a=function(e){function t(){var e,n,a,o;(0,d.default)(this,t);for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];return n=a=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),a._sigPad=null,a._excludeOurProps=function(){var e=a.props;e.canvasProps,e.clearOnResize;return(0,s.default)(e,["canvasProps","clearOnResize"])},a.getCanvas=function(){return a._canvas},a.getSignaturePad=function(){return a._sigPad},a._checkClearOnResize=function(){a.props.clearOnResize&&a._resizeCanvas()},a._resizeCanvas=function(){var e=a.props.canvasProps||{},t=e.width,n=e.height;if(!t||!n){var o=a._canvas,r=Math.max(window.devicePixelRatio||1,1);t||(o.width=o.offsetWidth*r),n||(o.height=o.offsetHeight*r),o.getContext("2d").scale(r,r),a.clear()}},a.on=function(){return window.addEventListener("resize",a._checkClearOnResize),a._sigPad.on()},a.off=function(){return window.removeEventListener("resize",a._checkClearOnResize),a._sigPad.off()},a.clear=function(){return a._sigPad.clear()},a.isEmpty=function(){return a._sigPad.isEmpty()},a.fromDataURL=function(e,t){return a._sigPad.fromDataURL(e,t)},a.toDataURL=function(e,t){return a._sigPad.toDataURL(e,t)},a.fromData=function(e){return a._sigPad.fromData(e)},a.toData=function(){return a._sigPad.toData()},o=n,(0,c.default)(a,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this._sigPad=new E.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){(0,i.default)(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var e=this,t=this.props.canvasProps;return m.default.createElement("canvas",(0,r.default)({ref:function(t){e._canvas=t}},t))}}]),t}(f.Component),a.propTypes={velocityFilterWeight:h.default.number,minWidth:h.default.number,maxWidth:h.default.number,minDistance:h.default.number,dotSize:h.default.oneOfType([h.default.number,h.default.func]),penColor:h.default.string,throttle:h.default.number,onEnd:h.default.func,onBegin:h.default.func,canvasProps:h.default.object,clearOnResize:h.default.bool},a.defaultProps={clearOnResize:!0},o);t.default=_},function(e,t,n){"use strict";
/*!
 * Signature Pad v3.0.0-beta.3 | https://github.com/szimek/signature_pad
 * (c) 2018 Szymon Nowak | Released under the MIT license
 */var a=function(){function e(e,t,n){this.x=e,this.y=t,this.time=n||Date.now()}return e.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},e.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0},e}(),o=function(){function e(e,t,n,a,o,r){this.startPoint=e,this.control2=t,this.control1=n,this.endPoint=a,this.startWidth=o,this.endWidth=r}return e.fromPoints=function(t,n){var a=this.calculateControlPoints(t[0],t[1],t[2]).c2,o=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new e(t[1],a,o,t[2],n.start,n.end)},e.calculateControlPoints=function(e,t,n){var o=e.x-t.x,r=e.y-t.y,i=t.x-n.x,s=t.y-n.y,l=(e.x+t.x)/2,d=(e.y+t.y)/2,u=(t.x+n.x)/2,c=(t.y+n.y)/2,p=Math.sqrt(o*o+r*r),h=Math.sqrt(i*i+s*s),f=h/(p+h),m=u+(l-u)*f,E=c+(d-c)*f,S=t.x-m,_=t.y-E;return{c1:new a(l+S,d+_),c2:new a(u+S,c+_)}},e.prototype.length=function(){for(var e,t,n=0,a=0;a<=10;a+=1){var o=a/10,r=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),i=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var s=r-e,l=i-t;n+=Math.sqrt(s*s+l*l)}e=r,t=i}return n},e.prototype.point=function(e,t,n,a,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*a*(1-e)*e*e+o*e*e*e},e}();var r=function(){function e(t,n){void 0===n&&(n={});var a=this;this.canvas=t,this.options=n,this._handleMouseDown=function(e){1===e.which&&(a._mouseButtonDown=!0,a._strokeBegin(e))},this._handleMouseMove=function(e){a._mouseButtonDown&&a._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&a._mouseButtonDown&&(a._mouseButtonDown=!1,a._strokeEnd(e))},this._handleTouchStart=function(e){if(e.preventDefault(),1===e.targetTouches.length){var t=e.changedTouches[0];a._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];a._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){if(e.target===a.canvas){e.preventDefault();var t=e.changedTouches[0];a._strokeEnd(t)}},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t){void 0===t&&(t=250);var n,a,o,r=0,i=null,s=function(){r=Date.now(),i=null,n=e.apply(a,o),i||(a=null,o=[])};return function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var u=Date.now(),c=t-(u-r);return a=this,o=l,c<=0||c>t?(i&&(clearTimeout(i),i=null),r=u,n=e.apply(a,o),i||(a=null,o=[])):i||(i=window.setTimeout(s,c)),n}}(e.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=e.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._ctx=t.getContext("2d"),this.clear(),this.on()}return e.prototype.clear=function(){var e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},e.prototype.fromDataURL=function(e,t,n){var a=this;void 0===t&&(t={});var o=new Image,r=t.ratio||window.devicePixelRatio||1,i=t.width||this.canvas.width/r,s=t.height||this.canvas.height/r;this._reset(),o.onload=function(){a._ctx.drawImage(o,0,0,i,s),n&&n()},o.onerror=function(e){n&&n(e)},o.src=e,this._isEmpty=!1},e.prototype.toDataURL=function(e,t){switch(void 0===e&&(e="image/png"),e){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(e,t)}},e.prototype.on=function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())},e.prototype.off=function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e){var n=e.color,a=e.curve;return t._drawCurve({color:n,curve:a})},function(e){var n=e.color,a=e.point;return t._drawDot({color:n,point:a})}),this._data=e},e.prototype.toData=function(){return this._data},e.prototype._strokeBegin=function(e){var t={color:this.penColor,points:[]};this._data.push(t),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},e.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,a=this._createPoint(t,n),o=this._data[this._data.length-1],r=o.points,i=r.length>0&&r[r.length-1],s=!!i&&a.distanceTo(i)<=this.minDistance,l=o.color;if(!i||!i||!s){var d=this._addPoint(a);i?d&&this._drawCurve({color:l,curve:d}):this._drawDot({color:l,point:a}),r.push({time:a.time,x:a.x,y:a.y})}},e.prototype._strokeEnd=function(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)},e.prototype._handlePointerEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)},e.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},e.prototype._handleTouchEvents=function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)},e.prototype._reset=function(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},e.prototype._createPoint=function(e,t){var n=this.canvas.getBoundingClientRect();return new a(e-n.left,t-n.top,(new Date).getTime())},e.prototype._addPoint=function(e){var t=this._lastPoints;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveWidths(t[1],t[2]),a=o.fromPoints(t,n);return t.shift(),a}return null},e.prototype._calculateCurveWidths=function(e,t){var n=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(n),o={end:a,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=a,o},e.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},e.prototype._drawCurveSegment=function(e,t,n){var a=this._ctx;a.moveTo(e,t),a.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},e.prototype._drawCurve=function(e){var t=e.color,n=e.curve,a=this._ctx,o=n.endWidth-n.startWidth,r=2*Math.floor(n.length());a.beginPath(),a.fillStyle=t;for(var i=0;i<r;i+=1){var s=i/r,l=s*s,d=l*s,u=1-s,c=u*u,p=c*u,h=p*n.startPoint.x;h+=3*c*s*n.control1.x,h+=3*u*l*n.control2.x,h+=d*n.endPoint.x;var f=p*n.startPoint.y;f+=3*c*s*n.control1.y,f+=3*u*l*n.control2.y,f+=d*n.endPoint.y;var m=n.startWidth+d*o;this._drawCurveSegment(h,f,m)}a.closePath(),a.fill()},e.prototype._drawDot=function(e){var t=e.color,n=e.point,a=this._ctx,o="function"==typeof this.dotSize?this.dotSize():this.dotSize;a.beginPath(),this._drawCurveSegment(n.x,n.y,o),a.closePath(),a.fillStyle=t,a.fill()},e.prototype._fromData=function(e,t,n){for(var o=0,r=e;o<r.length;o++){var i=r[o],s=i.color,l=i.points;if(l.length>1)for(var d=0;d<l.length;d+=1){var u=l[d],c=new a(u.x,u.y,u.time);this.penColor=s,0===d&&this._reset();var p=this._addPoint(c);p&&t({color:s,curve:p})}else this._reset(),n({color:s,point:l[0]})}},e.prototype._toSVG=function(){var e=this,t=this._data,n=Math.max(window.devicePixelRatio||1,1),a=this.canvas.width/n,o=this.canvas.height/n,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width",this.canvas.width.toString()),r.setAttribute("height",this.canvas.height.toString()),this._fromData(t,function(e){var t=e.color,n=e.curve,a=document.createElement("path");if(!(isNaN(n.control1.x)||isNaN(n.control1.y)||isNaN(n.control2.x)||isNaN(n.control2.y))){var o="M "+n.startPoint.x.toFixed(3)+","+n.startPoint.y.toFixed(3)+" C "+n.control1.x.toFixed(3)+","+n.control1.y.toFixed(3)+" "+n.control2.x.toFixed(3)+","+n.control2.y.toFixed(3)+" "+n.endPoint.x.toFixed(3)+","+n.endPoint.y.toFixed(3);a.setAttribute("d",o),a.setAttribute("stroke-width",(2.25*n.endWidth).toFixed(3)),a.setAttribute("stroke",t),a.setAttribute("fill","none"),a.setAttribute("stroke-linecap","round"),r.appendChild(a)}},function(t){var n=t.color,a=t.point,o=document.createElement("circle"),i="function"==typeof e.dotSize?e.dotSize():e.dotSize;o.setAttribute("r",i.toString()),o.setAttribute("cx",a.x.toString()),o.setAttribute("cy",a.y.toString()),o.setAttribute("fill",n),r.appendChild(o)});var i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+a+" "+o+'" width="'+a+'" height="'+o+'">',s=r.innerHTML;if(void 0===s){var l=document.createElement("dummy"),d=r.childNodes;l.innerHTML="";for(var u=0;u<d.length;u+=1)l.appendChild(d[u].cloneNode(!0));s=l.innerHTML}return"data:image/svg+xml;base64,"+btoa(i+s+"</svg>")},e}();e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterDraw=void 0;var a,o=v(n(87)),r=v(n(81)),i=v(n(83)),s=v(n(88)),l=v(n(89)),d=v(n(23)),u=n(0),c=v(u),p=n(55),h=n(884),f=n(867),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),E=n(843),S=n(839),_=v(n(845));function v(e){return e&&e.__esModule?e:{default:e}}var g={handleSaveAndUse:d.default.func,smInitial:d.default.func,smGallery:d.default.func,modeSignature:d.default.object,signature:d.default.object,locale:d.default.object,isSingleUse:d.default.bool},T=t.SignatureManagerFooterDraw=(0,p.connect)(function(e){return{locale:(0,E.getSignatureManagerLocale)(e),modeSignature:e.im.modeSignature,signature:e.im.signature}},{smInitial:m.smInitial,smGallery:m.smGallery})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),p=0;p<l;p++)d[p]=arguments[p];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1)},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0)},a.renderButtons=function(){var e=a.props,t=e.isSingleUse,n=e.locale,o=e.signature,r=!(o.curves&&o.curves.length||o.svg);return t?c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:a.handleSaveAndUseButtonClick,disabled:r,dataTest:_.default.buttons.use},n.draw.useSignature):c.default.createElement(u.Fragment,null,c.default.createElement(f.BtnSecondary,{key:"save",addClass:"g-btn-sm",onClick:a.handleSaveButtonClick,disabled:r,dataTest:_.default.buttons.save},n.draw.saveButton),c.default.createElement(h.BtnPrimary,{key:"saveAndUse",addClass:"g-btn-sm",onClick:a.handleSaveAndUseButtonClick,disabled:r,dataTest:_.default.buttons.saveAndUse},n.draw.saveAndUseButton))},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.modeSignature,n=e.locale;return c.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t.type===S.MODE_TYPES.SM_CURVE_EDIT?this.props.smGallery:this.props.smInitial,dataTest:_.default.buttons.back},n.backButton)),c.default.createElement("div",{className:"sign-m-footer__right"},this.renderButtons()))}}]),t}(u.Component))||a;T.propTypes=g,T.defaultProps={isSingleUse:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterCapture=void 0;var a,o=_(n(87)),r=_(n(81)),i=_(n(83)),s=_(n(88)),l=_(n(89)),d=_(n(23)),u=n(0),c=_(u),p=n(55),h=n(884),f=n(867),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),E=n(843),S=_(n(845));function _(e){return e&&e.__esModule?e:{default:e}}var v={smInitial:d.default.func,takeSnapShot:d.default.func,locale:d.default.object};(t.SignatureManagerFooterCapture=(0,p.connect)(function(e){return{locale:(0,E.getSignatureManagerLocale)(e)}},{smInitial:m.smInitial})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smInitial,n=e.locale,a=e.takeSnapShot;return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t,dataTest:S.default.buttons.back},n.backButton)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:a,dataTest:S.default.buttons.take},n.capture.button)))}}]),t}(u.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(23)),o=s(n(0)),r=n(867),i=s(n(845));function s(e){return e&&e.__esModule?e:{default:e}}var l={smGallery:a.default.func.isRequired,backButtonText:a.default.string.isRequired};function d(e){return o.default.createElement("div",{className:"sign-m-footer"},o.default.createElement("div",{className:"sign-m-footer__left"},o.default.createElement(r.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:e.smGallery,dataTest:i.default.buttons.back},e.backButtonText)))}d.propTypes=l,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=g(n(87)),r=g(n(81)),i=g(n(83)),s=g(n(88)),l=g(n(89)),d=g(n(23)),u=n(0),c=g(u),p=n(55),h=g(n(862)),f=n(884),m=n(867),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(837)),S=n(919),_=n(843),v=g(n(845));function g(e){return e&&e.__esModule?e:{default:e}}var T={onClick:d.default.func.isRequired,smUploader:d.default.func,smCapture:d.default.func,resetEditor:d.default.func,backButtonText:d.default.string,mainButtonText:d.default.string,uploaderType:d.default.string},b=(0,p.connect)(function(e){return{backButtonText:(0,_.getSignatureManagerLocale)(e).backButton,mainButtonText:(0,_.getSignatureManagerLocale)(e).editorPreview.doneButton,uploaderType:e.im.modeSignature.uploaderType}},{smUploader:E.smUploader,smCapture:E.smCapture,resetEditor:h.default.resetEditor})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleBackButtonClick=function(){var e=a.props,t=e.smUploader,n=e.smCapture,o=e.resetEditor;e.uploaderType===S.MODE_TYPES.SM_UPLOADER?t():n(),o()},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mainButtonText,n=e.backButtonText,a=e.onClick;return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick,dataTest:v.default.buttons.back},n)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(f.BtnPrimary,{addClass:"g-btn-sm",onClick:a,dataTest:v.default.buttons.doIt},t)))}}]),t}(u.Component))||a;t.default=b,b.propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(n(653)),o=n(224),r=n(1142),i=n(1143),s=h(n(532)),l=h(n(1149)),d=h(n(1148)),u=h(n(606)),c=n(1043),p=n(1045);function h(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=[p.imageSignature,p.editorManager,i.maskMiddleware,s.default,l.default].concat((0,a.default)(e));return(0,o.compose)(o.applyMiddleware.apply(void 0,(0,a.default)(t)))(o.createStore)((0,o.combineReducers)({signatureEditor:d.default,im:c.im,ws:c.ws,ab:r.ab,locale:u.default}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(23),i=n.n(r),s=n(1325),l=n.n(s),d="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function u(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}function c(e,t){return"application/x-moz-file"===e.type||l()(e,t)}function p(e){e.preventDefault()}var h={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},f={opacity:.5},m={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},E={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function v(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.renderChildren=function(e,t,n,o){return"function"==typeof e?e(S({},a.state,{isDragActive:t,isDragAccept:n,isDragReject:o})):e},a.composeHandlers=a.composeHandlers.bind(a),a.onClick=a.onClick.bind(a),a.onDocumentDrop=a.onDocumentDrop.bind(a),a.onDragEnter=a.onDragEnter.bind(a),a.onDragLeave=a.onDragLeave.bind(a),a.onDragOver=a.onDragOver.bind(a),a.onDragStart=a.onDragStart.bind(a),a.onDrop=a.onDrop.bind(a),a.onFileDialogCancel=a.onFileDialogCancel.bind(a),a.onInputElementClick=a.onInputElementClick.bind(a),a.setRef=a.setRef.bind(a),a.setRefs=a.setRefs.bind(a),a.isFileDialogActive=!1,a.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),_(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",p,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",p),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),this.setState({isDragActive:!0,draggedFiles:u(e)}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&t.node.contains(n)}),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,a=n.onDrop,o=n.onDropAccepted,r=n.onDropRejected,i=n.multiple,s=n.disablePreview,l=n.accept,d=u(e),p=[],h=[];e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,d.forEach(function(e){if(!s)try{e.preview=window.URL.createObjectURL(e)}catch(e){0}c(e,l)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?p.push(e):h.push(e)}),i||h.push.apply(h,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(p.splice(1))),a&&a.call(this,p,h,e),h.length>0&&r&&r.call(this,h,e),p.length>0&&o&&o.call(this,p,e),this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[],acceptedFiles:p,rejectedFiles:h})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?this.open():setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()},300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,a=e.activeClassName,r=e.children,i=e.disabled,s=e.disabledClassName,l=e.inputProps,u=e.multiple,p=e.name,_=e.rejectClassName,g=v(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),T=g.acceptStyle,b=g.activeStyle,y=g.className,C=void 0===y?"":y,O=g.disabledStyle,M=g.rejectStyle,A=g.style,D=v(g,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),I=this.state,w=I.isDragActive,R=I.draggedFiles,P=R.length,N=u||P<=1,L=P>0&&function(e,t){return e.every(function(e){return c(e,t)})}(R,this.props.accept),k=P>0&&(!L||!N),B=!(C||A||b||T||M||O);w&&a&&(C+=" "+a),L&&n&&(C+=" "+n),k&&_&&(C+=" "+_),i&&s&&(C+=" "+s),B&&(b=m,T=(A=E).active,M=h,O=f);var x=S({},A);b&&w&&(x=S({},A,b)),T&&L&&(x=S({},x,T)),M&&k&&(x=S({},x,M)),O&&i&&(x=S({},A,O));var F={accept:t,disabled:i,type:"file",style:{display:"none"},multiple:d&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};p&&p.length&&(F.name=p);D.acceptedFiles,D.preventDropOnDocument,D.disablePreview,D.disableClick,D.onDropAccepted,D.onDropRejected,D.onFileDialogCancel,D.maxSize,D.minSize;var H=v(D,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"]);return o.a.createElement("div",S({className:C,style:x},H,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":i}),this.renderChildren(r,w,L,k),o.a.createElement("input",S({},l,F)))}}]),t}();t.default=g;g.propTypes={accept:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)]),children:i.a.oneOfType([i.a.node,i.a.func]),disableClick:i.a.bool,disabled:i.a.bool,disablePreview:i.a.bool,preventDropOnDocument:i.a.bool,inputProps:i.a.object,multiple:i.a.bool,name:i.a.string,maxSize:i.a.number,minSize:i.a.number,className:i.a.string,activeClassName:i.a.string,acceptClassName:i.a.string,rejectClassName:i.a.string,disabledClassName:i.a.string,style:i.a.object,activeStyle:i.a.object,acceptStyle:i.a.object,rejectStyle:i.a.object,disabledStyle:i.a.object,onClick:i.a.func,onDrop:i.a.func,onDropAccepted:i.a.func,onDropRejected:i.a.func,onDragStart:i.a.func,onDragEnter:i.a.func,onDragOver:i.a.func,onDragLeave:i.a.func,onFileDialogCancel:i.a.func},g.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0}}])]);
//# sourceMappingURL=vendors~managers.696f067c.chunk.js.map